(self.webpackChunkportafolioWeb=self.webpackChunkportafolioWeb||[]).push([[179],{2011:(vt,Se,V)=>{"use strict";V.d(Se,{hO:()=>Ke,xv:()=>ge,Dh:()=>de,GT:()=>Ie,cc:()=>Re,on:()=>W,pX:()=>ae});var d=V(5e3),j=V(127),k=V(5813);vt=V.hmd(vt);const se=["ngOnDestroy"],ae=(ye,Ue,$e,He={})=>new Proxy(ye,{get:(rt,Oe)=>$e.runOutsideAngular(()=>{var ut;if(ye[Oe])return(null===(ut=null==He?void 0:He.spy)||void 0===ut?void 0:ut.get)&&He.spy.get(Oe,ye[Oe]),ye[Oe];if(se.indexOf(Oe)>-1)return()=>{};const Y=Ue.toPromise().then(yt=>{const re=yt&&yt[Oe];return"function"==typeof re?re.bind(yt):re&&re.then?re.then(_e=>$e.run(()=>_e)):$e.run(()=>re)});return new Proxy(()=>{},{get:(yt,re)=>Y[re],apply:(yt,re,_e)=>Y.then(he=>{var ue;const Ve=he&&he(..._e);return(null===(ue=null==He?void 0:He.spy)||void 0===ue?void 0:ue.apply)&&He.spy.apply(Oe,_e,Ve),Ve})})})}),Ie=(ye,Ue)=>{Ue.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(He=>{Object.defineProperty(ye.prototype,He,Object.getOwnPropertyDescriptor($e.prototype||$e,He))})})};class ce{constructor(Ue){return Ue}}const de=new d.OlP("angularfire2.app.options"),ge=new d.OlP("angularfire2.app.name");function W(ye,Ue,$e){const rt="object"==typeof $e&&$e||{};rt.name=rt.name||"string"==typeof $e&&$e||"[DEFAULT]";const ut=j.Z.apps.filter(Y=>Y&&Y.name===rt.name)[0]||Ue.runOutsideAngular(()=>j.Z.initializeApp(ye,rt));try{JSON.stringify(ye)!==JSON.stringify(ut.options)&&K("error",`${ut.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Y){}return new ce(ut)}const K=(ye,...Ue)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ye](...Ue)},ie={provide:ce,useFactory:W,deps:[de,d.R0b,[new d.FiY,ge]]};let Ke=(()=>{class ye{constructor($e){j.Z.registerVersion("angularfire",k.q4.full,"core"),j.Z.registerVersion("angularfire",k.q4.full,"app-compat"),j.Z.registerVersion("angular",d.q4F.full,$e.toString())}static initializeApp($e,He){return{ngModule:ye,providers:[{provide:de,useValue:$e},{provide:ge,useValue:He}]}}}return ye.\u0275fac=function($e){return new($e||ye)(d.LFG(d.Lbi))},ye.\u0275mod=d.oAB({type:ye}),ye.\u0275inj=d.cJS({providers:[ie]}),ye})();function Re(ye,Ue,$e,He,rt){const[,Oe,ut]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===ye)||[];if(Oe)return function Le(ye,Ue){try{return ye.toString()===Ue.toString()}catch($e){return ye===Ue}}(rt,ut)||(ve("error",`${Ue} was already initialized on the ${$e} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:rt,was:ut})),Oe;{const Y=He();return globalThis.\u0275AngularfireInstanceCache.push([ye,Y,rt]),Y}}const je=!!vt.hot,ve=(ye,...Ue)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ye](...Ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(vt,Se,V)=>{"use strict";V.d(Se,{q4:()=>ju,iC:()=>Wa,HU:()=>pa,vb:()=>Dh,JM:()=>Ih,u3:()=>jl});var d=V(5e3),j=V(5867),k=V(5861),se=V(9681),ae=V(2090),Ie=V(4859),ce=V(1877);const de="@firebase/installations",K="w:0.5.8",ie="FIS_v2",ye=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ue(D){return D instanceof ae.ZR&&D.code.includes("request-failed")}function $e({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function He(D){return{token:D.token,requestStatus:2,expiresIn:_e(D.expiresIn),creationTime:Date.now()}}function rt(D,T){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,k.Z)(function*(D,T){const H=(yield T.json()).error;return ye.create("request-failed",{requestName:D,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function ut({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Y(D,{refreshToken:T}){const O=ut(D);return O.append("Authorization",function he(D){return`${ie} ${D}`}(T)),O}function yt(D){return re.apply(this,arguments)}function re(){return(re=(0,k.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function _e(D){return Number(D.replace("s","000"))}function ue(D,T){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:O}){const H=$e(D),ee=ut(D),ne=T.getImmediate({optional:!0});if(ne){const kt=yield ne.getHeartbeatsHeader();kt&&ee.append("x-firebase-client",kt)}const ot={method:"POST",headers:ee,body:JSON.stringify({fid:O,authVersion:ie,appId:D.appId,sdkVersion:K})},Dt=yield yt(()=>fetch(H,ot));if(Dt.ok){const kt=yield Dt.json();return{fid:kt.fid||O,registrationStatus:2,refreshToken:kt.refreshToken,authToken:He(kt.authToken)}}throw yield rt("Create Installation",Dt)})).apply(this,arguments)}function fe(D){return new Promise(T=>{setTimeout(T,D)})}const pn=/^[cdef][\w-]{21}$/;function gt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function lt(D){return function Pt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return pn.test(O)?O:""}catch(D){return""}}function nn(D){return`${D.appName}!${D.appId}`}const wn=new Map;function lr(D,T){const O=nn(D);_r(O,T),function In(D,T){const O=function Dn(){return!an&&"BroadcastChannel"in self&&(an=new BroadcastChannel("[Firebase] FID Change"),an.onmessage=D=>{_r(D.data.key,D.data.fid)}),an}();O&&O.postMessage({key:D,fid:T}),function li(){0===wn.size&&an&&(an.close(),an=null)}()}(O,T)}function _r(D,T){const O=wn.get(D);if(O)for(const H of O)H(T)}let an=null;const ke="firebase-installations-store";let bn=null;function rn(){return bn||(bn=(0,ae.X3)("firebase-installations-database",1,(D,T)=>{0===T&&D.createObjectStore(ke)})),bn}function ct(D,T){return kn.apply(this,arguments)}function kn(){return(kn=(0,k.Z)(function*(D,T){const O=nn(D),ee=(yield rn()).transaction(ke,"readwrite"),ne=ee.objectStore(ke),Fe=yield ne.get(O);return yield ne.put(T,O),yield ee.complete,(!Fe||Fe.fid!==T.fid)&&lr(D,T.fid),T})).apply(this,arguments)}function gn(D){return un.apply(this,arguments)}function un(){return(un=(0,k.Z)(function*(D){const T=nn(D),H=(yield rn()).transaction(ke,"readwrite");yield H.objectStore(ke).delete(T),yield H.complete})).apply(this,arguments)}function Vn(D,T){return ci.apply(this,arguments)}function ci(){return(ci=(0,k.Z)(function*(D,T){const O=nn(D),ee=(yield rn()).transaction(ke,"readwrite"),ne=ee.objectStore(ke),Fe=yield ne.get(O),ot=T(Fe);return void 0===ot?yield ne.delete(O):yield ne.put(ot,O),yield ee.complete,ot&&(!Fe||Fe.fid!==ot.fid)&&lr(D,ot.fid),ot})).apply(this,arguments)}function wt(D){return cn.apply(this,arguments)}function cn(){return(cn=(0,k.Z)(function*(D){let T;const O=yield Vn(D.appConfig,H=>{const ee=er(H),ne=qr(D,ee);return T=ne.registrationPromise,ne.installationEntry});return""===O.fid?{installationEntry:yield T}:{installationEntry:O,registrationPromise:T}})).apply(this,arguments)}function er(D){return Ct(D||{fid:gt(),registrationStatus:0})}function qr(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ye.create("app-offline"))};const O={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},H=function It(D,T){return Xe.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:H}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:_t(D)}:{installationEntry:T}}function Xe(){return(Xe=(0,k.Z)(function*(D,T){try{const O=yield ue(D,T);return ct(D.appConfig,O)}catch(O){throw Ue(O)&&409===O.customData.serverCode?yield gn(D.appConfig):yield ct(D.appConfig,{fid:T.fid,registrationStatus:0}),O}})).apply(this,arguments)}function _t(D){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,k.Z)(function*(D){let T=yield Gt(D.appConfig);for(;1===T.registrationStatus;)yield fe(100),T=yield Gt(D.appConfig);if(0===T.registrationStatus){const{installationEntry:O,registrationPromise:H}=yield wt(D);return H||O}return T})).apply(this,arguments)}function Gt(D){return Vn(D,T=>{if(!T)throw ye.create("installation-not-found");return Ct(T)})}function Ct(D){return function Xr(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function tr(D,T){return dn.apply(this,arguments)}function dn(){return(dn=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:T},O){const H=dt(D,O),ee=Y(D,O),ne=T.getImmediate({optional:!0});if(ne){const kt=yield ne.getHeartbeatsHeader();kt&&ee.append("x-firebase-client",kt)}const ot={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:K,appId:D.appId}})},Dt=yield yt(()=>fetch(H,ot));if(Dt.ok)return He(yield Dt.json());throw yield rt("Generate Auth Token",Dt)})).apply(this,arguments)}function dt(D,{fid:T}){return`${$e(D)}/${T}/authTokens:generate`}function Hn(D){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,k.Z)(function*(D,T=!1){let O;const H=yield Vn(D.appConfig,ne=>{if(!Nt(ne))throw ye.create("not-registered");const Fe=ne.authToken;if(!T&&Z(Fe))return ne;if(1===Fe.requestStatus)return O=Te(D,T),ne;{if(!navigator.onLine)throw ye.create("app-offline");const ot=Q(ne);return O=Et(D,ot),ot}});return O?yield O:H.authToken})).apply(this,arguments)}function Te(D,T){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,k.Z)(function*(D,T){let O=yield it(D.appConfig);for(;1===O.authToken.requestStatus;)yield fe(100),O=yield it(D.appConfig);const H=O.authToken;return 0===H.requestStatus?Hn(D,T):H})).apply(this,arguments)}function it(D){return Vn(D,T=>{if(!Nt(T))throw ye.create("not-registered");return function we(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Et(D,T){return en.apply(this,arguments)}function en(){return(en=(0,k.Z)(function*(D,T){try{const O=yield tr(D,T),H=Object.assign(Object.assign({},T),{authToken:O});return yield ct(D.appConfig,H),O}catch(O){if(!Ue(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const H=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ct(D.appConfig,H)}else yield gn(D.appConfig);throw O}})).apply(this,arguments)}function Nt(D){return void 0!==D&&2===D.registrationStatus}function Z(D){return 2===D.requestStatus&&!function G(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function Q(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function B(){return(B=(0,k.Z)(function*(D){const T=D,{installationEntry:O,registrationPromise:H}=yield wt(T);return H?H.catch(console.error):Hn(T).catch(console.error),O.fid})).apply(this,arguments)}function le(){return(le=(0,k.Z)(function*(D,T=!1){const O=D;return yield Be(O),(yield Hn(O,T)).token})).apply(this,arguments)}function Be(D){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,k.Z)(function*(D){const{registrationPromise:T}=yield wt(D);T&&(yield T)})).apply(this,arguments)}function bt(D){return ye.create("missing-app-config-values",{valueName:D})}const Ko="installations",Ye=D=>{const T=D.getProvider("app").getImmediate(),O=function zr(D){if(!D||!D.options)throw bt("App Configuration");if(!D.name)throw bt("App Name");const T=["projectId","apiKey","appId"];for(const O of T)if(!D.options[O])throw bt(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:O,heartbeatServiceProvider:(0,se._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Vt=D=>{const T=D.getProvider("app").getImmediate(),O=(0,se._getProvider)(T,Ko).getImmediate();return{getId:()=>function L(D){return B.apply(this,arguments)}(O),getToken:ee=>function q(D){return le.apply(this,arguments)}(O,ee)}};(function sn(){(0,se._registerComponent)(new Ie.wA(Ko,Ye,"PUBLIC")),(0,se._registerComponent)(new Ie.wA("installations-internal",Vt,"PRIVATE"))})(),(0,se.registerVersion)(de,"0.5.8"),(0,se.registerVersion)(de,"0.5.8","esm2017");const zn="@firebase/remote-config",Kn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tl{constructor(T,O,H,ee){this.client=T,this.storage=O,this.storageCache=H,this.logger=ee}isCachedDataFresh(T,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-O,ee=H<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ee}.`),ee}fetch(T){var O=this;return(0,k.Z)(function*(){const[H,ee]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ee&&O.isCachedDataFresh(T.cacheMaxAgeMillis,H))return ee;T.eTag=ee&&ee.eTag;const ne=yield O.client.fetch(T),Fe=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&Fe.push(O.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(Fe),ne})()}}function Au(D=navigator){return D.languages&&D.languages[0]||D.language}class Al{constructor(T,O,H,ee,ne,Fe){this.firebaseInstallations=T,this.sdkVersion=O,this.namespace=H,this.projectId=ee,this.apiKey=ne,this.appId=Fe}fetch(T){var O=this;return(0,k.Z)(function*(){const[H,ee]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Dt={sdk_version:O.sdkVersion,app_instance_id:H,app_instance_id_token:ee,app_id:O.appId,language_code:Au()},kt={method:"POST",headers:ot,body:JSON.stringify(Dt)},hn=fetch(Fe,kt),Ft=new Promise((ro,os)=>{T.signal.addEventListener(()=>{const as=new Error("The operation was aborted.");as.name="AbortError",os(as)})});let Vr;try{yield Promise.race([hn,Ft]),Vr=yield hn}catch(ro){let os="fetch-client-network";throw"AbortError"===ro.name&&(os="fetch-timeout"),Kn.create(os,{originalErrorMessage:ro.message})}let xn=Vr.status;const Wi=Vr.headers.get("ETag")||void 0;let xs,Zi;if(200===Vr.status){let ro;try{ro=yield Vr.json()}catch(os){throw Kn.create("fetch-client-parse",{originalErrorMessage:os.message})}xs=ro.entries,Zi=ro.state}if("INSTANCE_STATE_UNSPECIFIED"===Zi?xn=500:"NO_CHANGE"===Zi?xn=304:("NO_TEMPLATE"===Zi||"EMPTY_CONFIG"===Zi)&&(xs={}),304!==xn&&200!==xn)throw Kn.create("fetch-status",{httpStatus:xn});return{status:xn,eTag:Wi,config:xs}})()}}class Su{constructor(T,O){this.client=T,this.storage=O}fetch(T){var O=this;return(0,k.Z)(function*(){const H=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(T,H)})()}attemptFetch(T,{throttleEndTimeMillis:O,backoffCount:H}){var ee=this;return(0,k.Z)(function*(){yield function br(D,T){return new Promise((O,H)=>{const ee=Math.max(T-Date.now(),0),ne=setTimeout(O,ee);D.addEventListener(()=>{clearTimeout(ne),H(Kn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,O);try{const ne=yield ee.client.fetch(T);return yield ee.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Sl(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ne))throw ne;const Fe={throttleEndTimeMillis:Date.now()+(0,ae.$s)(H),backoffCount:H+1};return yield ee.storage.setThrottleMetadata(Fe),ee.attemptFetch(T,Fe)}})()}}class $c{constructor(T,O,H,ee,ne){this.app=T,this._client=O,this._storageCache=H,this._storage=ee,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wo(D,T){const O=D.target.error||void 0;return Kn.create(T,{originalErrorMessage:O&&O.message})}const Us="app_namespace_store";class Hc{constructor(T,O,H,ee=function Mu(){return new Promise((D,T)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=H=>{T(wo(H,"storage-open"))},O.onsuccess=H=>{D(H.target.result)},O.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(Us,{keyPath:"compositeKey"})}}catch(O){T(Kn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=T,this.appName=O,this.namespace=H,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var O=this;return(0,k.Z)(function*(){const H=yield O.openDbPromise;return new Promise((ee,ne)=>{const ot=H.transaction([Us],"readonly").objectStore(Us),Dt=O.createCompositeKey(T);try{const kt=ot.get(Dt);kt.onerror=hn=>{ne(wo(hn,"storage-get"))},kt.onsuccess=hn=>{const Ft=hn.target.result;ee(Ft?Ft.value:void 0)}}catch(kt){ne(Kn.create("storage-get",{originalErrorMessage:kt&&kt.message}))}})})()}set(T,O){var H=this;return(0,k.Z)(function*(){const ee=yield H.openDbPromise;return new Promise((ne,Fe)=>{const Dt=ee.transaction([Us],"readwrite").objectStore(Us),kt=H.createCompositeKey(T);try{const hn=Dt.put({compositeKey:kt,value:O});hn.onerror=Ft=>{Fe(wo(Ft,"storage-set"))},hn.onsuccess=()=>{ne()}}catch(hn){Fe(Kn.create("storage-set",{originalErrorMessage:hn&&hn.message}))}})})()}delete(T){var O=this;return(0,k.Z)(function*(){const H=yield O.openDbPromise;return new Promise((ee,ne)=>{const ot=H.transaction([Us],"readwrite").objectStore(Us),Dt=O.createCompositeKey(T);try{const kt=ot.delete(Dt);kt.onerror=hn=>{ne(wo(hn,"storage-delete"))},kt.onsuccess=()=>{ee()}}catch(kt){ne(Kn.create("storage-delete",{originalErrorMessage:kt&&kt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Pu{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const O=T.storage.getLastFetchStatus(),H=T.storage.getLastSuccessfulFetchTimestampMillis(),ee=T.storage.getActiveConfig(),ne=yield O;ne&&(T.lastFetchStatus=ne);const Fe=yield H;Fe&&(T.lastSuccessfulFetchTimestampMillis=Fe);const ot=yield ee;ot&&(T.activeConfig=ot)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function bo(){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,k.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Gc(){(0,se._registerComponent)(new Ie.wA("remote-config",function D(T,{instanceIdentifier:O}){const H=T.getProvider("app").getImmediate(),ee=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Kn.create("registration-window");if(!(0,ae.hl)())throw Kn.create("indexed-db-unavailable");const{projectId:ne,apiKey:Fe,appId:ot}=H.options;if(!ne)throw Kn.create("registration-project-id");if(!Fe)throw Kn.create("registration-api-key");if(!ot)throw Kn.create("registration-app-id");const Dt=new Hc(ot,H.name,O=O||"firebase"),kt=new Pu(Dt),hn=new ce.Yd(zn);hn.logLevel=ce.in.ERROR;const Ft=new Al(ee,se.SDK_VERSION,O,ne,Fe,ot),Vr=new Su(Ft,Dt),xn=new Tl(Vr,Dt,kt,hn),Wi=new $c(H,xn,kt,Dt,hn);return function Wr(D){const T=(0,ae.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Wi),Wi},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(zn,"0.3.7"),(0,se.registerVersion)(zn,"0.3.7","esm2017")}();const Aa="/firebase-messaging-sw.js",qc="/firebase-cloud-messaging-push-scope",Ti="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",es="google.c.a.c_id",Ui="google.c.a.c_l",Bi="google.c.a.ts",Sa="google.c.a.e";var fr=(()=>{return(D=fr||(fr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",fr;var D})();function ji(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ai(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(O),ee=new Uint8Array(H.length);for(let ne=0;ne<H.length;++ne)ee[ne]=H.charCodeAt(ne);return ee}const xa="fcm_token_details_db",Jo="fcm_token_object_Store";function Ma(D){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(xa))return null;let T=null;return(yield(0,ae.X3)(xa,5,function(){var H=(0,k.Z)(function*(ee,ne,Fe,ot){var Dt;if(ne<2||!ee.objectStoreNames.contains(Jo))return;const kt=ot.objectStore(Jo),hn=yield kt.index("fcmSenderId").get(D);if(yield kt.clear(),hn)if(2===ne){const Ft=hn;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;T={token:Ft.fcmToken,createTime:null!==(Dt=Ft.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:ji(Ft.vapidKey)}}}else if(3===ne){const Ft=hn;T={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:ji(Ft.auth),p256dh:ji(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:ji(Ft.vapidKey)}}}else if(4===ne){const Ft=hn;T={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:ji(Ft.auth),p256dh:ji(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:ji(Ft.vapidKey)}}}});return function(ee,ne,Fe,ot){return H.apply(this,arguments)}}())).close(),yield(0,ae.Lj)(xa),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),zc(T)?T:null}),Xo.apply(this,arguments)}function zc(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const yn="firebase-messaging-store";let js=null;function gs(){return js||(js=(0,ae.X3)("firebase-messaging-database",1,(D,T)=>{0===T&&D.createObjectStore(yn)})),js}function Wn(D){return Co.apply(this,arguments)}function Co(){return(Co=(0,k.Z)(function*(D){const T=Io(D),H=yield(yield gs()).transaction(yn).objectStore(yn).get(T);if(H)return H;{const ee=yield Ma(D.appConfig.senderId);if(ee)return yield ni(D,ee),ee}})).apply(this,arguments)}function ni(D,T){return nr.apply(this,arguments)}function nr(){return(nr=(0,k.Z)(function*(D,T){const O=Io(D),ee=(yield gs()).transaction(yn,"readwrite");return yield ee.objectStore(yn).put(T,O),yield ee.complete,T})).apply(this,arguments)}function Er(D){return ms.apply(this,arguments)}function ms(){return(ms=(0,k.Z)(function*(D){const T=Io(D),H=(yield gs()).transaction(yn,"readwrite");yield H.objectStore(yn).delete(T),yield H.complete})).apply(this,arguments)}function Io({appConfig:D}){return D.appId}const mn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _s(D,T){return $i.apply(this,arguments)}function $i(){return($i=(0,k.Z)(function*(D,T){const O=yield ws(D),H=bs(T),ee={method:"POST",headers:O,body:JSON.stringify(H)};let ne;try{ne=yield(yield fetch(mt(D.appConfig),ee)).json()}catch(Fe){throw mn.create("token-subscribe-failed",{errorInfo:Fe})}if(ne.error)throw mn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw mn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Do(D,T){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,k.Z)(function*(D,T){const O=yield ws(D),H=bs(T.subscriptionOptions),ee={method:"PATCH",headers:O,body:JSON.stringify(H)};let ne;try{ne=yield(yield fetch(`${mt(D.appConfig)}/${T.token}`,ee)).json()}catch(Fe){throw mn.create("token-update-failed",{errorInfo:Fe})}if(ne.error)throw mn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw mn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function vs(D,T){return ts.apply(this,arguments)}function ts(){return(ts=(0,k.Z)(function*(D,T){const H={method:"DELETE",headers:yield ws(D)};try{const ne=yield(yield fetch(`${mt(D.appConfig)}/${T}`,H)).json();if(ne.error)throw mn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(ee){throw mn.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function mt({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function ws(D){return ea.apply(this,arguments)}function ea(){return(ea=(0,k.Z)(function*({appConfig:D,installations:T}){const O=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function bs({p256dh:D,auth:T,endpoint:O,vapidKey:H}){const ee={web:{endpoint:O,auth:T,p256dh:D}};return H!==Ti&&(ee.web.applicationPubKey=H),ee}const $s=6048e5;function Es(D){return To.apply(this,arguments)}function To(){return(To=(0,k.Z)(function*(D){const T=yield Hs(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:ji(T.getKey("auth")),p256dh:ji(T.getKey("p256dh"))},H=yield Wn(D.firebaseDependencies);if(H){if(Is(H.subscriptionOptions,O))return Date.now()>=H.createTime+$s?qt(D,{token:H.token,createTime:Date.now(),subscriptionOptions:O}):H.token;try{yield vs(D.firebaseDependencies,H.token)}catch(ee){console.warn(ee)}return An(D.firebaseDependencies,O)}return An(D.firebaseDependencies,O)})).apply(this,arguments)}function Ru(D){return Me.apply(this,arguments)}function Me(){return(Me=(0,k.Z)(function*(D){const T=yield Wn(D.firebaseDependencies);T&&(yield vs(D.firebaseDependencies,T.token),yield Er(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function qt(D,T){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,k.Z)(function*(D,T){try{const O=yield Do(D.firebaseDependencies,T),H=Object.assign(Object.assign({},T),{token:O,createTime:Date.now()});return yield ni(D.firebaseDependencies,H),O}catch(O){throw yield Ru(D),O}})).apply(this,arguments)}function An(D,T){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,k.Z)(function*(D,T){const H={token:yield _s(D,T),createTime:Date.now(),subscriptionOptions:T};return yield ni(D,H),H.token})).apply(this,arguments)}function Hs(D,T){return pr.apply(this,arguments)}function pr(){return(pr=(0,k.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ai(T)})})).apply(this,arguments)}function Is(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function Gs(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function ta(D,T){if(!T.notification)return;D.notification={};const O=T.notification.title;O&&(D.notification.title=O);const H=T.notification.body;H&&(D.notification.body=H);const ee=T.notification.image;ee&&(D.notification.image=ee)}(T,D),function Pa(D,T){!T.data||(D.data=T.data)}(T,D),function So(D,T){if(!T.fcmOptions)return;D.fcmOptions={};const O=T.fcmOptions.link;O&&(D.fcmOptions.link=O);const H=T.fcmOptions.analytics_label;H&&(D.fcmOptions.analyticsLabel=H)}(T,D),T}function qs(D){return"object"==typeof D&&!!D&&es in D}function ir(D,T){const O=[];for(let H=0;H<D.length;H++)O.push(D.charAt(H)),H<T.length&&O.push(T.charAt(H));return O.join("")}function na(D){return mn.create("missing-app-config-values",{valueName:D})}ir("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ir("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hi{constructor(T,O,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function hi(D){if(!D||!D.options)throw na("App Configuration Object");if(!D.name)throw na("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const H of T)if(!O[H])throw na(H);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ee,installations:O,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Si(D){return xo.apply(this,arguments)}function xo(){return(xo=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Aa,{scope:qc}),D.swRegistration.update().catch(()=>{})}catch(T){throw mn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function zs(D,T){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,k.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield Si(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function Mo(D,T){return Po.apply(this,arguments)}function Po(){return(Po=(0,k.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Ti)})).apply(this,arguments)}function ra(){return(ra=(0,k.Z)(function*(D,T){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield Mo(D,null==T?void 0:T.vapidKey),yield zs(D,null==T?void 0:T.serviceWorkerRegistration),Es(D)})).apply(this,arguments)}function Zs(D,T,O){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,k.Z)(function*(D,T,O){const H=Oo(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:O[es],message_name:O[Ui],message_time:O[Bi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Oo(D){switch(D){case fr.NOTIFICATION_CLICKED:return"notification_open";case fr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ys(){return(Ys=(0,k.Z)(function*(D,T){const O=T.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===fr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Gs(O)):D.onMessageHandler.next(Gs(O)));const H=O.data;qs(H)&&"1"===H[Sa]&&(yield Zs(D,O.messageType,H))})).apply(this,arguments)}const ia="@firebase/messaging",ku=D=>{const T=new Hi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Ks(D,T){return Ys.apply(this,arguments)}(T,O)),T},Qs=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:H=>function Ws(D,T){return ra.apply(this,arguments)}(T,H)}};function Rl(){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,k.Z)(function*(){try{yield(0,ae.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ra(){(0,se._registerComponent)(new Ie.wA("messaging",ku,"PUBLIC")),(0,se._registerComponent)(new Ie.wA("messaging-internal",Qs,"PRIVATE")),(0,se.registerVersion)(ia,"0.9.12"),(0,se.registerVersion)(ia,"0.9.12","esm2017")}();const xi="analytics",Na="firebase_id",oa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fa="https://www.googletagmanager.com/gtag/js",Sn=new ce.Yd("@firebase/analytics");function ko(D){return Promise.all(D.map(T=>T.catch(O=>O)))}function Zc(D,T){const O=document.createElement("script");O.src=`${Fa}?l=${D}&id=${T}`,O.async=!0,document.head.appendChild(O)}function fi(D,T,O,H,ee,ne){return aa.apply(this,arguments)}function aa(){return(aa=(0,k.Z)(function*(D,T,O,H,ee,ne){const Fe=H[ee];try{if(Fe)yield T[Fe];else{const Dt=(yield ko(O)).find(kt=>kt.measurementId===ee);Dt&&(yield T[Dt.appId])}}catch(ot){Sn.error(ot)}D("config",ee,ne)})).apply(this,arguments)}function No(D,T,O,H,ee){return Va.apply(this,arguments)}function Va(){return(Va=(0,k.Z)(function*(D,T,O,H,ee){try{let ne=[];if(ee&&ee.send_to){let Fe=ee.send_to;Array.isArray(Fe)||(Fe=[Fe]);const ot=yield ko(O);for(const Dt of Fe){const kt=ot.find(Ft=>Ft.measurementId===Dt),hn=kt&&T[kt.appId];if(!hn){ne=[];break}ne.push(hn)}}0===ne.length&&(ne=Object.values(T)),yield Promise.all(ne),D("event",H,ee||{})}catch(ne){Sn.error(ne)}})).apply(this,arguments)}function Ua(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Fa))return T;return null}const Bn=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),$=new class M{constructor(T={},O=1e3){this.throttleMetadata=T,this.intervalMillis=O}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,O){this.throttleMetadata[T]=O}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function xe(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function ht(D){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,k.Z)(function*(D){var T;const{appId:O,apiKey:H}=D,ee={method:"GET",headers:xe(H)},ne=oa.replace("{app-id}",O),Fe=yield fetch(ne,ee);if(200!==Fe.status&&304!==Fe.status){let ot="";try{const Dt=yield Fe.json();(null===(T=Dt.error)||void 0===T?void 0:T.message)&&(ot=Dt.error.message)}catch(Dt){}throw Bn.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:ot})}return Fe.json()})).apply(this,arguments)}function sr(D){return jn.apply(this,arguments)}function jn(){return(jn=(0,k.Z)(function*(D,T=$,O){const{appId:H,apiKey:ee,measurementId:ne}=D.options;if(!H)throw Bn.create("no-app-id");if(!ee){if(ne)return{measurementId:ne,appId:H};throw Bn.create("no-api-key")}const Fe=T.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ot=new Ba;return setTimeout((0,k.Z)(function*(){ot.abort()}),void 0!==O?O:6e4),Mi({appId:H,apiKey:ee,measurementId:ne},Fe,ot,T)})).apply(this,arguments)}function Mi(D,T,O){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,k.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:O},H,ee=$){const{appId:ne,measurementId:Fe}=D;try{yield Jt(H,T)}catch(ot){if(Fe)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${ot.message}]`),{appId:ne,measurementId:Fe};throw ot}try{const ot=yield ht(D);return ee.deleteThrottleMetadata(ne),ot}catch(ot){if(!vh(ot)){if(ee.deleteThrottleMetadata(ne),Fe)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${ot.message}]`),{appId:ne,measurementId:Fe};throw ot}const Dt=503===Number(ot.customData.httpStatus)?(0,ae.$s)(O,ee.intervalMillis,30):(0,ae.$s)(O,ee.intervalMillis),kt={throttleEndTimeMillis:Date.now()+Dt,backoffCount:O+1};return ee.setThrottleMetadata(ne,kt),Sn.debug(`Calling attemptFetch again in ${Dt} millis`),Mi(D,kt,H,ee)}})).apply(this,arguments)}function Jt(D,T){return new Promise((O,H)=>{const ee=Math.max(T-Date.now(),0),ne=setTimeout(O,ee);D.addEventListener(()=>{clearTimeout(ne),H(Bn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function vh(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Ba{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function ua(){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,k.Z)(function*(){if(!(0,ae.hl)())return Sn.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(D){return Sn.warn(Bn.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Ts(){return(Ts=(0,k.Z)(function*(D,T,O,H,ee,ne,Fe){var ot;const Dt=sr(D);Dt.then(xn=>{O[xn.measurementId]=xn.appId,D.options.measurementId&&xn.measurementId!==D.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xn=>Sn.error(xn)),T.push(Dt);const kt=ua().then(xn=>{if(xn)return H.getId()}),[hn,Ft]=yield Promise.all([Dt,kt]);Ua()||Zc(ne,hn.measurementId),ee("js",new Date);const Vr=null!==(ot=null==Fe?void 0:Fe.config)&&void 0!==ot?ot:{};return Vr.origin="firebase",Vr.update=!0,null!=Ft&&(Vr[Na]=Ft),ee("config",hn.measurementId,Vr),hn.measurementId})).apply(this,arguments)}class Yc{constructor(T){this.app=T}_delete(){return delete ns[this.app.options.appId],Promise.resolve()}}let ns={},Vu=[];const Nl={};let wh,Oi,Fo="dataLayer",rs=!1;function Fl(D,T,O){!function Gi(){const D=[];if((0,ae.ru)()&&D.push("This is a browser extension environment."),(0,ae.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((H,ee)=>`(${ee+1}) ${H}`).join(" "),O=Bn.create("invalid-analytics-context",{errorInfo:T});Sn.warn(O.message)}}();const H=D.options.appId;if(!H)throw Bn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Bn.create("no-api-key");Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ns[H])throw Bn.create("already-exists",{id:H});if(!rs){!function La(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(Fo);const{wrappedGtag:ne,gtagCore:Fe}=function Kc(D,T,O,H,ee){let ne=function(...Fe){window[H].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(ne=window[ee]),window[ee]=function _h(D,T,O,H){function ne(){return(ne=(0,k.Z)(function*(Fe,ot,Dt){try{"event"===Fe?yield No(D,T,O,ot,Dt):"config"===Fe?yield fi(D,T,O,H,ot,Dt):D("set",ot)}catch(kt){Sn.error(kt)}})).apply(this,arguments)}return function ee(Fe,ot,Dt){return ne.apply(this,arguments)}}(ne,D,T,O),{gtagCore:ne,wrappedGtag:window[ee]}}(ns,Vu,Nl,Fo,"gtag");Oi=ne,wh=Fe,rs=!0}return ns[H]=function Or(D,T,O,H,ee,ne,Fe){return Ts.apply(this,arguments)}(D,Vu,Nl,T,wh,Fo,O),new Yc(D)}function ja(){return(ja=(0,k.Z)(function*(D,T,O,H,ee){if(ee&&ee.global)D("event",O,H);else{const ne=yield T;D("event",O,Object.assign(Object.assign({},H),{send_to:ne}))}})).apply(this,arguments)}function Cn(){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,k.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}const ri="@firebase/analytics";!function to(){(0,se._registerComponent)(new Ie.wA(xi,(T,{options:O})=>Fl(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,se._registerComponent)(new Ie.wA("analytics-internal",function D(T){try{const O=T.getProvider(xi).getImmediate();return{logEvent:(H,ee,ne)=>function eo(D,T,O,H){D=(0,ae.m9)(D),function tn(D,T,O,H,ee){return ja.apply(this,arguments)}(Oi,ns[D.app.options.appId],T,O,H).catch(ee=>Sn.error(ee))}(O,H,ee,ne)}}catch(O){throw Bn.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,se.registerVersion)(ri,"0.7.8"),(0,se.registerVersion)(ri,"0.7.8","esm2017")}();var or=V(4408),fa=V(7565);const Eh=new class fp extends fa.v{}(class no extends or.o{constructor(T,O){super(T,O),this.scheduler=T,this.work=O}schedule(T,O=0){return O>0?super.schedule(T,O):(this.delay=O,this.state=T,this.scheduler.flush(this),this)}execute(T,O){return O>0||this.closed?super.execute(T,O):this._execute(T,O)}requestAsyncId(T,O,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(T,O,H):T.flush(this)}});var ss=V(4986),Uu=V(8306),Ga=V(8505),Lo=V(9468),Bu=V(5363);const ju=new d.GfV("7.3.0"),Ll="__angularfire_symbol__analyticsIsSupportedValue",Xc="__angularfire_symbol__analyticsIsSupported",ed="__angularfire_symbol__remoteConfigIsSupportedValue",Vo="__angularfire_symbol__remoteConfigIsSupported",St="__angularfire_symbol__messagingIsSupportedValue",qa="__angularfire_symbol__messagingIsSupported";function Ih(D,T,O){if(T){if(1===T.length)return T[0];const ne=T.filter(Fe=>Fe.app===O);if(1===ne.length)return ne[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[Xc]||(globalThis[Xc]=Cn().then(D=>globalThis[Ll]=D).catch(()=>globalThis[Ll]=!1)),globalThis[qa]||(globalThis[qa]=Rl().then(D=>globalThis[St]=D).catch(()=>globalThis[St]=!1)),globalThis[Vo]||(globalThis[Vo]=bo().then(D=>globalThis[ed]=D).catch(()=>globalThis[ed]=!1));const Dh=(D,T)=>{const O=T?[T]:(0,j.C6)(),H=[];return O.forEach(ee=>{ee.container.getProvider(D).instances.forEach(Fe=>{H.includes(Fe)||H.push(Fe)})}),H};function Qr(){}class za{constructor(T,O=Eh){this.zone=T,this.delegate=O}now(){return this.delegate.now()}schedule(T,O,H){const ee=this.zone;return this.delegate.schedule(function(Fe){ee.runGuarded(()=>{T.apply(this,[Fe])})},O,H)}}class Ul{constructor(T){this.zone=T,this.task=null}call(T,O){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qr,{},Qr,Qr)),O.pipe((0,Ga.b)({next:H,complete:H,error:H})).subscribe(T).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pa=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new za(Zone.current)),this.insideAngular=O.run(()=>new za(Zone.current,ss.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(d.LFG(d.R0b))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ss(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ir(D){return Ss().ngZone.runOutsideAngular(()=>D())}function ar(D){return Ss().ngZone.run(()=>D())}function Wa(D){return Ss(),function td(D){return function(O){return(O=O.lift(new Ul(D.ngZone))).pipe((0,Lo.R)(D.outsideAngular),(0,Bu.Q)(D.insideAngular))}}(Ss())(D)}const Bl=(D,T)=>{const O=void 0;return function(){const H=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),ar(()=>D.apply(O,H))}},jl=(D,T)=>function(){let O;const H=arguments;for(let ne=0;ne<arguments.length;ne++)"function"==typeof H[ne]&&(T&&(O||(O=ar(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qr,{},Qr,Qr)))),H[ne]=Bl(H[ne],O));const ee=Ir(()=>D.apply(this,H));if(!T){if(ee instanceof Uu.y){const ne=Ss();return ee.pipe((0,Lo.R)(ne.outsideAngular),(0,Bu.Q)(ne.insideAngular))}return ar(()=>ee)}return ee instanceof Uu.y?ee.pipe(Wa):ee instanceof Promise?ar(()=>new Promise((ne,Fe)=>ee.then(ot=>ar(()=>ne(ot)),ot=>ar(()=>Fe(ot))))):"function"==typeof ee&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),ee.apply(this,arguments)}:ar(()=>ee)}},9414:(vt,Se,V)=>{"use strict";V.d(Se,{$:()=>Po,A:()=>gt,E:()=>vo,G:()=>br,I:()=>fr,K:()=>Nn,L:()=>Co,M:()=>ms,N:()=>Io,P:()=>jl,Q:()=>ys,R:()=>Dh,T:()=>Er,U:()=>Do,V:()=>Kr,W:()=>ea,X:()=>ta,Y:()=>So,Z:()=>ir,_:()=>Si,a:()=>Oi,a0:()=>ra,a1:()=>Oa,a2:()=>Ks,a3:()=>ia,a4:()=>ku,a5:()=>Ra,a6:()=>Rl,a7:()=>Pr,a8:()=>Fn,a9:()=>Fu,aA:()=>sd,aB:()=>Cm,aC:()=>dr,aG:()=>Gi,aJ:()=>_s,aa:()=>Wc,ab:()=>Na,ae:()=>Fa,af:()=>ko,ag:()=>Zc,aj:()=>Ru,ak:()=>Bn,am:()=>Pi,an:()=>Or,ao:()=>fs,ap:()=>rn,aq:()=>di,ar:()=>yo,as:()=>an,at:()=>Wl,au:()=>xh,av:()=>Dn,aw:()=>ke,ax:()=>kn,ay:()=>Mr,az:()=>Sh,b:()=>la,c:()=>Dt,d:()=>Vr,e:()=>hn,f:()=>rd,g:()=>gp,h:()=>Im,i:()=>no,j:()=>Ms,k:()=>km,l:()=>Ss,m:()=>Kl,o:()=>Pt,r:()=>ar,s:()=>Ul,u:()=>td,z:()=>wn});var d=V(5861),j=V(2090),k=V(9681);function ce(_,f){var g={};for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&f.indexOf(w)<0&&(g[w]=_[w]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var x=0;for(w=Object.getOwnPropertySymbols(_);x<w.length;x++)f.indexOf(w[x])<0&&Object.prototype.propertyIsEnumerable.call(_,w[x])&&(g[w[x]]=_[w[x]])}return g}var ue=V(1877),Ve=V(4859);const Pt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},gt={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const wn=function lt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lr=function nn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Kt=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_r=new ue.Yd("@firebase/auth");function In(_,...f){_r.logLevel<=ue.in.ERROR&&_r.error(`Auth (${k.SDK_VERSION}): ${_}`,...f)}function an(_,...f){throw vr(_,...f)}function Dn(_,...f){return vr(_,...f)}function li(_,f,g){const w=Object.assign(Object.assign({},lr()),{[f]:g});return new j.LL("auth","Firebase",w).create(f,{appName:_.name})}function xr(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&an(_,"argument-error"),li(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vr(_,...f){if("string"!=typeof _){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(g,...w)}return Kt.create(_,...f)}function ke(_,f,...g){if(!_)throw vr(f,...g)}function bn(_){const f="INTERNAL ASSERTION FAILED: "+_;throw In(f),new Error(f)}function rn(_,f){_||bn(f)}const ct=new Map;function kn(_){rn(_ instanceof Function,"Expected a class definition");let f=ct.get(_);return f?(rn(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ct.set(_,f),f)}function Vn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ci(){return"http:"===wt()||"https:"===wt()}function wt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class qr{constructor(f,g){this.shortDelay=f,this.longDelay=g,rn(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function cn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ci()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function It(_,f){rn(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Xe{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Fr=new qr(3e4,6e4);function Gt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ct(_,f,g,w){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,d.Z)(function*(_,f,g,w,x={}){return tr(_,x,(0,d.Z)(function*(){let R={},J={};w&&("GET"===f?J=w:R={body:JSON.stringify(w)});const Ee=(0,j.xO)(Object.assign({key:_.config.apiKey},J)).slice(1),nt=yield _._getAdditionalHeaders();return nt["Content-Type"]="application/json",_.languageCode&&(nt["X-Firebase-Locale"]=_.languageCode),Xe.fetch()(Wt(_,_.config.apiHost,g,Ee),Object.assign({method:f,headers:nt,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function tr(_,f,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,d.Z)(function*(_,f,g){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},_t),f);try{const x=new Te(_),R=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const J=yield R.json();if("needConfirmation"in J)throw Ae(_,"account-exists-with-different-credential",J);if(R.ok&&!("errorMessage"in J))return J;{const Ee=R.ok?J.errorMessage:J.error.message,[nt,ze]=Ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nt)throw Ae(_,"credential-already-in-use",J);if("EMAIL_EXISTS"===nt)throw Ae(_,"email-already-in-use",J);const xt=w[nt]||nt.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw li(_,xt,ze);an(_,xt)}}catch(x){if(x instanceof j.ZR)throw x;an(_,"network-request-failed")}})).apply(this,arguments)}function dt(_,f,g,w){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(_,f,g,w,x={}){const R=yield Ct(_,f,g,w,x);return"mfaPendingCredential"in R&&an(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Wt(_,f,g,w){const x=`${f}${g}?${w}`;return _.config.emulator?It(_.config,x):`${_.config.apiScheme}://${x}`}class Te{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Dn(this.auth,"network-request-failed")),Fr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ae(_,f,g){const w={appName:_.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const x=Dn(_,f,w);return x.customData._tokenResponse=g,x}function Et(){return(Et=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function en(_,f){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Z(_,f){return G.apply(this,arguments)}function G(){return(G=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Q(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function B(){return(B=(0,d.Z)(function*(_,f=!1){const g=(0,j.m9)(_),w=yield g.getIdToken(f),x=le(w);ke(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const R="object"==typeof x.firebase?x.firebase:void 0,J=null==R?void 0:R.sign_in_provider;return{claims:x,token:w,authTime:Q(q(x.auth_time)),issuedAtTime:Q(q(x.iat)),expirationTime:Q(q(x.exp)),signInProvider:J||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function q(_){return 1e3*Number(_)}function le(_){const[f,g,w]=_.split(".");if(void 0===f||void 0===g||void 0===w)return In("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,j.tV)(g);return x?JSON.parse(x):(In("Failed to decode base64 JWT payload"),null)}catch(x){return In("Caught error parsing JWT payload as JSON",x),null}}function Ze(_,f){return At.apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof j.ZR&&st(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function st({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Lt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class En{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q(this.lastLoginAt),this.creationTime=Q(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gn(_){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,d.Z)(function*(_){var f;const g=_.auth,w=yield _.getIdToken(),x=yield Ze(_,Z(g,{idToken:w}));ke(null==x?void 0:x.users.length,g,"internal-error");const R=x.users[0];_._notifyReloadListener(R);const J=(null===(f=R.providerUserInfo)||void 0===f?void 0:f.length)?Ko(R.providerUserInfo):[],Ee=bt(_.providerData,J),xt=!!_.isAnonymous&&!(_.email&&R.passwordHash||(null==Ee?void 0:Ee.length)),Mn={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:Ee,metadata:new En(R.createdAt,R.lastLoginAt),isAnonymous:xt};Object.assign(_,Mn)})).apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(_){const f=(0,j.m9)(_);yield Gn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function bt(_,f){return[..._.filter(w=>!f.some(x=>x.providerId===w.providerId)),...f]}function Ko(_){return _.map(f=>{var{providerId:g}=f,w=ce(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Ye(){return(Ye=(0,d.Z)(function*(_,f){const g=yield tr(_,{},(0,d.Z)(function*(){const w=(0,j.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:R}=_.config,J=Wt(_,x,"/v1/token",`key=${R}`),Ee=yield _._getAdditionalHeaders();return Ee["Content-Type"]="application/x-www-form-urlencoded",Xe.fetch()(J,{method:"POST",headers:Ee,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ke(f.idToken,"internal-error"),ke(void 0!==f.idToken,"internal-error"),ke(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Be(_){const f=le(_);return ke(f,"internal-error"),ke(void 0!==f.exp,"internal-error"),ke(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,d.Z)(function*(){return ke(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,d.Z)(function*(){const{accessToken:x,refreshToken:R,expiresIn:J}=yield function ei(_,f){return Ye.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(x,R,Number(J))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:x,expirationTime:R}=g,J=new Vt;return w&&(ke("string"==typeof w,"internal-error",{appName:f}),J.refreshToken=w),x&&(ke("string"==typeof x,"internal-error",{appName:f}),J.accessToken=x),R&&(ke("number"==typeof R,"internal-error",{appName:f}),J.expirationTime=R),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Vt,this.toJSON())}_performRefresh(){return bn("not implemented")}}function sn(_,f){ke("string"==typeof _||void 0===_,"internal-error",{appName:f})}class zn{constructor(f){var{uid:g,auth:w,stsTokenManager:x}=f,R=ce(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new En(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,d.Z)(function*(){const w=yield Ze(g,g.stsTokenManager.getToken(g.auth,f));return ke(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function L(_){return B.apply(this,arguments)}(this,f)}reload(){return function Lr(_){return zr.apply(this,arguments)}(this)}_assign(f){this!==f&&(ke(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new zn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,d.Z)(function*(){let x=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),x=!0),g&&(yield Gn(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,d.Z)(function*(){const g=yield f.getIdToken();return yield Ze(f,function it(_,f){return Et.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,x,R,J,Ee,nt,ze,xt;const Mn=null!==(w=g.displayName)&&void 0!==w?w:void 0,On=null!==(x=g.email)&&void 0!==x?x:void 0,Dr=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,rr=null!==(J=g.photoURL)&&void 0!==J?J:void 0,oo=null!==(Ee=g.tenantId)&&void 0!==Ee?Ee:void 0,Yl=null!==(nt=g._redirectEventId)&&void 0!==nt?nt:void 0,Zu=null!==(ze=g.createdAt)&&void 0!==ze?ze:void 0,Ur=null!==(xt=g.lastLoginAt)&&void 0!==xt?xt:void 0,{uid:Qa,emailVerified:gd,isAnonymous:Ep,providerData:Fh,stsTokenManager:Lh}=g;ke(Qa&&Lh,f,"internal-error");const Vh=Vt.fromJSON(this.name,Lh);ke("string"==typeof Qa,f,"internal-error"),sn(Mn,f.name),sn(On,f.name),ke("boolean"==typeof gd,f,"internal-error"),ke("boolean"==typeof Ep,f,"internal-error"),sn(Dr,f.name),sn(rr,f.name),sn(oo,f.name),sn(Yl,f.name),sn(Zu,f.name),sn(Ur,f.name);const md=new zn({uid:Qa,auth:f,email:On,emailVerified:gd,displayName:Mn,isAnonymous:Ep,photoURL:rr,phoneNumber:Dr,tenantId:oo,stsTokenManager:Vh,createdAt:Zu,lastLoginAt:Ur});return Fh&&Array.isArray(Fh)&&(md.providerData=Fh.map(Cp=>Object.assign({},Cp))),Yl&&(md._redirectEventId=Yl),md}static _fromIdTokenResponse(f,g,w=!1){return(0,d.Z)(function*(){const x=new Vt;x.updateFromServerResponse(g);const R=new zn({uid:g.localId,auth:f,stsTokenManager:x,isAnonymous:w});return yield Gn(R),R})()}}const Nn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,w){var x=this;return(0,d.Z)(function*(){x.storage[g]=w})()}_get(g){var w=this;return(0,d.Z)(function*(){const x=w.storage[g];return void 0===x?null:x})()}_remove(g){var w=this;return(0,d.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return _.type="NONE",_})();function Mr(_,f,g){return`firebase:${_}:${f}:${g}`}class Ut{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:x,name:R}=this.auth;this.fullUserKey=Mr(this.userKey,x.apiKey,R),this.fullPersistenceKey=Mr("persistence",x.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?zn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,d.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,d.Z)(function*(){if(!g.length)return new Ut(kn(Nn),f,w);const x=(yield Promise.all(g.map(function(){var ze=(0,d.Z)(function*(xt){if(yield xt._isAvailable())return xt});return function(xt){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let R=x[0]||kn(Nn);const J=Mr(w,f.config.apiKey,f.name);let Ee=null;for(const ze of g)try{const xt=yield ze._get(J);if(xt){const Mn=zn._fromJSON(f,xt);ze!==R&&(Ee=Mn),R=ze;break}}catch(xt){}const nt=x.filter(ze=>ze._shouldAllowMigration);return R._shouldAllowMigration&&nt.length?(R=nt[0],Ee&&(yield R._set(J,Ee.toJSON())),yield Promise.all(g.map(function(){var ze=(0,d.Z)(function*(xt){if(xt!==R)try{yield xt._remove(J)}catch(Mn){}});return function(xt){return ze.apply(this,arguments)}}())),new Ut(R,f,w)):new Ut(R,f,w)})()}}function Kn(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ii(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(hs(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Vi(f))return"Blackberry";if(wr(f))return"Webos";if(Bt(f))return"Safari";if((f.includes("chrome/")||mo(f))&&!f.includes("edge/"))return"Chrome";if(yo(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function hs(_=(0,j.z$)()){return/firefox\//i.test(_)}function Bt(_=(0,j.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function mo(_=(0,j.z$)()){return/crios\//i.test(_)}function Ii(_=(0,j.z$)()){return/iemobile/i.test(_)}function yo(_=(0,j.z$)()){return/android/i.test(_)}function Vi(_=(0,j.z$)()){return/blackberry/i.test(_)}function wr(_=(0,j.z$)()){return/webos/i.test(_)}function di(_=(0,j.z$)()){return/iphone|ipad|ipod/i.test(_)}function fs(_=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function _o(_=(0,j.z$)()){return di(_)||yo(_)||wr(_)||Vi(_)||/windows phone/i.test(_)||Ii(_)}function ti(_,f=[]){let g;switch(_){case"Browser":g=Kn((0,j.z$)());break;case"Worker":g=`${Kn((0,j.z$)())}-${_}`;break;default:g=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${k.SDK_VERSION}/${w}`}class Di{constructor(f,g,w){this.app=f,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ps(this),this.idTokenSubscription=new ps(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=kn(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var x,R;if(!w._deleted&&(w.persistenceManager=yield Ut.create(w,f),!w._deleted)){if(null===(x=w._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(J){}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,d.Z)(function*(){var w;let x=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,J=null==x?void 0:x._redirectEventId,Ee=yield g.tryRedirectSignIn(f);(!R||R===J)&&(null==Ee?void 0:Ee.user)&&(x=Ee.user)}return x?x._redirectEventId?(ke(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)):g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,d.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(x){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,d.Z)(function*(){try{yield Gn(f)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function er(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,d.Z)(function*(){const w=f?(0,j.m9)(f):null;return w&&ke(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,d.Z)(function*(){if(!g._deleted)return f&&ke(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,d.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(kn(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new j.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,d.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(g);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&kn(f)||g._popupRedirectResolver;ke(w,g,"argument-error"),g.redirectPersistenceManager=yield Ut.create(g,[kn(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,d.Z)(function*(){var w,x;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,d.Z)(function*(){if(f===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,x){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),J=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(J,this,"internal-error"),J.then(()=>R(this.currentUser)),"function"==typeof g?f.addObserver(g,w,x):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ti(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var g;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const x=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function dr(_){return(0,j.m9)(_)}class ps{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,j.ne)(g=>this.observer=g)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vo(_,f,g){const w=dr(_);ke(w._canInitEmulator,w,"emulator-config-failed"),ke(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const x=!!(null==g?void 0:g.disableWarnings),R=hr(f),{host:J,port:Ee}=function Tl(_){const f=hr(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const R=x[1];return{host:R,port:Au(w.substr(R.length+1))}}{const[R,J]=w.split(":");return{host:R,port:Au(J)}}}(f);w.config.emulator={url:`${R}//${J}${null===Ee?"":`:${Ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:J,port:Ee,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Al(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function hr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Au(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class br{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return bn("not implemented")}_getIdTokenResponse(f){return bn("not implemented")}_linkToIdToken(f,g){return bn("not implemented")}_getReauthenticationResolver(f){return bn("not implemented")}}function Sl(_,f){return Su.apply(this,arguments)}function Su(){return(Su=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:resetPassword",Gt(_,f))})).apply(this,arguments)}function xl(_,f){return xu.apply(this,arguments)}function xu(){return(xu=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function $c(_,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",Gt(_,f))})).apply(this,arguments)}function Xi(){return(Xi=(0,d.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithPassword",Gt(_,f))})).apply(this,arguments)}function Yo(_,f){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:sendOobCode",Gt(_,f))})).apply(this,arguments)}function Hc(_,f){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,d.Z)(function*(_,f){return Yo(_,f)})).apply(this,arguments)}function Gc(_,f){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,d.Z)(function*(_,f){return Yo(_,f)})).apply(this,arguments)}function Qo(_,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,d.Z)(function*(_,f){return Yo(_,f)})).apply(this,arguments)}function Ou(_,f){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(_,f){return Yo(_,f)})).apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithEmailLink",Gt(_,f))})).apply(this,arguments)}function es(){return(es=(0,d.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithEmailLink",Gt(_,f))})).apply(this,arguments)}class Ui extends br{constructor(f,g,w,x=null){super("password",w),this._email=f,this._password=g,this._tenantId=x}static _fromEmailAndPassword(f,g){return new Ui(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new Ui(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function Us(_,f){return Xi.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function qc(_,f){return Ti.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:an(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,d.Z)(function*(){switch(w.signInMethod){case"password":return xl(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Pl(_,f){return es.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:an(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Bi(_,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithIdp",Gt(_,f))})).apply(this,arguments)}class fr extends br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new fr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):an("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:x}=g,R=ce(g,["providerId","signInMethod"]);if(!w||!x)return null;const J=new fr(w,x);return J.idToken=R.idToken||void 0,J.accessToken=R.accessToken||void 0,J.secret=R.secret,J.nonce=R.nonce,J.pendingToken=R.pendingToken||null,J}_getIdTokenResponse(f){return Bi(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Bi(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Bi(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,j.xO)(g)}return f}}function ji(_,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:sendVerificationCode",Gt(_,f))})).apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithPhoneNumber",Gt(_,f))})).apply(this,arguments)}function Ma(){return(Ma=(0,d.Z)(function*(_,f){const g=yield dt(_,"POST","/v1/accounts:signInWithPhoneNumber",Gt(_,f));if(g.temporaryProof)throw Ae(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Xo={USER_NOT_FOUND:"user-not-found"};function Eo(){return(Eo=(0,d.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithPhoneNumber",Gt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Xo)})).apply(this,arguments)}class Bs extends br{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Bs({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Bs({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function xa(_,f){return Zr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Jo(_,f){return Ma.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function zc(_,f){return Eo.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:x}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:x,temporaryProof:R}=f;return w||g||x||R?new Bs({verificationId:g,verificationCode:w,phoneNumber:x,temporaryProof:R}):null}}class gs{constructor(f){var g,w,x,R,J,Ee;const nt=(0,j.zd)((0,j.pd)(f)),ze=null!==(g=nt.apiKey)&&void 0!==g?g:null,xt=null!==(w=nt.oobCode)&&void 0!==w?w:null,Mn=function yn(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=nt.mode)&&void 0!==x?x:null);ke(ze&&xt&&Mn,"argument-error"),this.apiKey=ze,this.operation=Mn,this.code=xt,this.continueUrl=null!==(R=nt.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(J=nt.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(Ee=nt.tenantId)&&void 0!==Ee?Ee:null}static parseLink(f){const g=function js(_){const f=(0,j.zd)((0,j.pd)(_)).link,g=f?(0,j.zd)((0,j.pd)(f)).deep_link_id:null,w=(0,j.zd)((0,j.pd)(_)).deep_link_id;return(w?(0,j.zd)((0,j.pd)(w)).link:null)||w||g||f||_}(f);try{return new gs(g)}catch(w){return null}}}let Co=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,w){return Ui._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const x=gs.parseLink(w);return ke(x,"argument-error"),Ui._fromEmailAndCode(g,x.code,x.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ni{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class nr extends ni{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Er extends nr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ke("providerId"in g&&"signInMethod"in g,"argument-error"),fr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ke(f.idToken||f.accessToken,"argument-error"),fr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Er.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Er.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:R,nonce:J,providerId:Ee}=f;if(!w&&!x&&!g&&!R||!Ee)return null;try{return new Er(Ee)._credential({idToken:g,accessToken:w,nonce:J,pendingToken:R})}catch(nt){return null}}}let ms=(()=>{class _ extends nr{constructor(){super("facebook.com")}static credential(g){return fr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Io=(()=>{class _ extends nr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return fr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:x}=g;if(!w&&!x)return null;try{return _.credential(w,x)}catch(R){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),ys=(()=>{class _ extends nr{constructor(){super("github.com")}static credential(g){return fr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class _s extends br{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Bi(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Bi(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Bi(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:x,pendingToken:R}=g;return w&&x&&R&&w===x?new _s(w,R):null}static _create(f,g){return new _s(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Do extends ni{constructor(f){ke(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Do.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Do.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=_s.fromJSON(f);return ke(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:w}=f;if(!g||!w)return null;try{return _s._create(w,g)}catch(x){return null}}}let Kr=(()=>{class _ extends nr{constructor(){super("twitter.com")}static credential(g,w){return fr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=g;if(!w||!x)return null;try{return _.credential(w,x)}catch(R){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function vs(_,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signUp",Gt(_,f))})).apply(this,arguments)}class mt{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,x=!1){return(0,d.Z)(function*(){const R=yield zn._fromIdTokenResponse(f,w,x),J=ws(w);return new mt({user:R,providerId:J,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const x=ws(w);return new mt({user:f,providerId:x,_tokenResponse:w,operationType:g})})()}}function ws(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ea(_){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(_){var f;const g=dr(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new mt({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield vs(g,{returnSecureToken:!0}),x=yield mt._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class $s extends j.ZR{constructor(f,g,w,x){var R;super(g.code,g.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,$s.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,x){return new $s(f,g,w,x)}}function Es(_,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?$s._fromErrorAndOperation(_,R,f,w):R})}function To(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Ru(_,f){return Me.apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(_,f){const g=(0,j.m9)(_);yield An(!0,g,f);const{providerUserInfo:w}=yield en(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),x=To(w||[]);return g.providerData=g.providerData.filter(R=>x.has(R.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function qt(_,f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,d.Z)(function*(_,f,g=!1){const w=yield Ze(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return mt._forOperation(_,"link",w)})).apply(this,arguments)}function An(_,f,g){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,d.Z)(function*(_,f,g){yield Gn(f);const x=!1===_?"provider-already-linked":"no-such-provider";ke(To(f.providerData).has(g)===_,f.auth,x)})).apply(this,arguments)}function Hs(_,f){return pr.apply(this,arguments)}function pr(){return(pr=(0,d.Z)(function*(_,f,g=!1){const{auth:w}=_,x="reauthenticate";try{const R=yield Ze(_,Es(w,x,f,_),g);ke(R.idToken,w,"internal-error");const J=le(R.idToken);ke(J,w,"internal-error");const{sub:Ee}=J;return ke(_.uid===Ee,w,"user-mismatch"),mt._forOperation(_,x,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&an(w,"user-mismatch"),R}})).apply(this,arguments)}function Is(_,f){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,d.Z)(function*(_,f,g=!1){const w="signIn",x=yield Es(_,w,f),R=yield mt._fromIdTokenResponse(_,w,x);return g||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function ta(_,f){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,d.Z)(function*(_,f){return Is(dr(_),f)})).apply(this,arguments)}function So(_,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,d.Z)(function*(_,f){const g=(0,j.m9)(_);return yield An(!1,g,f.providerId),qt(g,f)})).apply(this,arguments)}function ir(_,f){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(_,f){return Hs((0,j.m9)(_),f)})).apply(this,arguments)}function na(_,f){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,d.Z)(function*(_,f){return dt(_,"POST","/v1/accounts:signInWithCustomToken",Gt(_,f))})).apply(this,arguments)}function Si(_,f){return xo.apply(this,arguments)}function xo(){return(xo=(0,d.Z)(function*(_,f){const g=dr(_),w=yield na(g,{token:f,returnSecureToken:!0}),x=yield mt._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class zs{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Ds._fromServerResponse(f,g):an(f,"internal-error")}}class Ds extends zs{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Ds(g)}}function Mo(_,f,g){var w;ke((null===(w=g.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),ke(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ke(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ke(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Po(_,f,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(_,f,g){const w=(0,j.m9)(_),x={requestType:"PASSWORD_RESET",email:f};g&&Mo(w,x,g),yield Gc(w,x)})).apply(this,arguments)}function ra(_,f,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,d.Z)(function*(_,f,g){yield Sl((0,j.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Oa(_,f){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(_,f){yield $c((0,j.m9)(_),{oobCode:f})})).apply(this,arguments)}function Ks(_,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(_,f){const g=(0,j.m9)(_),w=yield Sl(g,{oobCode:f}),x=w.requestType;switch(ke(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(w.mfaInfo,g,"internal-error");default:ke(w.email,g,"internal-error")}let R=null;return w.mfaInfo&&(R=zs._fromServerResponse(dr(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:x}})).apply(this,arguments)}function ia(_,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,d.Z)(function*(_,f){const{data:g}=yield Ks((0,j.m9)(_),f);return g.email})).apply(this,arguments)}function ku(_,f,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(_,f,g){const w=dr(_),x=yield vs(w,{returnSecureToken:!0,email:f,password:g}),R=yield mt._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ra(_,f,g){return ta((0,j.m9)(_),Co.credential(f,g))}function Rl(_,f,g){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(_,f,g){const w=(0,j.m9)(_),x={requestType:"EMAIL_SIGNIN",email:f};ke(g.handleCodeInApp,w,"argument-error"),g&&Mo(w,x,g),yield Qo(w,x)})).apply(this,arguments)}function Pr(_,f){const g=gs.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function Fn(_,f,g){return sa.apply(this,arguments)}function sa(){return(sa=(0,d.Z)(function*(_,f,g){const w=(0,j.m9)(_),x=Co.credentialWithLink(f,g||Vn());return ke(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ta(w,x)})).apply(this,arguments)}function Nu(_,f){return ka.apply(this,arguments)}function ka(){return(ka=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:createAuthUri",Gt(_,f))})).apply(this,arguments)}function Fu(_,f){return kl.apply(this,arguments)}function kl(){return(kl=(0,d.Z)(function*(_,f){const w={identifier:f,continueUri:ci()?Vn():"http://localhost"},{signinMethods:x}=yield Nu((0,j.m9)(_),w);return x||[]})).apply(this,arguments)}function Wc(_,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,d.Z)(function*(_,f){const g=(0,j.m9)(_),x={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Mo(g.auth,x,f);const{email:R}=yield Hc(g.auth,x);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function Na(_,f,g){return Js.apply(this,arguments)}function Js(){return(Js=(0,d.Z)(function*(_,f,g){const w=(0,j.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Mo(w.auth,R,g);const{email:J}=yield Ou(w.auth,R);J!==_.email&&(yield _.reload())})).apply(this,arguments)}function Lu(_,f){return oa.apply(this,arguments)}function oa(){return(oa=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Fa(_,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,d.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,j.m9)(_),R={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},J=yield Ze(w,Lu(w.auth,R));w.displayName=J.displayName||null,w.photoURL=J.photoUrl||null;const Ee=w.providerData.find(({providerId:nt})=>"password"===nt);Ee&&(Ee.displayName=w.displayName,Ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(J)})).apply(this,arguments)}function ko(_,f){return La((0,j.m9)(_),f,null)}function Zc(_,f){return La((0,j.m9)(_),null,f)}function La(_,f,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,d.Z)(function*(_,f,g){const{auth:w}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(R.email=f),g&&(R.password=g);const J=yield Ze(_,xl(w,R));yield _._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class No{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class Va extends No{constructor(f,g,w,x){super(f,g,w),this.username=x}}class _h extends No{constructor(f,g){super(f,"facebook.com",g)}}class Kc extends Va{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Ua extends No{constructor(f,g){super(f,"google.com",g)}}class Un extends Va{constructor(f,g,w){super(f,"twitter.com",g,w)}}function Bn(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function aa(_){var f,g;if(!_)return null;const{providerId:w}=_,x=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const J=null===(g=null===(f=le(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(J)return new No(R,"anonymous"!==J&&"custom"!==J?J:null)}if(!w)return null;switch(w){case"facebook.com":return new _h(R,x);case"github.com":return new Kc(R,x);case"google.com":return new Ua(R,x);case"twitter.com":return new Un(R,x,_.screenName||null);case"custom":case"anonymous":return new No(R,null);default:return new No(R,w,x)}}(g)}class jn{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new jn("enroll",f)}static _fromMfaPendingCredential(f){return new jn("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return jn._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return jn._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Mi{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=dr(f),x=g.customData._serverResponse,R=(x.mfaInfo||[]).map(Ee=>zs._fromServerResponse(w,Ee));ke(x.mfaPendingCredential,w,"internal-error");const J=jn._fromMfaPendingCredential(x.mfaPendingCredential);return new Mi(J,R,function(){var Ee=(0,d.Z)(function*(nt){const ze=yield nt._process(w,J);delete x.mfaInfo,delete x.mfaPendingCredential;const xt=Object.assign(Object.assign({},x),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(g.operationType){case"signIn":const Mn=yield mt._fromIdTokenResponse(w,g.operationType,xt);return yield w._updateCurrentUser(Mn.user),Mn;case"reauthenticate":return ke(g.user,w,"internal-error"),mt._forOperation(g.user,g.operationType,xt);default:an(w,"internal-error")}});return function(nt){return Ee.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,d.Z)(function*(){return g.signInResolver(f)})()}}function Pi(_,f){var g;const w=(0,j.m9)(_),x=f;return ke(f.customData.operationType,w,"argument-error"),ke(null===(g=x.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Mi._fromError(w,x)}function Jt(_,f){return Ct(_,"POST","/v2/accounts/mfaEnrollment:start",Gt(_,f))}class ua{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>zs._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new ua(f)}getSession(){var f=this;return(0,d.Z)(function*(){return jn._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var w=this;return(0,d.Z)(function*(){const x=f,R=yield w.getSession(),J=yield Ze(w.user,x._process(w.user.auth,R,g));return yield w.user._updateTokensIfNecessary(J),w.user.reload()})()}unenroll(f){var g=this;return(0,d.Z)(function*(){const w="string"==typeof f?f:f.uid,x=yield g.user.getIdToken(),R=yield Ze(g.user,function Ba(_,f){return Ct(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(_,f))}(g.user.auth,{idToken:x,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:J})=>J!==w),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const Xs=new WeakMap;function Or(_){const f=(0,j.m9)(_);return Xs.has(f)||Xs.set(f,ua._fromUser(f)),Xs.get(f)}const Ts="__sak";class Yc{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ts,"1"),this.storage.removeItem(Ts),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const la=(()=>{class _ extends Yc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ns(){const _=(0,j.z$)();return Bt(_)||di(_)}()&&function Tu(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=_o(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),R=this.localCache[w];x!==R&&g(w,R,x)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((Ee,nt,ze)=>{this.notifyListeners(Ee,ze)});const x=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ee=this.storage.getItem(x);if(g.newValue!==Ee)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!w)return}const R=()=>{const Ee=this.storage.getItem(x);!w&&this.localCache[x]===Ee||this.notifyListeners(x,Ee)},J=this.storage.getItem(x);!function Tn(){return(0,j.w1)()&&10===document.documentMode}()||J===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,w){this.localCache[g]=w;const x=this.listeners[g];if(x)for(const R of Array.from(x))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var x=()=>super._set,R=this;return(0,d.Z)(function*(){yield x().call(R,g,w),R.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,x=this;return(0,d.Z)(function*(){const R=yield w().call(x,g);return x.localCache[g]=JSON.stringify(R),R})()}_remove(g){var w=()=>super._remove,x=this;return(0,d.Z)(function*(){yield w().call(x,g),delete x.localCache[g]})()}}return _.type="LOCAL",_})(),Oi=(()=>{class _ extends Yc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return _.type="SESSION",_})();let bh=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(R=>R.isListeningto(g));if(w)return w;const x=new _(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,d.Z)(function*(){const x=g,{eventId:R,eventType:J,data:Ee}=x.data,nt=w.handlersMap[J];if(!(null==nt?void 0:nt.size))return;x.ports[0].postMessage({status:"ack",eventId:R,eventType:J});const ze=Array.from(nt).map(function(){var Mn=(0,d.Z)(function*(On){return On(x.origin,Ee)});return function(On){return Mn.apply(this,arguments)}}()),xt=yield function rs(_){return Promise.all(_.map(function(){var f=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(ze);x.ports[0].postMessage({status:"done",eventId:R,eventType:J,response:xt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Gi(_="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return _+g}class Fl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var x=this;return(0,d.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let J,Ee;return new Promise((nt,ze)=>{const xt=Gi("",20);R.port1.start();const Mn=setTimeout(()=>{ze(new Error("unsupported_event"))},w);Ee={messageChannel:R,onMessage(On){const Dr=On;if(Dr.data.eventId===xt)switch(Dr.data.status){case"ack":clearTimeout(Mn),J=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),nt(Dr.data.response);break;default:clearTimeout(Mn),clearTimeout(J),ze(new Error("invalid_response"))}}},x.handlers.add(Ee),R.port1.addEventListener("message",Ee.onMessage),x.target.postMessage({eventType:f,eventId:xt,data:g},[R.port2])}).finally(()=>{Ee&&x.removeMessageHandler(Ee)})})()}}function tn(){return window}function $a(){return void 0!==tn().WorkerGlobalScope&&"function"==typeof tn().importScripts}function is(){return(is=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const As="firebaseLocalStorageDb",Cr="firebaseLocalStorage",Yr="fbase_key";class da{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Cn(_,f){return _.transaction([Cr],f?"readwrite":"readonly").objectStore(Cr)}function Qc(){const _=indexedDB.open(As,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Cr,{keyPath:Yr})}catch(x){g(x)}}),_.addEventListener("success",(0,d.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Cr)?f(w):(w.close(),yield function Ha(){const _=indexedDB.deleteDatabase(As);return new da(_).toPromise()}(),f(yield Qc()))}))})}function hp(_,f,g){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,d.Z)(function*(_,f,g){const w=Cn(_,!0).put({[Yr]:f,value:g});return new da(w).toPromise()})).apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(_,f){const g=Cn(_,!1).get(f),w=yield new da(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ri(_,f){const g=Cn(_,!0).delete(f);return new da(g).toPromise()}const no=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield Qc()),g.db})()}_withRetries(g){var w=this;return(0,d.Z)(function*(){let x=0;for(;;)try{const R=yield w._openDb();return yield g(R)}catch(R){if(x++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return $a()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=bh._getInstance(function ca(){return $a()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,d.Z)(function*(x,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(x,R){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,d.Z)(function*(x,R){return["keyChanged"]});return function(x,R){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var w,x;if(g.activeServiceWorker=yield function gr(){return is.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Fl(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=R[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,d.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function qi(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Qc();return yield hp(g,Ts,"1"),yield ri(g,Ts),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,d.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var x=this;return(0,d.Z)(function*(){return x._withPendingWrite((0,d.Z)(function*(){return yield x._withRetries(R=>hp(R,g,w)),x.localCache[g]=w,x.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,d.Z)(function*(){const x=yield w._withRetries(R=>function Em(_,f){return eo.apply(this,arguments)}(R,g));return w.localCache[g]=x,x})()}_remove(g){var w=this;return(0,d.Z)(function*(){return w._withPendingWrite((0,d.Z)(function*(){return yield w._withRetries(x=>ri(x,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const w=yield g._withRetries(J=>{const Ee=Cn(J,!1).getAll();return new da(Ee).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const x=[],R=new Set;for(const{fbase_key:J,value:Ee}of w)R.add(J),JSON.stringify(g.localCache[J])!==JSON.stringify(Ee)&&(g.notifyListeners(J,Ee),x.push(J));for(const J of Object.keys(g.localCache))g.localCache[J]&&!R.has(J)&&(g.notifyListeners(J,null),x.push(J));return x})()}notifyListeners(g,w){this.localCache[g]=w;const x=this.listeners[g];if(x)for(const R of Array.from(x))R(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function fa(_,f){return Ct(_,"POST","/v2/accounts/mfaSignIn:start",Gt(_,f))}function pi(){return(pi=(0,d.Z)(function*(_){return(yield Ct(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Uu(_){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=x=>{const R=Dn("internal-error");R.customData=x,g(R)},w.type="text/javascript",w.charset="UTF-8",function ss(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)})}function Ga(_){return`__${_}${Math.floor(1e6*Math.random())}`}const ju=1e12;class Ll{constructor(f){this.auth=f,this.counter=ju,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new Xc(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||ju;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||ju))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,d.Z)(function*(){var w;return null===(w=g._widgets.get(f||ju))||void 0===w||w.execute(),""})()}}class Xc{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;ke(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ed(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vo=Ga("rcb"),St=new qr(3e4,6e4);class gi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!tn().grecaptcha}load(f,g=""){return ke(function pp(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(tn().grecaptcha):new Promise((w,x)=>{const R=tn().setTimeout(()=>{x(Dn(f,"network-request-failed"))},St.get());tn()[Vo]=()=>{tn().clearTimeout(R),delete tn()[Vo];const Ee=tn().grecaptcha;if(!Ee)return void x(Dn(f,"internal-error"));const nt=Ee.render;Ee.render=(ze,xt)=>{const Mn=nt(ze,xt);return this.counter++,Mn},this.hostLanguage=g,w(Ee)},Uu(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Vo,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),x(Dn(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!tn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vl{load(f){return(0,d.Z)(function*(){return new Ll(f)})()}clearedOneInstance(){}}const Ch="recaptcha",Ih={theme:"light",type:"image"};class Dh{constructor(f,g=Object.assign({},Ih),w){this.parameters=g,this.type=Ch,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dr(w),this.isInvisible="invisible"===this.parameters.size,ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;ke(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vl:new gi,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(R=>{const J=Ee=>{!Ee||(f.tokenChangeListeners.delete(J),R(Ee))};f.tokenChangeListeners.add(J),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=tn()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){ke(ci()&&!$a(),f.auth,"internal-error"),yield function Qr(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Eh(_){return pi.apply(this,arguments)}(f.auth);ke(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class za{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Bs._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Ul(_,f,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,d.Z)(function*(_,f,g){const w=dr(_),x=yield ga(w,f,(0,j.m9)(g));return new za(x,R=>ta(w,R))})).apply(this,arguments)}function Ss(_,f,g){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,d.Z)(function*(_,f,g){const w=(0,j.m9)(_);yield An(!1,w,"phone");const x=yield ga(w.auth,f,(0,j.m9)(g));return new za(x,R=>So(w,R))})).apply(this,arguments)}function ar(_,f,g){return $u.apply(this,arguments)}function $u(){return($u=(0,d.Z)(function*(_,f,g){const w=(0,j.m9)(_),x=yield ga(w.auth,f,(0,j.m9)(g));return new za(x,R=>ir(w,R))})).apply(this,arguments)}function ga(_,f,g){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,d.Z)(function*(_,f,g){var w;const x=yield g.verify();try{let R;if(ke("string"==typeof x,_,"argument-error"),ke(g.type===Ch,_,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const J=R.session;if("phoneNumber"in R)return ke("enroll"===J.type,_,"internal-error"),(yield Jt(_,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{ke("signin"===J.type,_,"internal-error");const Ee=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return ke(Ee,_,"missing-multi-factor-info"),(yield fa(_,{mfaPendingCredential:J.credential,mfaEnrollmentId:Ee,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield ji(_,{phoneNumber:R.phoneNumber,recaptchaToken:x});return J}}finally{g._reset()}})).apply(this,arguments)}function td(_,f){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,d.Z)(function*(_,f){yield qt((0,j.m9)(_),f)})).apply(this,arguments)}let jl=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=dr(g)}verifyPhoneNumber(g,w){return ga(this.auth,g,(0,j.m9)(w))}static credential(g,w){return Bs._fromVerification(g,w)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:x}=g;return w&&x?Bs._fromTokenResponse(w,x):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function D(_,f){return f?kn(f):(ke(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class T extends br{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Bi(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Bi(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Bi(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function O(_){return Is(_.auth,new T(_),_.bypassAuthState)}function H(_){const{auth:f,user:g}=_;return ke(g,f,"internal-error"),Hs(g,new T(_),_.bypassAuthState)}function ee(_){return ne.apply(this,arguments)}function ne(){return(ne=(0,d.Z)(function*(_){const{auth:f,user:g}=_;return ke(g,f,"internal-error"),qt(g,new T(_),_.bypassAuthState)})).apply(this,arguments)}class Fe{constructor(f,g,w,x,R=!1){this.auth=f,this.resolver=w,this.user=x,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,d.Z)(function*(w,x){f.pendingPromise={resolve:w,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(w,x){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,d.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:R,tenantId:J,error:Ee,type:nt}=f;if(Ee)return void g.reject(Ee);const ze={auth:g.auth,requestUri:w,sessionId:x,tenantId:J||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(nt)(ze))}catch(xt){g.reject(xt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return O;case"linkViaPopup":case"linkViaRedirect":return ee;case"reauthViaPopup":case"reauthViaRedirect":return H;default:an(this.auth,"internal-error")}}resolve(f){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ot=new qr(2e3,1e4);function Dt(_,f,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(_,f,g){const w=dr(_);xr(_,f,ni);const x=D(w,g);return new Wi(w,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function hn(_,f,g){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(_,f,g){const w=(0,j.m9)(_);xr(w.auth,f,ni);const x=D(w.auth,g);return new Wi(w.auth,"reauthViaPopup",f,x,w).executeNotNull()})).apply(this,arguments)}function Vr(_,f,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(_,f,g){const w=(0,j.m9)(_);xr(w.auth,f,ni);const x=D(w.auth,g);return new Wi(w.auth,"linkViaPopup",f,x,w).executeNotNull()})).apply(this,arguments)}let Wi=(()=>{class _ extends Fe{constructor(g,w,x,R,J){super(g,w,R,J),this.provider=x,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const w=yield g.execute();return ke(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,d.Z)(function*(){rn(1===g.filter.length,"Popup operations only handle one event");const w=Gi();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(Dn(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,x;this.pollId=(null===(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ot.get())};g()}}return _.currentPopupAction=null,_})();const Zi=new Map;class ro extends Fe{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,d.Z)(function*(){let w=Zi.get(g.auth._key());if(!w){try{const R=(yield function os(_,f){return as.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(R)}catch(x){w=()=>Promise.reject(x)}Zi.set(g.auth._key(),w)}return g.bypassAuthState||Zi.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const x=yield w.auth._redirectUserForId(f.eventId);if(x)return w.user=x,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function as(){return(as=(0,d.Z)(function*(_,f){const g=Hu(f),w=Za(_);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(g));return yield w._remove(g),x})).apply(this,arguments)}function $l(_,f){return nd.apply(this,arguments)}function nd(){return(nd=(0,d.Z)(function*(_,f){return Za(_)._set(Hu(f),"true")})).apply(this,arguments)}function Cm(){Zi.clear()}function Za(_){return kn(_._redirectPersistence)}function Hu(_){return Mr("pendingRedirect",_.config.apiKey,_.name)}function rd(_,f,g){return function qv(_,f,g){return id.apply(this,arguments)}(_,f,g)}function id(){return(id=(0,d.Z)(function*(_,f,g){const w=dr(_);xr(_,f,ni);const x=D(w,g);return yield $l(x,w),x._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function Im(_,f,g){return function zv(_,f,g){return Th.apply(this,arguments)}(_,f,g)}function Th(){return(Th=(0,d.Z)(function*(_,f,g){const w=(0,j.m9)(_);xr(w.auth,f,ni);const x=D(w.auth,g);yield $l(x,w.auth);const R=yield Dm(w);return x._openRedirect(w.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function gp(_,f,g){return function Ah(_,f,g){return ma.apply(this,arguments)}(_,f,g)}function ma(){return(ma=(0,d.Z)(function*(_,f,g){const w=(0,j.m9)(_);xr(w.auth,f,ni);const x=D(w.auth,g);yield An(!1,w,f.providerId),yield $l(x,w.auth);const R=yield Dm(w);return x._openRedirect(w.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function Ms(_,f){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,d.Z)(function*(_,f){return yield dr(_)._initializationPromise,sd(_,f,!1)})).apply(this,arguments)}function sd(_,f){return od.apply(this,arguments)}function od(){return(od=(0,d.Z)(function*(_,f,g=!1){const w=dr(_),x=D(w,f),J=yield new ro(w,x,g).execute();return J&&!g&&(delete J.user._redirectEventId,yield w._persistUserIfCurrent(J.user),yield w._setRedirectUser(null,f)),J})).apply(this,arguments)}function Dm(_){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,d.Z)(function*(_){const f=Gi(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Sh{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ld(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ud(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!ud(f)){const x=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Dn(this.auth,x))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gu(f))}saveEventToCache(f){this.cachedEventUids.add(Gu(f)),this.lastProcessedEventTime=Date.now()}}function Gu(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function ud({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function xh(_){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,d.Z)(function*(_,f={}){return Ct(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Mh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tm=/^https?/;function io(){return(io=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield xh(_);for(const g of f)try{if(ql(g))return}catch(w){}an(_,"unauthorized-domain")})).apply(this,arguments)}function ql(_){const f=Vn(),{protocol:g,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const J=new URL(_);return""===J.hostname&&""===w?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&J.hostname===w}if(!Tm.test(g))return!1;if(Mh.test(_))return w===_;const x=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const Am=new qr(3e4,6e4);function cd(){const _=tn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let zl=null;function Sm(_){return zl=zl||function dd(_){return new Promise((f,g)=>{var w,x,R;function J(){cd(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{cd(),g(Dn(_,"network-request-failed"))},timeout:Am.get()})}if(null===(x=null===(w=tn().gapi)||void 0===w?void 0:w.iframes)||void 0===x?void 0:x.Iframe)f(gapi.iframes.getContext());else{if(!(null===(R=tn().gapi)||void 0===R?void 0:R.load)){const Ee=Ga("iframefcb");return tn()[Ee]=()=>{gapi.load?J():g(Dn(_,"network-request-failed"))},Uu(`https://apis.google.com/js/api.js?onload=${Ee}`).catch(nt=>g(nt))}J()}}).catch(f=>{throw zl=null,f})}(_),zl}const xm=new qr(5e3,15e3),Mm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Om(_){const f=_.config;ke(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?It(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:_.name,v:k.SDK_VERSION},x=Pm.get(_.config.apiHost);x&&(w.eid=x);const R=_._getFrameworks();return R.length&&(w.fw=R.join(",")),`${g}?${(0,j.xO)(w).slice(1)}`}function qu(){return qu=(0,d.Z)(function*(_){const f=yield Sm(_),g=tn().gapi;return ke(g,_,"internal-error"),f.open({where:document.body,url:Om(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mm,dontclear:!0},w=>new Promise(function(){var x=(0,d.Z)(function*(R,J){yield w.restyle({setHideOnLeave:!1});const Ee=Dn(_,"network-request-failed"),nt=tn().setTimeout(()=>{J(Ee)},xm.get());function ze(){tn().clearTimeout(nt),R(w)}w.ping(ze).then(ze,()=>{J(Ee)})});return function(R,J){return x.apply(this,arguments)}}()))}),qu.apply(this,arguments)}const hd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rh{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Wl(_,f,g,w,x,R){ke(_.config.authDomain,_,"auth-domain-config-required"),ke(_.config.apiKey,_,"invalid-api-key");const J={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:w,v:k.SDK_VERSION,eventId:x};if(f instanceof ni){f.setDefaultLanguage(_.languageCode),J.providerId=f.providerId||"",(0,j.xb)(f.getCustomParameters())||(J.customParameters=JSON.stringify(f.getCustomParameters()));for(const[nt,ze]of Object.entries(R||{}))J[nt]=ze}if(f instanceof nr){const nt=f.getScopes().filter(ze=>""!==ze);nt.length>0&&(J.scopes=nt.join(","))}_.tenantId&&(J.tid=_.tenantId);const Ee=J;for(const nt of Object.keys(Ee))void 0===Ee[nt]&&delete Ee[nt];return`${function Uo({config:_}){return _.emulator?It(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,j.xO)(Ee).slice(1)}`}const Zl="webStorageSupport",km=class Zv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oi,this._completeRedirectFn=sd}_openPopup(f,g,w,x){var R=this;return(0,d.Z)(function*(){var J;rn(null===(J=R.eventManagers[f._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const Ee=Wl(f,g,w,Vn(),x);return function yp(_,f,g,w=500,x=600){const R=Math.max((window.screen.availHeight-x)/2,0).toString(),J=Math.max((window.screen.availWidth-w)/2,0).toString();let Ee="";const nt=Object.assign(Object.assign({},hd),{width:w.toString(),height:x.toString(),top:R,left:J}),ze=(0,j.z$)().toLowerCase();g&&(Ee=mo(ze)?"_blank":g),hs(ze)&&(f=f||"http://localhost",nt.scrollbars="yes");const xt=Object.entries(nt).reduce((On,[Dr,rr])=>`${On}${Dr}=${rr},`,"");if(function Wr(_=(0,j.z$)()){var f;return di(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(ze)&&"_self"!==Ee)return function Wv(_,f){const g=document.createElement("a");g.href=_,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",Ee),new Rh(null);const Mn=window.open(f||"",Ee,xt);ke(Mn,_,"popup-blocked");try{Mn.focus()}catch(On){}return new Rh(Mn)}(f,Ee,Gi())})()}_openRedirect(f,g,w,x){var R=this;return(0,d.Z)(function*(){return yield R._originValidation(f),function ja(_){tn().location.href=_}(Wl(f,g,w,Vn(),x)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:x,promise:R}=this.eventManagers[g];return x?Promise.resolve(x):(rn(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,d.Z)(function*(){const w=yield function Rm(_){return qu.apply(this,arguments)}(f),x=new Sh(f);return w.register("authEvent",R=>(ke(null==R?void 0:R.authEvent,f,"invalid-auth-event"),{status:x.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:x},g.iframes[f._key()]=w,x})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Zl,{type:Zl},x=>{var R;const J=null===(R=null==x?void 0:x[0])||void 0===R?void 0:R[Zl];void 0!==J&&g(!!J),an(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Gl(_){return io.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return _o()||Bt()||di()}};class Ya extends class vp{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return bn("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ya(f)}_finalizeEnroll(f,g,w){return function vh(_,f){return Ct(_,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(_,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function fp(_,f){return Ct(_,"POST","/v2/accounts/mfaSignIn:finalize",Gt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kl=(()=>{class _{constructor(){}static assertion(g){return Ya._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var wp="@firebase/auth",Wu="0.19.12";class kh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{var x;f((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function bp(_){(0,k._registerComponent)(new Ve.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),x=f.getProvider("heartbeat"),{apiKey:R,authDomain:J}=w.options;return((Ee,nt)=>{ke(R&&!R.includes(":"),"invalid-api-key",{appName:Ee.name}),ke(!(null==J?void 0:J.includes(":")),"argument-error",{appName:Ee.name});const ze={apiKey:R,authDomain:J,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ti(_)},xt=new Di(Ee,nt,ze);return function un(_,f){const g=(null==f?void 0:f.persistence)||[],w=(Array.isArray(g)?g:[g]).map(kn);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(xt,g),xt})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new Ve.wA("auth-internal",f=>{const g=dr(f.getProvider("auth").getImmediate());return new kh(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(wp,Wu,function pd(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,k.registerVersion)(wp,Wu,"esm2017")}("Browser")},2090:(vt,Se,V)=>{"use strict";V.d(Se,{BH:()=>Re,LL:()=>Pt,ZR:()=>fe,zI:()=>he,US:()=>ce,tV:()=>W,L:()=>ge,$s:()=>Xr,r3:()=>_r,Sg:()=>Le,ne:()=>ct,vZ:()=>li,ZB:()=>ie,Lj:()=>en,pd:()=>bn,m9:()=>dt,z$:()=>je,jU:()=>Ue,ru:()=>$e,d:()=>rt,xb:()=>an,w1:()=>Oe,hl:()=>re,uI:()=>ve,UG:()=>ye,b$:()=>He,G6:()=>yt,Mn:()=>ut,X3:()=>Et,xO:()=>vr,zd:()=>ke,eu:()=>_e});var d=V(5861);const ae=function(Z){const G=[];let Q=0;for(let we=0;we<Z.length;we++){let L=Z.charCodeAt(we);L<128?G[Q++]=L:L<2048?(G[Q++]=L>>6|192,G[Q++]=63&L|128):55296==(64512&L)&&we+1<Z.length&&56320==(64512&Z.charCodeAt(we+1))?(L=65536+((1023&L)<<10)+(1023&Z.charCodeAt(++we)),G[Q++]=L>>18|240,G[Q++]=L>>12&63|128,G[Q++]=L>>6&63|128,G[Q++]=63&L|128):(G[Q++]=L>>12|224,G[Q++]=L>>6&63|128,G[Q++]=63&L|128)}return G},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,G){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let L=0;L<Z.length;L+=3){const B=Z[L],q=L+1<Z.length,le=q?Z[L+1]:0,Be=L+2<Z.length,Ze=Be?Z[L+2]:0;let Lt=(15&le)<<2|Ze>>6,En=63&Ze;Be||(En=64,q||(Lt=64)),we.push(Q[B>>2],Q[(3&B)<<4|le>>4],Q[Lt],Q[En])}return we.join("")},encodeString(Z,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Z):this.encodeByteArray(ae(Z),G)},decodeString(Z,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Z):function(Z){const G=[];let Q=0,we=0;for(;Q<Z.length;){const L=Z[Q++];if(L<128)G[we++]=String.fromCharCode(L);else if(L>191&&L<224){const B=Z[Q++];G[we++]=String.fromCharCode((31&L)<<6|63&B)}else if(L>239&&L<365){const Be=((7&L)<<18|(63&Z[Q++])<<12|(63&Z[Q++])<<6|63&Z[Q++])-65536;G[we++]=String.fromCharCode(55296+(Be>>10)),G[we++]=String.fromCharCode(56320+(1023&Be))}else{const B=Z[Q++],q=Z[Q++];G[we++]=String.fromCharCode((15&L)<<12|(63&B)<<6|63&q)}}return G.join("")}(this.decodeStringToByteArray(Z,G))},decodeStringToByteArray(Z,G){this.init_();const Q=G?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let L=0;L<Z.length;){const B=Q[Z.charAt(L++)],le=L<Z.length?Q[Z.charAt(L)]:0;++L;const Ze=L<Z.length?Q[Z.charAt(L)]:64;++L;const st=L<Z.length?Q[Z.charAt(L)]:64;if(++L,null==B||null==le||null==Ze||null==st)throw Error();we.push(B<<2|le>>4),64!==Ze&&(we.push(le<<4&240|Ze>>2),64!==st&&we.push(Ze<<6&192|st))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},ge=function(Z){return function(Z){const G=ae(Z);return ce.encodeByteArray(G,!0)}(Z).replace(/\./g,"")},W=function(Z){try{return ce.decodeString(Z,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function ie(Z,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return G}for(const Q in G)!G.hasOwnProperty(Q)||!Ke(Q)||(Z[Q]=ie(Z[Q],G[Q]));return Z}function Ke(Z){return"__proto__"!==Z}class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Q)=>{this.resolve=G,this.reject=Q})}wrapCallback(G){return(Q,we)=>{Q?this.reject(Q):this.resolve(we),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Q):G(Q,we))}}}function Le(Z,G){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=G||"demo-project",L=Z.iat||0,B=Z.sub||Z.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const q=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:L,exp:L+3600,auth_time:L,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(q)),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function Ue(){return"object"==typeof self&&self.self===self}function $e(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function He(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){return je().indexOf("Electron/")>=0}function Oe(){const Z=je();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function ut(){return je().indexOf("MSAppHost/")>=0}function yt(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){return"object"==typeof indexedDB}function _e(){return new Promise((Z,G)=>{try{let Q=!0;const we="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(we);L.onsuccess=()=>{L.result.close(),Q||self.indexedDB.deleteDatabase(we),Z(!0)},L.onupgradeneeded=()=>{Q=!1},L.onerror=()=>{var B;G((null===(B=L.error)||void 0===B?void 0:B.message)||"")}}catch(Q){G(Q)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class fe extends Error{constructor(G,Q,we){super(Q),this.code=G,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(G,Q,we){this.service=G,this.serviceName=Q,this.errors=we}create(G,...Q){const we=Q[0]||{},L=`${this.service}/${G}`,B=this.errors[G],q=B?function pn(Z,G){return Z.replace(qn,(Q,we)=>{const L=G[we];return null!=L?String(L):`<${we}?>`})}(B,we):"Error";return new fe(L,`${this.serviceName}: ${q} (${L}).`,we)}}const qn=/\{\$([^}]+)}/g;function _r(Z,G){return Object.prototype.hasOwnProperty.call(Z,G)}function an(Z){for(const G in Z)if(Object.prototype.hasOwnProperty.call(Z,G))return!1;return!0}function li(Z,G){if(Z===G)return!0;const Q=Object.keys(Z),we=Object.keys(G);for(const L of Q){if(!we.includes(L))return!1;const B=Z[L],q=G[L];if(xr(B)&&xr(q)){if(!li(B,q))return!1}else if(B!==q)return!1}for(const L of we)if(!Q.includes(L))return!1;return!0}function xr(Z){return null!==Z&&"object"==typeof Z}function vr(Z){const G=[];for(const[Q,we]of Object.entries(Z))Array.isArray(we)?we.forEach(L=>{G.push(encodeURIComponent(Q)+"="+encodeURIComponent(L))}):G.push(encodeURIComponent(Q)+"="+encodeURIComponent(we));return G.length?"&"+G.join("&"):""}function ke(Z){const G={};return Z.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[L,B]=we.split("=");G[decodeURIComponent(L)]=decodeURIComponent(B)}}),G}function bn(Z){const G=Z.indexOf("?");if(!G)return"";const Q=Z.indexOf("#",G);return Z.substring(G,Q>0?Q:void 0)}function ct(Z,G){const Q=new kn(Z,G);return Q.subscribe.bind(Q)}class kn{constructor(G,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{G(this)}).catch(we=>{this.error(we)})}next(G){this.forEachObserver(Q=>{Q.next(G)})}error(G){this.forEachObserver(Q=>{Q.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Q,we){let L;if(void 0===G&&void 0===Q&&void 0===we)throw new Error("Missing Observer.");L=function un(Z,G){if("object"!=typeof Z||null===Z)return!1;for(const Q of G)if(Q in Z&&"function"==typeof Z[Q])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:Q,complete:we},void 0===L.next&&(L.next=Vn),void 0===L.error&&(L.error=Vn),void 0===L.complete&&(L.complete=Vn);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch(q){}}),this.observers.push(L),B}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,G)}sendOne(G,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Q(this.observers[G])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vn(){}function Xr(Z,G=1e3,Q=2){const we=G*Math.pow(Q,Z),L=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+L)}function dt(Z){return Z&&Z._delegate?Z._delegate:Z}function Hn(Z,G){return new Promise((Q,we)=>{Z.onsuccess=L=>{Q(L.target.result)},Z.onerror=L=>{var B;we(`${G}: ${null===(B=L.target.error)||void 0===B?void 0:B.message}`)}})}class Wt{constructor(G){this._db=G,this.objectStoreNames=this._db.objectStoreNames}transaction(G,Q="readonly"){return new Te(this._db.transaction.call(this._db,G,Q))}createObjectStore(G,Q){return new Ae(this._db.createObjectStore(G,Q))}close(){this._db.close()}}class Te{constructor(G){this._transaction=G,this.complete=new Promise((Q,we)=>{this._transaction.oncomplete=function(){Q()},this._transaction.onerror=()=>{we(this._transaction.error)},this._transaction.onabort=()=>{we(this._transaction.error)}})}objectStore(G){return new Ae(this._transaction.objectStore(G))}}class Ae{constructor(G){this._store=G}index(G){return new it(this._store.index(G))}createIndex(G,Q,we){return new it(this._store.createIndex(G,Q,we))}get(G){return Hn(this._store.get(G),"Error reading from IndexedDB")}put(G,Q){return Hn(this._store.put(G,Q),"Error writing to IndexedDB")}delete(G){return Hn(this._store.delete(G),"Error deleting from IndexedDB")}clear(){return Hn(this._store.clear(),"Error clearing IndexedDB object store")}}class it{constructor(G){this._index=G}get(G){return Hn(this._index.get(G),"Error reading from IndexedDB")}}function Et(Z,G,Q){return new Promise((we,L)=>{try{const B=indexedDB.open(Z,G);B.onsuccess=q=>{we(new Wt(q.target.result))},B.onerror=q=>{var le;L(`Error opening indexedDB: ${null===(le=q.target.error)||void 0===le?void 0:le.message}`)},B.onupgradeneeded=q=>{Q(new Wt(B.result),q.oldVersion,q.newVersion,new Te(B.transaction))}}catch(B){L(`Error opening indexedDB: ${B.message}`)}})}function en(Z){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(Z){return new Promise((G,Q)=>{try{const we=indexedDB.deleteDatabase(Z);we.onsuccess=()=>{G()},we.onerror=L=>{var B;Q(`Error deleting indexedDB database "${Z}": ${null===(B=L.target.error)||void 0===B?void 0:B.message}`)}}catch(we){Q(`Error deleting indexedDB database "${Z}": ${we.message}`)}})})).apply(this,arguments)}},1026:(vt,Se,V)=>{"use strict";var d=V(5e3);let j=null;function k(){return j}const ce=new d.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ge(){return(0,d.LFG)(K)}()},providedIn:"platform"}),n})();const W=new d.OlP("Location Initialized");let K=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){ie()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){ie()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ke(){return new K((0,d.LFG)(ce))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function je(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ye(n){const e=(0,d.LFG)(ce).location;return new $e((0,d.LFG)(de),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ue=new d.OlP("appBaseHref");let $e=(()=>{class n extends ve{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+je(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const h=this.prepareExternalUrl(o+je(u));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){const h=this.prepareExternalUrl(o+je(u));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de),d.LFG(Ue,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n extends ve{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let h=this.prepareExternalUrl(o+je(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){let h=this.prepareExternalUrl(o+je(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de),d.LFG(Ue,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),rt=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Le(Y(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+je(r))}normalize(t){return n.stripTrailingSlash(function ut(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Y(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=je,n.joinWithSlash=Re,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(d.LFG(ve),d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Oe(){return new rt((0,d.LFG)(ve),(0,d.LFG)(de))}()},providedIn:"root"}),n})();function Y(n){return n.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Zero=0]="Zero",_e[_e.One=1]="One",_e[_e.Two=2]="Two",_e[_e.Few=3]="Few",_e[_e.Many=4]="Many",_e[_e.Other=5]="Other",_e))();const ke=d.kL8;class Ut{}let hs=(()=>{class n extends Ut{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(ke(r||this.locale)(t)){case _e.Zero:return"zero";case _e.One:return"one";case _e.Two:return"two";case _e.Few:return"few";case _e.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ii=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Vi{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wr=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Vi(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,h),di(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{di(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function di(n,e){n.context.$implicit=e.item}let Wr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Tn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_o("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_o("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Tn{constructor(){this.$implicit=null,this.ngIf=null}}function _o(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let Ol=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:Ut,useClass:hs}]}),n})();function Jo(n){return"server"===n}let Eo=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Bs((0,d.LFG)(ce),window)}),n})();class Bs{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function js(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yn(this.window.history)||yn(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function yn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ni extends class Co extends class Ie{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){j||(j=n)}(new ni)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Er(){return nr=nr||document.querySelector("base"),nr?nr.getAttribute("href"):null}();return null==t?null:function Io(n){ms=ms||document.createElement("a"),ms.setAttribute("href",n);const e=ms.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){nr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function mo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let ms,nr=null;const ys=new d.OlP("TRANSITION_ID"),_s=[{provide:d.ip1,useFactory:function mn(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=k(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[ys,ce,d.zs3],multi:!0}];class $i{static init(){(0,d.VLi)(new $i)}addToWindow(e){d.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const o=d.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const m=function(E){h=h||E,u--,0==u&&r(h)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Do=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Kr=new d.OlP("EventManagerPlugins");let vs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const h=o[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Kr),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ts{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=k().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let mt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ws=(()=>{class n extends mt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ea),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ea))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function ea(n){k().remove(n)}const bs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$s=/%COMP%/g;function An(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?An(n,o,t):(o=o.replace($s,n),t.push(o))}return t}function Cs(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let pr=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Is(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Pa(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case d.ifc.ShadowDom:return new So(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=An(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(vs),d.LFG(ws),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Is{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=bs[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=bs[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,o&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Cs(r)):this.eventManager.addEventListener(e,t,Cs(r))}}class Pa extends Is{constructor(e,t,r,o){super(e),this.component=r;const u=An(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function qt(n){return"_ngcontent-%COMP%".replace($s,n)}(o+"-"+r.id),this.hostAttr=function Ao(n){return"_nghost-%COMP%".replace($s,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class So extends Is{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=An(o.id,o.styles,[]);for(let h=0;h<u.length;h++){const m=document.createElement("style");m.textContent=u[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let qs=(()=>{class n extends ts{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ir=["alt","control","meta","shift"],na={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Si={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xo=(()=>{class n extends ts{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),h=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let h="";if(ir.forEach(E=>{const A=r.indexOf(E);A>-1&&(r.splice(A,1),h+=E+".")}),h+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function zs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Hi.hasOwnProperty(e)&&(e=Hi[e]))}return na[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ir.forEach(u=>{u!=o&&Si[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ra=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Ds(){ni.makeCurrent(),$i.init()},multi:!0},{provide:ce,useFactory:function Po(){return(0,d.RDi)(document),document},deps:[]}]),Zs=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Mo(){return new d.qLn},deps:[]},{provide:Kr,useClass:qs,multi:!0,deps:[ce,d.R0b,d.Lbi]},{provide:Kr,useClass:xo,multi:!0,deps:[ce]},{provide:pr,useClass:pr,deps:[vs,ws,d.AFp]},{provide:d.FYo,useExisting:pr},{provide:mt,useExisting:ws},{provide:ws,useClass:ws,deps:[ce]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:vs,useClass:vs,deps:[Kr,d.R0b]},{provide:class Wn{},useClass:Do,deps:[]}];let Oa=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:ys,useExisting:d.AFp},_s]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Zs,imports:[Ol,d.hGG]}),n})();"undefined"!=typeof window&&window;var Un=V(8996),Bn=V(7669);function b(...n){const e=(0,Bn.yG)(n);return(0,Un.D)(n,e)}var C=V(7579);class M extends C.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var $=V(8306);const{isArray:xe}=Array,{getPrototypeOf:ht,prototype:Ln,keys:sr}=Object;function jn(n){if(1===n.length){const e=n[0];if(xe(e))return{args:e,keys:null};if(function Mi(n){return n&&"object"==typeof n&&ht(n)===Ln}(e)){const t=sr(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Pi=V(4671),Jt=V(4004);const{isArray:vh}=Array;function ua(n){return(0,Jt.U)(e=>function Ba(n,e){return vh(e)?n(...e):n(e)}(n,e))}function Xs(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Or=V(5403),Ts=V(9672);function Vu(n,e,t){n?(0,Ts.f)(t,n,e):e()}const Fo=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var la=V(8189);function Oi(...n){return function wh(){return(0,la.J)(1)}()((0,Un.D)(n,(0,Bn.yG)(n)))}var rs=V(8421);function bh(n){return new $.y(e=>{(0,rs.Xf)(n()).subscribe(e)})}var Gi=V(515),Fl=V(727),tn=V(4482);function ja(){return(0,tn.e)((n,e)=>{let t=null;n._refCount++;const r=new Or.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class $a extends $.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,tn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fl.w0;const t=this.getSubject();e.add(this.source.subscribe(new Or.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fl.w0.EMPTY)}return e}refCount(){return ja()(this)}}function gr(n,e){return(0,tn.e)((t,r)=>{let o=null,u=0,h=!1;const m=()=>h&&!o&&r.complete();t.subscribe(new Or.Q(r,E=>{null==o||o.unsubscribe();let A=0;const N=u++;(0,rs.Xf)(n(E,N)).subscribe(o=new Or.Q(r,F=>r.next(e?e(E,F,N,A++):F),()=>{o=null,m()}))},()=>{h=!0,m()}))})}var is=V(5698);function qi(...n){const e=(0,Bn.yG)(n);return(0,tn.e)((t,r)=>{(e?Oi(n,t,e):Oi(n,t)).subscribe(r)})}function ca(n,e,t,r,o){return(u,h)=>{let m=t,E=e,A=0;u.subscribe(new Or.Q(h,N=>{const F=A++;E=m?n(E,N,F):(m=!0,N),r&&h.next(E)},o&&(()=>{m&&h.next(E),h.complete()})))}}function As(n,e){return(0,tn.e)(ca(n,e,arguments.length>=2,!0))}function zi(n,e){return(0,tn.e)((t,r)=>{let o=0;t.subscribe(new Or.Q(r,u=>n.call(e,u,o++)&&r.next(u)))})}function Cr(n){return(0,tn.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe(new Or.Q(t,void 0,void 0,h=>{u=(0,rs.Xf)(n(h,Cr(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Yr=V(5577),da=V(576);function Cn(n,e){return(0,da.m)(e)?(0,Yr.z)(n,e,1):(0,Yr.z)(n,1)}function Ha(n){return n<=0?()=>Gi.E:(0,tn.e)((e,t)=>{let r=[];e.subscribe(new Or.Q(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Qc(n=hp){return(0,tn.e)((e,t)=>{let r=!1;e.subscribe(new Or.Q(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function hp(){return new Fo}function Jc(n){return(0,tn.e)((e,t)=>{let r=!1;e.subscribe(new Or.Q(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function eo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zi((o,u)=>n(o,u,r)):Pi.y,(0,is.q)(1),t?Jc(e):Qc(()=>new Fo))}var ri=V(8505);class to{constructor(e,t){this.id=e,this.url=t}}class or extends to{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class no extends to{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fa extends to{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fp extends to{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Eh extends to{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends to{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ss extends to{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Uu extends to{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ga extends to{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lo{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bu{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ju{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ll{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ed{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vo{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const St="primary";class qa{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function gi(n){return new qa(n)}const pp="ngNavigationCancelingError";function Vl(n){const e=Error("NavigationCancelingError: "+n);return e[pp]=!0,e}function Ih(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const h=r[u],m=n[u];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Qr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!za(n[o],e[o]))return!1;return!0}function za(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Ul(n){return Array.prototype.concat.apply([],n)}function pa(n){return n.length>0?n[n.length-1]:null}function Ir(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ar(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,Un.D)(Promise.resolve(n)):b(n)}const ga={exact:function jl(n,e,t){if(!Dt(n.segments,e.segments)||!H(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!jl(n.children[r],e.children[r],t))return!1;return!0},subset:T},Wa={exact:function Bl(n,e){return Qr(n,e)},subset:function D(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>za(n[t],e[t]))},ignored:()=>!0};function td(n,e,t){return ga[t.paths](n.root,e.root,t.matrixParams)&&Wa[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function T(n,e,t){return O(n,e,e.segments,t)}function O(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Dt(o,t)||e.hasChildren()||!H(o,t,r))}if(n.segments.length===t.length){if(!Dt(n.segments,t)||!H(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!T(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Dt(n.segments,o)&&H(n.segments,o,r)&&n.children[St])&&O(n.children[St],e,u,r)}}function H(n,e,t){return e.every((r,o)=>Wa[t](n[o].parameters,r.parameters))}class ee{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gi(this.queryParams)),this._queryParamMap}toString(){return Vr.serialize(this)}}class ne{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ir(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xn(this)}}class Fe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=gi(this.parameters)),this._parameterMap}toString(){return nd(this)}}function Dt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class hn{}class Ft{parse(e){const t=new Th(e);return new ee(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Wi(e.root,!0)}`,r=function Za(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Zi(t)}=${Zi(o)}`).join("&"):`${Zi(t)}=${Zi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ro(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Vr=new Ft;function xn(n){return n.segments.map(e=>nd(e)).join("/")}function Wi(n,e){if(!n.hasChildren())return xn(n);if(e){const t=n.children[St]?Wi(n.children[St],!1):"",r=[];return Ir(n.children,(o,u)=>{u!==St&&r.push(`${u}:${Wi(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function kt(n,e){let t=[];return Ir(n.children,(r,o)=>{o===St&&(t=t.concat(e(r,o)))}),Ir(n.children,(r,o)=>{o!==St&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===St?[Wi(n.children[St],!1)]:[`${o}:${Wi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${xn(n)}/${t[0]}`:`${xn(n)}/(${t.join("//")})`}}function xs(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zi(n){return xs(n).replace(/%3B/gi,";")}function os(n){return xs(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function as(n){return decodeURIComponent(n)}function $l(n){return as(n.replace(/\+/g,"%20"))}function nd(n){return`${os(n.path)}${function Cm(n){return Object.keys(n).map(e=>`;${os(e)}=${os(n[e])}`).join("")}(n.parameters)}`}const Hu=/^[^\/()?;=#]+/;function rd(n){const e=n.match(Hu);return e?e[0]:""}const qv=/^[^=?&#]+/,Im=/^[^&#]+/;class Th{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[St]=new ne(e,t)),r}parseSegment(){const e=rd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Fe(as(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=rd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=rd(this.remaining);o&&(r=o,this.capture(r))}e[as(t)]=as(r)}parseQueryParam(e){const t=function id(n){const e=n.match(qv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function zv(n){const e=n.match(Im);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=$l(t),u=$l(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rd(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=St);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[St]:new ne([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class gp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ah(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ah(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ma(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return ma(e,this._root).map(t=>t.value)}}function Ah(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ah(n,t);if(r)return r}return null}function ma(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ma(n,t);if(r.length)return r.unshift(e),r}return[]}class Ms{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ki(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class sd extends gp{constructor(e,t){super(e),this.snapshot=t,ld(this,e)}toString(){return this.snapshot.toString()}}function od(n,e){const t=function Dm(n,e){const h=new Gu([],{},{},"",{},St,e,null,n.root,-1,{});return new ud("",new Ms(h,[]))}(n,e),r=new M([new Fe("",{})]),o=new M({}),u=new M({}),h=new M({}),m=new M(""),E=new Ps(r,o,h,m,u,St,e,t.root);return E.snapshot=t.root,new sd(new Ms(E,[]),t)}class Ps{constructor(e,t,r,o,u,h,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Jt.U)(e=>gi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Jt.U)(e=>gi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ad(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Sh(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Gu{constructor(e,t,r,o,u,h,m,E,A,N,F){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=m,this.routeConfig=E,this._urlSegment=A,this._lastPathIndex=N,this._resolve=F}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ud extends gp{constructor(e,t){super(t),this.url=e,ld(this,t)}toString(){return xh(this._root)}}function ld(n,e){e.value._routerState=n,e.children.forEach(t=>ld(n,t))}function xh(n){const e=n.children.length>0?` { ${n.children.map(xh).join(", ")} } `:"";return`${n.value}${e}`}function Hl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Qr(e.params,t.params)||n.params.next(t.params),function Dh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Qr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Mh(n,e){const t=Qr(n.params,e.params)&&function ot(n,e){return Dt(n,e)&&n.every((t,r)=>Qr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Mh(n.parent,e.parent))}function Gl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function io(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Gl(n,r,o);return Gl(n,r)})}(n,e,t);return new Ms(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>Gl(n,m)),h}}const r=function ql(n){return new Ps(new M(n.url),new M(n.params),new M(n.queryParams),new M(n.fragment),new M(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Gl(n,u));return new Ms(r,o)}}function cd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function dd(n){return"object"==typeof n&&null!=n&&n.outlets}function zl(n,e,t,r,o){let u={};return r&&Ir(r,(h,m)=>{u[m]=Array.isArray(h)?h.map(E=>`${E}`):`${h}`}),new ee(t.root===n?e:Sm(t.root,n,e),u,o)}function Sm(n,e,t){const r={};return Ir(n.children,(o,u)=>{r[u]=o===e?t:Sm(o,e,t)}),new ne(n.segments,r)}class xm{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&cd(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(dd);if(o&&o!==pa(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ph{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Rm(n,e,t){if(n||(n=new ne([],{})),0===n.segments.length&&n.hasChildren())return qu(n,e,t);const r=function hd(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const h=n.segments[o],m=t[r];if(dd(m))break;const E=`${m}`,A=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&A&&"object"==typeof A&&void 0===A.outlets){if(!Oh(E,A,h))return u;r+=2}else{if(!Oh(E,{},h))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new ne(n.segments.slice(0,r.pathIndex),{});return u.children[St]=new ne(n.segments.slice(r.pathIndex),n.children),qu(u,0,o)}return r.match&&0===o.length?new ne(n.segments,{}):r.match&&!n.hasChildren()?fd(n,e,t):r.match?qu(n,0,o):fd(n,e,t)}function qu(n,e,t){if(0===t.length)return new ne(n.segments,{});{const r=function Om(n){return dd(n[0])?n[0].outlets:{[St]:n}}(t),o={};return Ir(r,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[h]=Rm(n.children[h],e,u))}),Ir(n.children,(u,h)=>{void 0===r[h]&&(o[h]=u)}),new ne(n.segments,o)}}function fd(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(dd(u)){const E=so(u.outlets);return new ne(r,E)}if(0===o&&cd(t[0])){r.push(new Fe(n.segments[e].path,zu(t[0]))),o++;continue}const h=dd(u)?u.outlets[St]:`${u}`,m=o<t.length-1?t[o+1]:null;h&&m&&cd(m)?(r.push(new Fe(h,zu(m))),o+=2):(r.push(new Fe(h,{})),o++)}return new ne(r,{})}function so(n){const e={};return Ir(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=fd(new ne([],{}),0,t))}),e}function zu(n){const e={};return Ir(n,(t,r)=>e[r]=`${t}`),e}function Oh(n,e,t){return n==t.path&&Qr(e,t.parameters)}class yp{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Hl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Ki(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],r),delete o[h]}),Ir(o,(u,h)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Ki(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Ki(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Ki(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new ed(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Ll(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Hl(o),o===u)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Hl(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=function Wv(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=E,h.outlet&&h.outlet.activateWith(o,E),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class _p{constructor(e,t){this.routes=e,this.module=t}}function Ka(n){return"function"==typeof n}function Uo(n){return n instanceof ee}const Ya=Symbol("INITIAL_VALUE");function Kl(){return gr(n=>function Yc(...n){const e=(0,Bn.yG)(n),t=(0,Bn.jO)(n),{args:r,keys:o}=jn(n);if(0===r.length)return(0,Un.D)([],e);const u=new $.y(function ns(n,e,t=Pi.y){return r=>{Vu(e,()=>{const{length:o}=n,u=new Array(o);let h=o,m=o;for(let E=0;E<o;E++)Vu(e,()=>{const A=(0,Un.D)(n[E],e);let N=!1;A.subscribe(new Or.Q(r,F=>{u[E]=F,N||(N=!0,m--),m||r.next(t(u.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>Xs(o,h):Pi.y));return t?u.pipe(ua(t)):u}(n.map(e=>e.pipe((0,is.q)(1),qi(Ya)))).pipe(As((e,t)=>{let r=!1;return t.reduce((o,u,h)=>o!==Ya?o:(u===Ya&&(r=!0),r||!1!==u&&h!==t.length-1&&!Uo(u)?o:u),e)},Ya),zi(e=>e!==Ya),(0,Jt.U)(e=>Uo(e)?e:!0===e),(0,is.q)(1)))}class wp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wu,this.attachRef=null}}class Wu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new wp,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let kh=(()=>{class n{constructor(t,r,o,u,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=u||St,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new pd(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Wu),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class pd{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ps?this.route:e===Wu?this.childContexts:this.parent.get(e,t)}}let bp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[kh],encapsulation:2}),n})();function Nh(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];_(r,f(e,r))}}function _(n,e){n.children&&Nh(n.children,e)}function f(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function g(n){const e=n.children&&n.children.map(g),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==St&&(t.component=bp),t}function w(n){return n.outlet||St}function x(n,e){const t=n.filter(r=>w(r)===e);return t.push(...n.filter(r=>w(r)!==e)),t}const R={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function J(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},R):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||Ih)(t,n,e);if(!u)return Object.assign({},R);const h={};Ir(u.posParams,(E,A)=>{h[A]=E.path});const m=u.consumed.length>0?Object.assign(Object.assign({},h),u.consumed[u.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Ee(n,e,t,r,o="corrected"){if(t.length>0&&function xt(n,e,t){return t.some(r=>On(n,e,r)&&w(r)!==St)}(n,t,r)){const h=new ne(e,function ze(n,e,t,r){const o={};o[St]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&w(u)!==St){const h=new ne([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[w(u)]=h}return o}(n,e,r,new ne(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function Mn(n,e,t){return t.some(r=>On(n,e,r))}(n,t,r)){const h=new ne(n.segments,function nt(n,e,t,r,o,u){const h={};for(const m of r)if(On(n,t,m)&&!o[w(m)]){const E=new ne([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:e.length,h[w(m)]=E}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const u=new ne(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function On(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Dr(n,e,t,r){return!!(w(n)===r||r!==St&&On(e,t,n))&&("**"===n.path||J(e,n,t).matched)}function rr(n,e,t){return 0===e.length&&!n.children[t]}class oo{constructor(e){this.segmentGroup=e||null}}class Yl{constructor(e){this.urlTree=e}}function Zu(n){return new $.y(e=>e.error(new oo(n)))}function Ur(n){return new $.y(e=>e.error(new Yl(n)))}function Qa(n){return new $.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Fh{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=Ee(this.urlTree.root,[],[],this.config).segmentGroup,t=new ne(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,St).pipe((0,Jt.U)(u=>this.createUrlTree(Vh(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cr(u=>{if(u instanceof Yl)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof oo?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,St).pipe((0,Jt.U)(o=>this.createUrlTree(Vh(o),e.queryParams,e.fragment))).pipe(Cr(o=>{throw o instanceof oo?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new ne([],{[St]:e}):e;return new ee(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Jt.U)(u=>new ne([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Un.D)(o).pipe(Cn(u=>{const h=r.children[u],m=x(t,u);return this.expandSegmentGroup(e,m,h,u).pipe((0,Jt.U)(E=>({segment:E,outlet:u})))}),As((u,h)=>(u[h.outlet]=h.segment,u),{}),function Em(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zi((o,u)=>n(o,u,r)):Pi.y,Ha(1),t?Jc(e):Qc(()=>new Fo))}())}expandSegment(e,t,r,o,u,h){return(0,Un.D)(r).pipe(Cn(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,h).pipe(Cr(A=>{if(A instanceof oo)return b(null);throw A}))),eo(m=>!!m),Cr((m,E)=>{if(m instanceof Fo||"EmptyError"===m.name){if(rr(t,o,u))return b(new ne([],{}));throw new oo(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,h,m){return Dr(o,t,u,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h):Zu(t):Zu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ur(u):this.lineralizeSegments(r,u).pipe((0,Yr.z)(h=>{const m=new ne(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){const{matched:m,consumedSegments:E,lastChild:A,positionalParamSegments:N}=J(t,o,u);if(!m)return Zu(t);const F=this.applyRedirectCommands(E,o.redirectTo,N);return o.redirectTo.startsWith("/")?Ur(F):this.lineralizeSegments(o,F).pipe((0,Yr.z)(X=>this.expandSegment(e,t,r,X.concat(u.slice(A)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?b(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Jt.U)(X=>(r._loadedConfig=X,new ne(o,{})))):b(new ne(o,{}));const{matched:h,consumedSegments:m,lastChild:E}=J(t,r,o);if(!h)return Zu(t);const A=o.slice(E);return this.getChildConfig(e,r,o).pipe((0,Yr.z)(F=>{const X=F.module,oe=F.routes,{segmentGroup:Ce,slicedSegments:We}=Ee(t,m,A,oe),ft=new ne(Ce.segments,Ce.children);if(0===We.length&&ft.hasChildren())return this.expandChildren(X,oe,ft).pipe((0,Jt.U)(jt=>new ne(m,jt)));if(0===oe.length&&0===We.length)return b(new ne(m,{}));const Xt=w(r)===u;return this.expandSegment(X,ft,oe,We,Xt?St:u,!0).pipe((0,Jt.U)(Qt=>new ne(m.concat(Qt.segments),Qt.children)))}))}getChildConfig(e,t,r){return t.children?b(new _p(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?b(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Yr.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Jt.U)(u=>(t._loadedConfig=u,u))):function gd(n){return new $.y(e=>e.error(Vl(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):b(new _p([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?b(o.map(h=>{const m=e.get(h);let E;if(function Zl(n){return n&&Ka(n.canLoad)}(m))E=m.canLoad(t,r);else{if(!Ka(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}return ar(E)})).pipe(Kl(),(0,ri.b)(h=>{if(!Uo(h))return;const m=Vl(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,Jt.U)(h=>!0===h)):b(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return b(r);if(o.numberOfChildren>1||!o.children[St])return Qa(e.redirectTo);o=o.children[St]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new ee(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ir(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let h={};return Ir(t.children,(m,E)=>{h[E]=this.createSegmentGroup(e,m,r,o)}),new ne(u,h)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Vh(n){const e={};for(const r of Object.keys(n.children)){const u=Vh(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Lh(n){if(1===n.numberOfChildren&&n.children[St]){const e=n.children[St];return new ne(n.segments.concat(e.segments),e.children)}return n}(new ne(n.segments,e))}class Cp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Uh{constructor(e,t){this.component=e,this.route=t}}function GE(n,e,t){const r=n._root;return Bh(r,e?e._root:null,t,[r.value])}function yd(n,e,t){const r=function zE(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Bh(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ki(e);return n.children.forEach(h=>{(function Nm(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const E=function WE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Dt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Dt(n.url,e.url)||!Qr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mh(n,e)||!Qr(n.queryParams,e.queryParams);default:return!Mh(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new Cp(r)):(u.data=h.data,u._resolvedData=h._resolvedData),Bh(n,e,u.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Uh(m.outlet.component,h))}else h&&jh(e,m,o),o.canActivateChecks.push(new Cp(r)),Bh(n,null,u.component?m?m.children:null:t,r,o)})(h,u[h.value.outlet],t,r.concat([h.value]),o),delete u[h.value.outlet]}),Ir(u,(h,m)=>jh(h,t.getContext(m),o)),o}function jh(n,e,t){const r=Ki(n),o=n.value;Ir(r,(u,h)=>{jh(u,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Uh(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class eC{}function Yv(n){return new $.y(e=>e.error(n))}class Qv{constructor(e,t,r,o,u,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const e=Ee(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,St);if(null===t)return null;const r=new Gu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ms(r,t),u=new ud(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=ad(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const h=t.children[u],m=x(e,u),E=this.processSegmentGroup(m,h,u);if(null===E)return null;r.push(...E)}const o=Ql(r);return function nC(n){n.sort((e,t)=>e.value.outlet===St?-1:t.value.outlet===St?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const h=this.processSegmentAgainstRoute(u,t,r,o);if(null!==h)return h}return rr(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Dr(e,t,r,o))return null;let u,h=[],m=[];if("**"===e.path){const oe=r.length>0?pa(r).parameters:{};u=new Gu(r,oe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fm(e),w(e),e.component,e,sC(t),oC(t)+r.length,aC(e))}else{const oe=J(t,e,r);if(!oe.matched)return null;h=oe.consumedSegments,m=r.slice(oe.lastChild),u=new Gu(h,oe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fm(e),w(e),e.component,e,sC(t),oC(t)+h.length,aC(e))}const E=function rC(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:A,slicedSegments:N}=Ee(t,h,m,E.filter(oe=>void 0===oe.redirectTo),this.relativeLinkResolution);if(0===N.length&&A.hasChildren()){const oe=this.processChildren(E,A);return null===oe?null:[new Ms(u,oe)]}if(0===E.length&&0===N.length)return[new Ms(u,[])];const F=w(e)===o,X=this.processSegment(E,A,N,F?St:o);return null===X?null:[new Ms(u,X)]}}function iC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ql(n){const e=[],t=new Set;for(const r of n){if(!iC(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Ql(r.children);e.push(new Ms(r.value,o))}return e.filter(r=>!t.has(r))}function sC(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function oC(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Fm(n){return n.data||{}}function aC(n){return n.resolve||{}}function Jl(n){return gr(e=>{const t=n(e);return t?(0,Un.D)(t).pipe((0,Jt.U)(()=>e)):b(e)})}class Um extends class ew{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Hh=new d.OlP("ROUTES");class Bm{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Jt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=u.create(e);return new _p(Ul(h.injector.get(Hh,void 0,d.XFs.Self|d.XFs.Optional)).map(g),h)}),Cr(u=>{throw t._loader$=void 0,u}));return t._loader$=new $a(o,()=>new C.x).pipe(ja()),t._loader$}loadModuleFactory(e){return ar(e()).pipe((0,Yr.z)(t=>t instanceof d.YKP?b(t):(0,Un.D)(this.compiler.compileModuleAsync(t))))}}class _d{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function jm(n){throw n}function tw(n,e,t){return e.parse("/")}function nw(n,e){return b(null)}const $m={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Os=(()=>{class n{constructor(t,r,o,u,h,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new C.x,this.errorHandler=jm,this.malformedUriErrorHandler=tw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:nw,afterPreactivation:nw},this.urlHandlingStrategy=new _d,this.routeReuseStrategy=new Um,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(d.h0i),this.console=h.get(d.c2e);const F=h.get(d.R0b);this.isNgZoneEnabled=F instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function $u(){return new ee(new ne([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Bm(h,m,X=>this.triggerEvent(new Lo(X)),X=>this.triggerEvent(new Bu(X))),this.routerState=od(this.currentUrlTree,this.rootComponentType),this.transitions=new M({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(zi(o=>0!==o.id),(0,Jt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),gr(o=>{let u=!1,h=!1;return b(o).pipe((0,ri.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gr(m=>{const E=this.browserUrlTree.toString(),A=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Ip(m.source)&&(this.browserUrlTree=m.extractedUrl),b(m).pipe(gr(F=>{const X=this.transitions.getValue();return r.next(new or(F.id,this.serializeUrl(F.extractedUrl),F.source,F.restoredState)),X!==this.transitions.getValue()?Gi.E:Promise.resolve(F)}),function md(n,e,t,r){return gr(o=>function Ep(n,e,t,r,o){return new Fh(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Jt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ri.b)(F=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:F.urlAfterRedirects})}),function ya(n,e,t,r,o){return(0,Yr.z)(u=>function tC(n,e,t,r,o="emptyOnly",u="legacy"){try{const h=new Qv(n,e,t,r,o,u).recognize();return null===h?Yv(new eC):b(h)}catch(h){return Yv(h)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,Jt.U)(h=>Object.assign(Object.assign({},u),{targetSnapshot:h}))))}(this.rootComponentType,this.config,F=>this.serializeUrl(F),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ri.b)(F=>{if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const oe=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(oe,F)}this.browserUrlTree=F.urlAfterRedirects}const X=new Eh(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);r.next(X)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:X,extractedUrl:oe,source:Ce,restoredState:We,extras:ft}=m,Xt=new or(X,this.serializeUrl(oe),Ce,We);r.next(Xt);const vn=od(oe,this.rootComponentType).snapshot;return b(Object.assign(Object.assign({},m),{targetSnapshot:vn,urlAfterRedirects:oe,extras:Object.assign(Object.assign({},ft),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Gi.E}),Jl(m=>{const{targetSnapshot:E,id:A,extractedUrl:N,rawUrl:F,extras:{skipLocationChange:X,replaceUrl:oe}}=m;return this.hooks.beforePreactivation(E,{navigationId:A,appliedUrlTree:N,rawUrlTree:F,skipLocationChange:!!X,replaceUrl:!!oe})}),(0,ri.b)(m=>{const E=new pi(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,Jt.U)(m=>Object.assign(Object.assign({},m),{guards:GE(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function $h(n,e){return(0,Yr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?b(Object.assign(Object.assign({},t),{guardsResult:!0})):function ZE(n,e,t,r){return(0,Un.D)(n).pipe((0,Yr.z)(o=>function XE(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?b(u.map(m=>{const E=yd(m,e,o);let A;if(function vp(n){return n&&Ka(n.canDeactivate)}(E))A=ar(E.canDeactivate(n,e,t,r));else{if(!Ka(E))throw new Error("Invalid CanDeactivate guard");A=ar(E(n,e,t,r))}return A.pipe(eo())})).pipe(Kl()):b(!0)}(o.component,o.route,t,e,r)),eo(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Yr.z)(m=>m&&function Wl(n){return"boolean"==typeof n}(m)?function KE(n,e,t,r){return(0,Un.D)(e).pipe(Cn(o=>Oi(function QE(n,e){return null!==n&&e&&e(new ju(n)),b(!0)}(o.route.parent,r),function YE(n,e){return null!==n&&e&&e(new Xc(n)),b(!0)}(o.route,r),function Kv(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function qE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>bh(()=>b(h.guards.map(E=>{const A=yd(E,h.node,t);let N;if(function km(n){return n&&Ka(n.canActivateChild)}(A))N=ar(A.canActivateChild(r,n));else{if(!Ka(A))throw new Error("Invalid CanActivateChild guard");N=ar(A(r,n))}return N.pipe(eo())})).pipe(Kl())));return b(u).pipe(Kl())}(n,o.path,t),function JE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return b(!0);const o=r.map(u=>bh(()=>{const h=yd(u,e,t);let m;if(function Zv(n){return n&&Ka(n.canActivate)}(h))m=ar(h.canActivate(e,n));else{if(!Ka(h))throw new Error("Invalid CanActivate guard");m=ar(h(e,n))}return m.pipe(eo())}));return b(o).pipe(Kl())}(n,o.route,t))),eo(o=>!0!==o,!0))}(r,u,n,e):b(m)),(0,Jt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,ri.b)(m=>{if(Uo(m.guardsResult)){const A=Vl(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw A.url=m.guardsResult,A}const E=new ss(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),zi(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Jl(m=>{if(m.guards.canActivateChecks.length)return b(m).pipe((0,ri.b)(E=>{const A=new Uu(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(A)}),gr(E=>{let A=!1;return b(E).pipe(function Lm(n,e){return(0,Yr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return b(t);let u=0;return(0,Un.D)(o).pipe(Cn(h=>function Vm(n,e,t,r){return function uC(n,e,t,r){const o=Object.keys(n);if(0===o.length)return b({});const u={};return(0,Un.D)(o).pipe((0,Yr.z)(h=>function Jv(n,e,t,r){const o=yd(n,e,r);return ar(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,ri.b)(m=>{u[h]=m}))),Ha(1),(0,Yr.z)(()=>Object.keys(u).length===o.length?b(u):Gi.E))}(n._resolve,n,e,r).pipe((0,Jt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),ad(n,t).resolve),null)))}(h.route,r,n,e)),(0,ri.b)(()=>u++),Ha(1),(0,Yr.z)(h=>u===o.length?b(t):Gi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ri.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,ri.b)(E=>{const A=new Ga(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(A)}))}),Jl(m=>{const{targetSnapshot:E,id:A,extractedUrl:N,rawUrl:F,extras:{skipLocationChange:X,replaceUrl:oe}}=m;return this.hooks.afterPreactivation(E,{navigationId:A,appliedUrlTree:N,rawUrlTree:F,skipLocationChange:!!X,replaceUrl:!!oe})}),(0,Jt.U)(m=>{const E=function Tm(n,e,t){const r=Gl(n,e._root,t?t._root:void 0);return new sd(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,ri.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Jt.U)(r=>(new yp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,ri.b)({next(){u=!0},complete(){u=!0}}),function ha(n){return(0,tn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),Cr(m=>{if(h=!0,function Ch(n){return n&&n[pp]}(m)){const E=Uo(m.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const A=new fa(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(A),E?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),F={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ip(o.source)};this.scheduleNavigation(N,"imperative",null,F,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new fp(o.id,this.serializeUrl(o.extractedUrl),m);r.next(E);try{o.resolve(this.errorHandler(m))}catch(A){o.reject(A)}}return Gi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},h=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(h){const E=Object.assign({},h);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,h,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Nh(t),this.config=t.map(g),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:m,preserveFragment:E}=r,A=o||this.routerState.root,N=E?this.currentUrlTree.fragment:h;let F=null;switch(m){case"merge":F=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=u||null}return null!==F&&(F=this.removeEmptyProps(F)),function Am(n,e,t,r,o){if(0===t.length)return zl(e.root,e.root,e,r,o);const u=function mp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new xm(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Ir(u.outlets,(E,A)=>{m[A]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new xm(t,e,r)}(t);if(u.toRoot())return zl(e.root,new ne([],{}),e,r,o);const h=function Mm(n,e,t){if(n.isAbsolute)return new Ph(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Ph(u,u===e.root,0)}const r=cd(n.commands[0])?0:1;return function Pm(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Ph(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=h.processChildren?qu(h.segmentGroup,h.index,u.commands):Rm(h.segmentGroup,h.index,u.commands);return zl(h.segmentGroup,m,e,r,o)}(A,this.currentUrlTree,t,F,null!=N?N:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Uo(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function cC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},$m):!1===r?Object.assign({},lC):r,Uo(t))return td(this.currentUrlTree,t,o);const u=this.parseUrl(t);return td(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new no(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,h){var m,E,A;if(this.disposed)return Promise.resolve(!1);const N=this.transitions.value,F=Ip(r)&&N&&!Ip(N.source),X=N.rawUrl.toString()===t.toString(),oe=N.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(F&&X&&oe)return Promise.resolve(!0);let We,ft,Xt;h?(We=h.resolve,ft=h.reject,Xt=h.promise):Xt=new Promise((jt,ln)=>{We=jt,ft=ln});const vn=++this.navigationId;let Qt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Qt=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(A=this.browserPageId)&&void 0!==A?A:0)+1):Qt=0,this.setTransition({id:vn,targetPageId:Qt,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:We,reject:ft,promise:Xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xt.catch(jt=>Promise.reject(jt))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new fa(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Ip(n){return"imperative"!==n}class Dp{}class iw{preload(e,t){return b(null)}}let zm=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new Bm(o,r,E=>t.triggerEvent(new Lo(E)),E=>t.triggerEvent(new Bu(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(zi(t=>t instanceof no),Cn(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const h=u._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,Un.D)(o).pipe((0,la.J)(),(0,Jt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?b(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Yr.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Os),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Dp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Tp=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof or?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof no&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vo&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Vo(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ku=new d.OlP("ROUTER_CONFIGURATION"),Wm=new d.OlP("ROUTER_FORROOT_GUARD"),hC=[rt,{provide:hn,useClass:Ft},{provide:Os,useFactory:function lw(n,e,t,r,o,u,h={},m,E){const A=new Os(null,n,e,t,r,o,Ul(u));return m&&(A.urlHandlingStrategy=m),E&&(A.routeReuseStrategy=E),function xp(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,A),h.enableTracing&&A.events.subscribe(N=>{var F,X;null===(F=console.group)||void 0===F||F.call(console,`Router Event: ${N.constructor.name}`),console.log(N.toString()),console.log(N),null===(X=console.groupEnd)||void 0===X||X.call(console)}),A},deps:[hn,Wu,rt,d.zs3,d.Sil,Hh,Ku,[class IT{},new d.FiY],[class Xv{},new d.FiY]]},Wu,{provide:Ps,useFactory:function Mp(n){return n.routerState.root},deps:[Os]},zm,iw,class dC{preload(e,t){return t().pipe(Cr(()=>b(null)))}},{provide:Ku,useValue:{enableTracing:!1}}];function Ap(){return new d.PXZ("Router",Os)}let sw=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[hC,Sp(t),{provide:Wm,useFactory:uw,deps:[[Os,new d.FiY,new d.tp0]]},{provide:Ku,useValue:r||{}},{provide:ve,useFactory:aw,deps:[de,[new d.tBr(Ue),new d.FiY],Ku]},{provide:Tp,useFactory:ow,deps:[Os,Eo,Ku]},{provide:Dp,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:iw},{provide:d.PXZ,multi:!0,useFactory:Ap},[Pp,{provide:d.ip1,multi:!0,useFactory:Zm,deps:[Pp]},{provide:Op,useFactory:cw,deps:[Pp]},{provide:d.tb,multi:!0,useExisting:Op}]]}}static forChild(t){return{ngModule:n,providers:[Sp(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Wm,8),d.LFG(Os,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function ow(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Tp(n,e,t)}function aw(n,e,t={}){return t.useHash?new He(n,e):new $e(n,e)}function uw(n){return"guarded"}function Sp(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:Hh,multi:!0,useValue:n}]}let Pp=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new C.x}appInitializer(){return this.injector.get(W,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get(Os),h=this.injector.get(Ku);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?b(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Ku),o=this.injector.get(zm),u=this.injector.get(Tp),h=this.injector.get(Os),m=this.injector.get(d.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),u.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Zm(n){return n.appInitializer.bind(n)}function cw(n){return n.bootstrapListener.bind(n)}const Op=new d.OlP("Router Initializer"),dw=[];let fC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[sw.forRoot(dw)],sw]}),n})(),pC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-navegador"]],decls:30,vars:0,consts:[[1,"presentacion"],[1,"redesS"],[1,"sub-redes"],["href","https://www.linkedin.com/in/leonardo-garc%C3%ADa-arroyo-5a87a6216/",1,"text-color2"],[1,"fa-brands","fa-linkedin"],["href","https://github.com/leogarcia99",1,"text-color2"],[1,"fa-brands","fa-git-square"],[1,"perfil"],[1,"animate__animated","animate__backInDown"],[1,"l1"],[1,"l2"],[1,"l3"],[1,"buttons","animate__animated","animate__fadeInUp"],["href","../../assets/pdf/miCV.pdf","download","",1,"button1"],["href","#contacto",1,"button2","bg-secundario"],[1,"img"],["src","https://firebasestorage.googleapis.com/v0/b/leonardo-portafolio.appspot.com/o/leo_f.png?alt=media&token=cdcb76a8-ecd9-4ce7-a295-b83300e55041","alt",""],[1,"down"],["id","mark"],["href","#footer",1,"text-color2"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"a",3),d._UZ(4,"i",4),d.qZA(),d._UZ(5,"br"),d.TgZ(6,"a",5),d._UZ(7,"i",6),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"div",7),d.TgZ(9,"div",8),d.TgZ(10,"label",9),d._uU(11,"Hola, Soy"),d.qZA(),d._UZ(12,"br"),d.TgZ(13,"label",10),d._uU(14,"Leonardo Garcia"),d.qZA(),d._UZ(15,"br"),d.TgZ(16,"label",11),d._uU(17,"Desarrollador web y de apps moviles"),d.qZA(),d.qZA(),d._UZ(18,"br"),d.TgZ(19,"div",12),d.TgZ(20,"a",13),d._uU(21,"Descargar CV"),d.qZA(),d.TgZ(22,"a",14),d._uU(23,"Hablemos"),d.qZA(),d.qZA(),d.TgZ(24,"div",15),d._UZ(25,"img",16),d.qZA(),d.qZA(),d.TgZ(26,"div",17),d.TgZ(27,"div",18),d.TgZ(28,"a",19),d._uU(29,"Scroll Down"),d.qZA(),d.qZA(),d.qZA(),d.qZA())},styles:[".presentacion[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center}.redesS[_ngcontent-%COMP%]{width:5%;height:100%;position:relative}.sub-redes[_ngcontent-%COMP%]{position:absolute;bottom:10px;font-size:24px}.perfil[_ngcontent-%COMP%]{width:70%;height:100%;text-align:center;padding:70px 30px 30px}.perfil[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:34px}.perfil[_ngcontent-%COMP%]   .l3[_ngcontent-%COMP%]{font-size:14px;color:#999}.perfil[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{width:100%}.perfil[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;margin-top:20px;text-decoration:none;cursor:pointer;transition:all .3s;padding:10px 15px}.button1[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #4EB4F7;color:#4eb4f7;border-radius:10px}.button1[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.button2[_ngcontent-%COMP%]{color:#fff;border-radius:10px}.button2[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.img[_ngcontent-%COMP%]{width:30%;height:60%;background:rgb(255,255,255);background:linear-gradient(0deg,rgba(255,255,255,.171) 0%,rgba(78,180,247,1) 100%);margin-left:auto;margin-right:auto;margin-top:20px;border-radius:100px 100px 0 0;position:relative;overflow:hidden}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150%;height:110%;margin-left:auto;margin-right:auto;position:absolute;bottom:0;left:0;filter:drop-shadow(0 2px 5px rgba(0,0,0,.7))}.down[_ngcontent-%COMP%]{width:5%;height:100%;position:relative}.down[_ngcontent-%COMP%]   #mark[_ngcontent-%COMP%]{transform:rotate(90deg);width:100px;position:absolute;bottom:10%}.down[_ngcontent-%COMP%]   #mark[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100px;height:50px;text-decoration:none}@media screen and (max-width: 1024px){.perfil[_ngcontent-%COMP%]   .l1[_ngcontent-%COMP%]{font-size:30px}.perfil[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:44px}.perfil[_ngcontent-%COMP%]   .l3[_ngcontent-%COMP%]{font-size:24px;color:#999}.img[_ngcontent-%COMP%]{width:40%}}@media screen and (max-width:912px){.img[_ngcontent-%COMP%]{width:70%}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170%}}@media screen and (max-width: 540px){.img[_ngcontent-%COMP%]{width:70%}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170%}.redesS[_ngcontent-%COMP%], .down[_ngcontent-%COMP%]{width:1%;height:100%}}@media screen and (max-width: 440px){.perfil[_ngcontent-%COMP%]   .l1[_ngcontent-%COMP%]{font-size:14px}.perfil[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:24px}.perfil[_ngcontent-%COMP%]   .l3[_ngcontent-%COMP%]{font-size:14px;color:#999}.perfil[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;margin-top:20px;text-decoration:none;cursor:pointer;transition:all .3s;padding:10px}.img[_ngcontent-%COMP%]{width:100%}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170%}}@media screen and (max-width: 414px){.perfil[_ngcontent-%COMP%]{width:74%;padding:0;margin-top:30px}.perfil[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;margin-top:20px;text-decoration:none;cursor:pointer;transition:all .3s;padding:10px 15px}.perfil[_ngcontent-%COMP%]   .l1[_ngcontent-%COMP%]{font-size:14px}.perfil[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:30px}.perfil[_ngcontent-%COMP%]   .l3[_ngcontent-%COMP%]{font-size:14px;color:#999}.img[_ngcontent-%COMP%]{width:70%}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:230%}}@media screen and (max-width: 410px){.perfil[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:22px}.perfil[_ngcontent-%COMP%]   .l3[_ngcontent-%COMP%]{font-size:12px;color:#999}.perfil[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;margin-top:20px;text-decoration:none;cursor:pointer;transition:all .3s;padding:7px}}@media screen and (max-width: 394px){.perfil[_ngcontent-%COMP%]{width:100%}.perfil[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px;margin-top:20px;text-decoration:none;cursor:pointer;transition:all .3s;padding:10px 15px}}@media screen and (max-width: 360px){.perfil[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center;padding:70px 30px 30px}.perfil[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:34px}.perfil[_ngcontent-%COMP%]   .l3[_ngcontent-%COMP%]{font-size:14px;color:#999}}"]}),n})(),hw=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-sobremi"]],decls:37,vars:0,consts:[[1,"contenedor"],[1,"text"],[1,"l1"],[1,"text-color2","l2"],[1,"boxes"],[1,"box1"],[1,"img"],[1,"span"],["src","https://firebasestorage.googleapis.com/v0/b/leonardo-portafolio.appspot.com/o/leo_foto.jpg?alt=media&token=0b26170b-6ad3-41df-82fb-2a1340379153","alt",""],[1,"box2"],[1,"sub-boxes"],[1,"sub-b"],[1,"fa-solid","fa-shield","text-color2"],["for",""],[1,"fa-solid","fa-users","text-color2"],[1,"fa-solid","fa-diagram-project","text-color2"],[1,"parrafos"],["href","#contacto",1,"bg-secundario"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"label",2),d._uU(3,"LLegar a saber"),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"label",3),d._uU(6,"Sobre mi"),d.qZA(),d.qZA(),d.TgZ(7,"div",4),d.TgZ(8,"div",5),d.TgZ(9,"div",6),d._UZ(10,"div",7),d._UZ(11,"img",8),d.qZA(),d.qZA(),d.TgZ(12,"div",9),d.TgZ(13,"div",10),d.TgZ(14,"div",11),d._UZ(15,"i",12),d.TgZ(16,"h3"),d._uU(17,"Experiencia"),d.qZA(),d.TgZ(18,"label",13),d._uU(19,"0.2 A\xf1os"),d.qZA(),d.qZA(),d.TgZ(20,"div",11),d._UZ(21,"i",14),d.TgZ(22,"h3"),d._uU(23,"Clientes"),d.qZA(),d.TgZ(24,"label",13),d._uU(25,"2 clientes satisfechos"),d.qZA(),d.qZA(),d.TgZ(26,"div",11),d._UZ(27,"i",15),d.TgZ(28,"h3"),d._uU(29,"Proyectos"),d.qZA(),d.TgZ(30,"label",13),d._uU(31,"5+ Completados"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(32,"div",16),d.TgZ(33,"p"),d._uU(34," Actualmente tengo 22 a\xf1os, estoy estudiando la ingenier\xeda de sistemas computacionales estoy en 8vo semestre, me encanta programar y dar lo mejor de mi en cada trabajo, he estado tomando curso para desarrollar mi aprendizaje mas haya de lo que me han ense\xf1ado, \xa1espero disfrute el contenido! "),d.qZA(),d.TgZ(35,"a",17),d._uU(36,"Hablemos"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA())},styles:[".contenedor[_ngcontent-%COMP%]{width:100%;height:auto}.text[_ngcontent-%COMP%]{width:100%;text-align:center}.text[_ngcontent-%COMP%]   .l1[_ngcontent-%COMP%]{font-size:18px}.text[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:32px}.boxes[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.box1[_ngcontent-%COMP%]{width:50%;padding:20px;display:flex;justify-content:center;align-items:center;transition:all .3s}.box1[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:40%;transform:rotate(20deg);position:relative;transition:all .3s ease-in-out}.box1[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover{transform:rotate(0)}.box1[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover > .span[_ngcontent-%COMP%]{transform:rotate(360deg)}.box1[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:20px;box-shadow:4px 4px 10px #000}.span[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;bottom:0;background-color:#0093e9;background-image:linear-gradient(160deg,#0093E9 0%,#80D0C7 100%);z-index:-1;transform:rotate(-20deg);border-radius:20px;transition:all .3s ease-in-out}.box2[_ngcontent-%COMP%]{width:50%;padding:20px}.sub-boxes[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;gap:10px}.sub-b[_ngcontent-%COMP%]{width:33%;background-color:#2b2c66;padding:30px;display:flex;justify-content:center;align-items:center;flex-direction:column;text-align:center;border-radius:20px;transition:all .3s}.sub-b[_ngcontent-%COMP%]:hover{box-shadow:4px 4px 10px #000}.sub-b[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.parrafos[_ngcontent-%COMP%]{width:100%;padding:20px}.parrafos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify}.parrafos[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;transition:all .3s;padding:10px 15px;color:#fff;border-radius:10px}.parrafos[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}@media screen and (max-width: 1024px){.sub-b[_ngcontent-%COMP%]{width:36%;padding:8px}}@media screen and (max-width: 821px){.contenedor[_ngcontent-%COMP%]{height:auto}.boxes[_ngcontent-%COMP%]{display:block}.box1[_ngcontent-%COMP%], .box2[_ngcontent-%COMP%]{width:100%}.sub-b[_ngcontent-%COMP%]{width:40%}.sub-b[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}.parrafos[_ngcontent-%COMP%]{width:100%;padding:5px}}@media screen and (max-width: 440px){.contenedor[_ngcontent-%COMP%]{width:100%;text-align:center}}"]}),n})();function Km(n,e){if(1&n&&(d.TgZ(0,"div",10),d._UZ(1,"i",11),d.TgZ(2,"label",12),d._uU(3),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"label",13),d._uU(6),d.qZA(),d.qZA()),2&n){const t=e.$implicit;d.xp6(3),d.hij(" ",t.nombre,""),d.xp6(3),d.hij("",t.porcentaje,"%")}}function fw(n,e){if(1&n&&(d.TgZ(0,"div",10),d._UZ(1,"i",11),d.TgZ(2,"label",12),d._uU(3),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"label",13),d._uU(6),d.qZA(),d.qZA()),2&n){const t=e.$implicit;d.xp6(3),d.hij(" ",t.nombre,""),d.xp6(3),d.hij("",t.porcentaje,"%")}}let TT=(()=>{class n{constructor(){this.front=[{nombre:"HTML",porcentaje:100},{nombre:"CSS",porcentaje:70},{nombre:"JAVASCRIPT",porcentaje:60},{nombre:"TYPESCRIPT",porcentaje:60},{nombre:"BOOTSTRAP",porcentaje:70},{nombre:"ANGULAR",porcentaje:90},{nombre:"IONIC",porcentaje:50},{nombre:"STRUCS2",porcentaje:50}],this.back=[{nombre:"JAVA",porcentaje:80},{nombre:"PYTHON",porcentaje:60},{nombre:"C#",porcentaje:80},{nombre:"MYSQL",porcentaje:80},{nombre:"MONGODB",porcentaje:30},{nombre:"KOTLIN",porcentaje:40},{nombre:"DART",porcentaje:40},{nombre:"ASP.NET",porcentaje:50}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-miexperience"]],decls:18,vars:2,consts:[[1,"contenedor"],[1,"textos"],[1,"l1"],[1,"l2","text-color2"],[1,"skills"],[1,"frond"],[1,"contenedor-front"],["class","sub-cpntenedor",4,"ngFor","ngForOf"],[1,"back"],[1,"contenedor-back"],[1,"sub-cpntenedor"],[1,"fa-solid","fa-circle-check","text-color2","p-1"],["for",""],[1,"label2"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"label",2),d._uU(3,"Que habilidades tengo"),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"label",3),d._uU(6,"Mi experiencia"),d.qZA(),d.qZA(),d.TgZ(7,"div",4),d.TgZ(8,"div",5),d.TgZ(9,"h4"),d._uU(10,"Desarrollo front-end"),d.qZA(),d.TgZ(11,"div",6),d.YNc(12,Km,7,2,"div",7),d.qZA(),d.qZA(),d.TgZ(13,"div",8),d.TgZ(14,"h4"),d._uU(15,"Desarrollo back-end"),d.qZA(),d.TgZ(16,"div",9),d.YNc(17,fw,7,2,"div",7),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(12),d.Q6J("ngForOf",r.front),d.xp6(5),d.Q6J("ngForOf",r.back))},directives:[wr],styles:[".contenedor[_ngcontent-%COMP%]{width:100%}.textos[_ngcontent-%COMP%]{width:100%;text-align:center}.l1[_ngcontent-%COMP%]{font-size:12px}.l2[_ngcontent-%COMP%]{font-size:30px}.skills[_ngcontent-%COMP%]{width:100%;padding:20px;display:flex;justify-content:center;align-items:center;gap:10px}.frond[_ngcontent-%COMP%], .back[_ngcontent-%COMP%]{width:50%;text-align:center;background-color:#2a2a67;padding:20px;border-radius:15px;transition:all .3s ease}.contenedor-front[_ngcontent-%COMP%], .contenedor-back[_ngcontent-%COMP%]{width:80%;display:grid;grid-template-columns:repeat(2,1fr);grid-gap:10px;gap:10px;text-align:justify;margin-right:auto;margin-left:auto;transition:.3s}.back[_ngcontent-%COMP%]:hover, .frond[_ngcontent-%COMP%]:hover{background-color:transparent;border:1px solid #2980BF}.barra[_ngcontent-%COMP%]{width:100%;height:4px;background-color:#999}.barra[_ngcontent-%COMP%]   .sub_div[_ngcontent-%COMP%]{height:4px;background-color:#2980bf}.label2[_ngcontent-%COMP%]{font-size:12px;margin-left:10px}@media screen and (max-width: 821px){.skills[_ngcontent-%COMP%]{width:100%;padding:20px;display:block;gap:10px}.frond[_ngcontent-%COMP%], .back[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}}"]}),n})();function pw(n,e){if(1&n&&(d.TgZ(0,"a",14),d._uU(1,"GitHub"),d.qZA()),2&n){const t=d.oxw().$implicit;d.s9C("href",t.urlGit,d.LSH)}}function gC(n,e){if(1&n&&(d.TgZ(0,"a",15),d._uU(1,"Live Demo"),d.qZA()),2&n){const t=d.oxw().$implicit;d.s9C("href",t.urlDemo,d.LSH)}}function gw(n,e){if(1&n&&(d.TgZ(0,"div",6),d.TgZ(1,"div",7),d._UZ(2,"img",8),d.qZA(),d.TgZ(3,"div",9),d.TgZ(4,"label",10),d.TgZ(5,"b"),d._uU(6),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"div",11),d.YNc(8,pw,2,1,"a",12),d.YNc(9,gC,2,1,"a",13),d.qZA(),d.qZA()),2&n){const t=e.$implicit;d.xp6(2),d.s9C("src",t.img,d.LSH),d.xp6(4),d.Oqu(t.text),d.xp6(2),d.Q6J("ngIf",t.btnGit),d.xp6(1),d.Q6J("ngIf",t.btnDemo)}}let mC=(()=>{class n{constructor(){this.proyects=[{img:"https://firebasestorage.googleapis.com/v0/b/leonardo-portafolio.appspot.com/o/hnos.png?alt=media&token=8314456d-7d55-4079-856d-7d79a5de68b0",text:"Programa para el monitoreo de viajes de lazaro cardenas",btnGit:!0,btnDemo:!1,urlGit:"https://github.com/leogarcia99/sofwarehnostransmedina.git",urlDemo:""},{img:"https://firebasestorage.googleapis.com/v0/b/leonardo-portafolio.appspot.com/o/1.jpg?alt=media&token=bc06b690-e9a4-4342-a841-4ffd111d9fac",text:"Deteccion de rostros y detector de expresiones",btnGit:!0,btnDemo:!0,urlGit:"https://github.com/leogarcia99/Reconocimento-de-rostro.git",urlDemo:"https://detectar-rostro-3ee10.web.app/"},{img:"https://firebasestorage.googleapis.com/v0/b/leonardo-portafolio.appspot.com/o/disen%CC%83o.png?alt=media&token=f8dc9568-98c5-43bc-932e-0634ef1ea746",text:"Dise\xf1o para pagina web de compra y venta de oro",btnGit:!0,btnDemo:!1,urlGit:"https://github.com/leogarcia99/Dise-owebOtc.git",urlDemo:""},{img:"https://firebasestorage.googleapis.com/v0/b/leonardo-portafolio.appspot.com/o/coffee.png?alt=media&token=a95cf3bd-1f81-4b81-9c6d-0f0667f378aa",text:"Tienda Online para comprar cafe",btnGit:!0,btnDemo:!1,urlGit:"https://github.com/leogarcia99/Coffeestore.git",urlDemo:""},{img:"https://firebasestorage.googleapis.com/v0/b/leonardo-portafolio.appspot.com/o/famacia.png?alt=media&token=429686d3-aadc-400c-ae03-52c9b148720e",text:"Pagina web de farmacias san juan",btnGit:!0,btnDemo:!1,urlGit:"https://github.com/leogarcia99/farmaciaSanjuan.git",urlDemo:""},{img:"https://firebasestorage.googleapis.com/v0/b/leonardo-portafolio.appspot.com/o/1.png?alt=media&token=613e6446-7006-4c38-9d20-fe492c8b5a9a",text:"Software para la gestion de compra , venta , registro e inventario de peliculas",btnGit:!1,btnDemo:!1,urlGit:"",urlDemo:""}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-proyectos"]],decls:9,vars:1,consts:[[1,"contenedor"],[1,"textos"],[1,"l1"],[1,"l2","text-color2"],[1,"cards"],["class","targeta",4,"ngFor","ngForOf"],[1,"targeta"],[1,"imagenes"],["alt","",3,"src"],[1,"card-body"],["for",""],[1,"targeta-footer"],["class","button1",3,"href",4,"ngIf"],["class","button2 bg-secundario",3,"href",4,"ngIf"],[1,"button1",3,"href"],[1,"button2","bg-secundario",3,"href"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"label",2),d._uU(3,"Mis proyectos recientes"),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"label",3),d._uU(6,"Portafolio"),d.qZA(),d.qZA(),d.TgZ(7,"div",4),d.YNc(8,gw,10,4,"div",5),d.qZA(),d.qZA()),2&t&&(d.xp6(8),d.Q6J("ngForOf",r.proyects))},directives:[wr,Wr],styles:[".contenedor[_ngcontent-%COMP%]{width:100%}.textos[_ngcontent-%COMP%]{width:100%;text-align:center}.l1[_ngcontent-%COMP%]{font-size:12px}.l2[_ngcontent-%COMP%]{font-size:30px}.cards[_ngcontent-%COMP%]{width:80%;height:auto;margin-left:auto;margin-right:auto;display:grid;grid-template-columns:repeat(3,33%);grid-gap:10px;gap:10px}.targeta[_ngcontent-%COMP%]{width:100%;height:350px;background-color:#2a2a67;border-radius:20px;padding:20px;transition:all .3s}.targeta[_ngcontent-%COMP%]:hover{background-color:transparent;border:1px solid #4EB4F7}.card-body[_ngcontent-%COMP%]{width:100%}.targeta[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]{width:90%;height:60%;margin-left:auto;margin-right:auto;padding:5px;border-radius:20px}.imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:90%;border-radius:20px;box-shadow:4px 4px 10px #000}.button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin:10px 5px;text-decoration:none;cursor:pointer;transition:all .3s;padding:10px 15px}.button1[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #4EB4F7;color:#4eb4f7;border-radius:10px}.button1[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.button2[_ngcontent-%COMP%]{color:#fff;border-radius:10px}.button2[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}@media screen and (max-width: 950px){.targeta[_ngcontent-%COMP%]{padding:5px}}@media screen and (max-width: 913px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,50%);gap:6px}.targeta[_ngcontent-%COMP%]{width:100%;height:350px;background-color:#2a2a67;border-radius:20px;padding:10px;transition:all .3s}.targeta[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]{width:100%;height:60%;margin-left:auto;margin-right:auto;padding:5px;border-radius:20px}.imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:20px;box-shadow:4px 4px 10px #000}}@media screen and (max-width: 650px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(1,100%);gap:6px}.targeta[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#2a2a67;border-radius:20px;padding:20px;transition:all .3s}.targeta[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]{width:100%;height:auto;margin-left:auto;margin-right:auto;padding:5px;border-radius:20px}.imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:20px;box-shadow:4px 4px 10px #000}}"]}),n})();var De=V(5861),Bo=V(5226),mw=V.n(Bo),yw=V(4986),Zn=V(5813);function Ym(){return(0,tn.e)((n,e)=>{let t,r=!1;n.subscribe(new Or.Q(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function _C(n,e){return n===e}var et,ao=V(2011),vC=(V(5881),V(3942)),Xa=V(9681),$t=V(4859),eu=V(1877),on=V(2090),_w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},uo={},Rp=Rp||{},zt=_w||self;function wd(){}function jo(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ec(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qh="closure_uid_"+(1e9*Math.random()>>>0),ST=0;function ww(n,e,t){return n.call.apply(n.bind,arguments)}function xT(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Br(n,e,t){return(Br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ww:xT).apply(null,arguments)}function tc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function _a(){this.s=this.s,this.o=this.o}var MT={};_a.prototype.s=!1,_a.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function vw(n){return Object.prototype.hasOwnProperty.call(n,qh)&&n[qh]||(n[qh]=++ST)}(this);delete MT[n]}},_a.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Ew=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function Cw(n){return Array.prototype.concat.apply([],arguments)}function kp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Jm(n){return/^[\s\xa0]*$/.test(n)}var Ri,Iw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function us(n,e){return-1!=n.indexOf(e)}function Np(n,e){return n<e?-1:n>e?1:0}e:{var Dw=zt.navigator;if(Dw){var Fp=Dw.userAgent;if(Fp){Ri=Fp;break e}}Ri=""}function Tw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function bC(n){const e={};for(const t in n)e[t]=n[t];return e}var EC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CC(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<EC.length;u++)t=EC[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Aw(n){return Aw[" "](n),n}Aw[" "]=wd;var Wh,n,OT=us(Ri,"Opera"),zh=us(Ri,"Trident")||us(Ri,"MSIE"),IC=us(Ri,"Edge"),Sw=IC||zh,tu=us(Ri,"Gecko")&&!(us(Ri.toLowerCase(),"webkit")&&!us(Ri,"Edge"))&&!(us(Ri,"Trident")||us(Ri,"MSIE"))&&!us(Ri,"Edge"),Xm=us(Ri.toLowerCase(),"webkit")&&!us(Ri,"Edge");function xw(){var n=zt.document;return n?n.documentMode:void 0}e:{var Zh="",Lp=(n=Ri,tu?/rv:([^\);]+)(\)|;)/.exec(n):IC?/Edge\/([\d\.]+)/.exec(n):zh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Xm?/WebKit\/(\S+)/.exec(n):OT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Lp&&(Zh=Lp?Lp[1]:""),zh){var Kh=xw();if(null!=Kh&&Kh>parseFloat(Zh)){Wh=String(Kh);break e}}Wh=Zh}var DC={};var ey=zt.document&&zh&&(xw()||parseInt(Wh,10))||void 0,TC=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",wd,e),zt.removeEventListener("test",wd,e)}catch(t){}return n}();function mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Yh(n,e){if(mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(tu){e:{try{Aw(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:AC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yh.Z.h.call(this)}}mi.prototype.h=function(){this.defaultPrevented=!0},Jr(Yh,mi);var AC={2:"touch",3:"pen",4:"mouse"};Yh.prototype.h=function(){Yh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var nu="closure_listenable_"+(1e6*Math.random()|0),bd=0;function ty(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++bd,this.ca=this.fa=!1}function ru(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Qu(n){this.src=n,this.g={},this.h=0}function Ju(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=bw(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(ru(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ny(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}Qu.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=ny(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new ty(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var Up="closure_lm_"+(1e6*Math.random()|0),Bp={};function jp(n,e,t,r,o){if(r&&r.once)return Qh(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)jp(n,e[u],t,r,o);return null}return t=qp(t),n&&n[nu]?n.N(e,t,ec(r)?!!r.capture:!!r,o):$p(n,e,t,!1,r,o)}function $p(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var h=ec(o)?!!o.capture:!!o,m=Gp(n);if(m||(n[Up]=m=new Qu(n)),(t=m.add(e,t,r,h,u)).proxy)return t;if(r=function Pw(){var e=Rw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)TC||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(SC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Qh(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Qh(n,e[u],t,r,o);return null}return t=qp(t),n&&n[nu]?n.O(e,t,ec(r)?!!r.capture:!!r,o):$p(n,e,t,!0,r,o)}function Ow(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Ow(n,e[u],t,r,o);else r=ec(r)?!!r.capture:!!r,t=qp(t),n&&n[nu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ny(u=n.g[e],t,r,o))&&(ru(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Gp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ny(e,t,r,o)),(t=-1<n?e[n]:null)&&Hp(t))}function Hp(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[nu])Ju(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(SC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Gp(e))?(Ju(t,n),0==t.h&&(t.src=null,e[Up]=null)):ru(n)}}}function SC(n){return n in Bp?Bp[n]:Bp[n]="on"+n}function Rw(n,e){if(n.ca)n=!0;else{e=new Yh(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Hp(n),n=t.call(r,e)}return n}function Gp(n){return(n=n[Up])instanceof Qu?n:null}var ry="__closure_events_fn_"+(1e9*Math.random()>>>0);function qp(n){return"function"==typeof n?n:(n[ry]||(n[ry]=function(e){return n.handleEvent(e)}),n[ry])}function ii(){_a.call(this),this.i=new Qu(this),this.P=this,this.I=null}function yi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new mi(e,n);else if(e instanceof mi)e.target=e.target||n;else{var o=e;CC(e=new mi(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];o=ki(h,r,!0,e)&&o}if(o=ki(h=e.g=n,r,!0,e)&&o,o=ki(h,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=ki(h=e.g=t[u],r,!1,e)&&o}function ki(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ca&&h.capture==t){var m=h.listener,E=h.ia||h.src;h.fa&&Ju(n.i,h),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}Jr(ii,_a),ii.prototype[nu]=!0,ii.prototype.removeEventListener=function(n,e,t,r){Ow(this,n,e,t,r)},ii.prototype.M=function(){if(ii.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ru(t[r]);delete n.g[e],n.h--}}this.I=null},ii.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ii.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var iy=zt.JSON.stringify;function xC(){var n=Fw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Jh,MC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new kw,n=>n.reset());class kw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kT(n){zt.setTimeout(()=>{throw n},0)}function sy(n,e){Jh||function Nw(){var n=zt.Promise.resolve(void 0);Jh=function(){n.then(PC)}}(),oy||(Jh(),oy=!0),Fw.add(n,e)}var oy=!1,Fw=new class RT{constructor(){this.h=this.g=null}add(e,t){const r=MC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function PC(){for(var n;n=xC();){try{n.h.call(n.g)}catch(t){kT(t)}var e=MC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}oy=!1}function Xh(n,e){ii.call(this),this.h=n||1,this.g=e||zt,this.j=Br(this.kb,this),this.l=Date.now()}function ay(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function zp(n,e,t){if("function"==typeof n)t&&(n=Br(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Br(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function Lw(n){n.g=zp(()=>{n.g=null,n.i&&(n.i=!1,Lw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jr(Xh,ii),(et=Xh.prototype).da=!1,et.S=null,et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),yi(this,"tick"),this.da&&(ay(this),this.start()))}},et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.M=function(){Xh.Z.M.call(this),ay(this),delete this.g};class OC extends _a{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Lw(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ed(n){_a.call(this),this.h=n,this.g={}}Jr(Ed,_a);var uy=[];function Vw(n,e,t,r){Array.isArray(t)||(t&&(uy[0]=t.toString()),t=uy);for(var o=0;o<t.length;o++){var u=jp(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function $o(n){Tw(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hp(e)},n),n.g={}}function Cd(){this.g=!0}function ef(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function NC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<o.length;h++)o[h]=""}}}return iy(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Ed.prototype.M=function(){Ed.Z.M.call(this),$o(this)},Ed.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cd.prototype.Aa=function(){this.g=!1},Cd.prototype.info=function(){};var nc={},Bw=null;function Id(){return Bw=Bw||new ii}function jw(n){mi.call(this,nc.Ma,n)}function tf(n){const e=Id();yi(e,new jw(e,n))}function nf(n,e){mi.call(this,nc.STAT_EVENT,n),this.stat=e}function _i(n){const e=Id();yi(e,new nf(e,n))}function $w(n,e){mi.call(this,nc.Na,n),this.size=e}function rc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}nc.Ma="serverreachability",Jr(jw,mi),nc.STAT_EVENT="statevent",Jr(nf,mi),nc.Na="timingevent",Jr($w,mi);var Dd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ly={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cy(){}function Wp(){}cy.prototype.h=null;var Yp,Zp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dy(){mi.call(this,"d")}function Kp(){mi.call(this,"c")}function rf(){}function Td(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Ed(this),this.P=iu,this.W=new Xh(n=Sw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hy}function hy(){this.i=null,this.g="",this.h=!1}Jr(dy,mi),Jr(Kp,mi),Jr(rf,cy),rf.prototype.g=function(){return new XMLHttpRequest},rf.prototype.i=function(){return{}},Yp=new rf;var iu=45e3,Ad={},Qp={};function fy(n,e,t){n.K=1,n.v=Yi(ou(e)),n.s=t,n.U=!0,FC(n,null)}function FC(n,e){n.F=Date.now(),su(n),n.A=ou(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),jC(t.h,"t",r),n.C=0,t=n.l.H,n.h=new hy,n.g=xy(n.l,t?e:null,!n.s),0<n.O&&(n.L=new OC(Br(n.Ia,n,n.g),n.O)),Vw(n.V,n.g,"readystatechange",n.gb),e=n.H?bC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),tf(1),function RC(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var h="",m=u.split("&"),E=0;E<m.length;E++){var A=m[E].split("=");if(1<A.length){var N=A[0];A=A[1];var F=N.split("_");h=2<=F.length&&"type"==F[1]?h+(N+"=")+A+"&":h+(N+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Jp(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function py(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=gy(n,t),o==Qp){4==e&&(n.o=4,_i(14),r=!1),ef(n.j,n.m,null,"[Incomplete Response]");break}if(o==Ad){n.o=4,_i(15),ef(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ef(n.j,n.m,o,null),Xp(n,o)}Jp(n)&&o!=Qp&&o!=Ad&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,_i(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),og(e),e.L=!0,_i(11))):(ef(n.j,n.m,t,"[Invalid Chunked Response]"),Xu(n),xd(n))}function gy(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Qp:(t=Number(e.substring(t,r)),isNaN(t)?Ad:(r+=1)+t>e.length?Qp:(e=e.substr(r,t),n.C=r+t,e))}function su(n){n.Y=Date.now()+n.P,Gw(n,n.P)}function Gw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rc(Br(n.eb,n),e)}function Sd(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function xd(n){0==n.l.G||n.I||Ty(n.l,n)}function Xu(n){Sd(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ay(n.W),$o(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Xp(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||e0(t.i,n)))if(t.I=n.N,!n.J&&e0(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(A){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=rc(Br(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;pf(t),lu(t)}sg(t),_i(18)}if(1>=lo(t.i)&&t.ka){try{t.ka()}catch(A){}t.ka=void 0}}else lc(t,11)}else if((n.J||t.g==n)&&pf(t),!Jm(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let A=o[e];if(t.U=A[0],A=A[1],2==t.G)if("c"==A[0]){t.J=A[1],t.la=A[2];const N=A[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const F=A[4];null!=F&&(t.za=F,t.h.info("SVER="+t.za));const X=A[5];null!=X&&"number"==typeof X&&0<X&&(t.K=r=1.5*X,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const oe=n.g;if(oe){const Ce=oe.g?oe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ce){var u=r.i;!u.g&&(us(Ce,"spdy")||us(Ce,"quic")||us(Ce,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(t0(u,u.h),u.h=null))}if(r.D){const We=oe.g?oe.g.getResponseHeader("X-HTTP-Session-Id"):null;We&&(r.sa=We,ur(r.F,r.D,We))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=o0(r,r.H?r.la:null,r.W),h.J){wy(r.i,h);var m=h,E=r.K;E&&m.setTimeout(E),m.B&&(Sd(m),su(m)),r.g=h}else Iy(r);0<t.l.length&&cu(t)}else"stop"!=A[0]&&"close"!=A[0]||lc(t,7);else 3==t.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?lc(t,7):nl(t):"noop"!=A[0]&&t.j&&t.j.wa(A),t.A=0)}tf(4)}catch(A){}}function sf(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jo(n)||"string"==typeof n)Ew(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(jo(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function LC(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(jo(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function Md(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Md)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function my(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];el(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)el(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function el(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(et=Td.prototype).setTimeout=function(n){this.P=n},et.gb=function(n){n=n.target;const e=this.L;e&&3==Qi(n)?e.l():this.Ia(n)},et.Ia=function(n){try{if(n==this.g)e:{const N=Qi(this.g);var e=this.g.Da();const F=this.g.ba();if(!(3>N)&&(3!=N||Sw||this.g&&(this.h.h||this.g.ga()||hf(this.g)))){this.I||4!=N||7==e||tf(8==e||0>=F?3:2),Sd(this);var t=this.g.ba();this.N=t;t:if(Jp(this)){var r=hf(this.g);n="";var o=r.length,u=4==Qi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Xu(this),xd(this);var h="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function kC(n,e,t,r,o,u,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jm(m)){var A=m;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,_i(12),Xu(this),xd(this);break e}ef(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xp(this,t)}this.U?(py(this,N,h),Sw&&this.i&&3==N&&(Vw(this.V,this.W,"tick",this.fb),this.W.start())):(ef(this.j,this.m,h,null),Xp(this,h)),4==N&&Xu(this),this.i&&!this.I&&(4==N?Ty(this.l,this):(this.i=!1,su(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,_i(12)):(this.o=0,_i(13)),Xu(this),xd(this)}}}catch(N){}},et.fb=function(){if(this.g){var n=Qi(this.g),e=this.g.ga();this.C<e.length&&(Sd(this),py(this,n,e),this.i&&4!=n&&su(this))}},et.cancel=function(){this.I=!0,Xu(this)},et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Uw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(tf(3),_i(17)),Xu(this),this.o=2,xd(this)):Gw(this,this.Y-n)},(et=Md.prototype).R=function(){my(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},et.T=function(){return my(this),this.g.concat()},et.get=function(n,e){return el(this.h,n)?this.h[n]:e},et.set=function(n,e){el(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},et.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var ic=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof sc){this.g=void 0!==e?e:n.g,au(this,n.j),this.s=n.s,eg(this,n.i),tg(this,n.m),this.l=n.l,e=n.h;var t=new ng;t.i=e.i,e.g&&(t.g=new Md(e.g),t.h=e.h),zw(this,t),this.o=n.o}else n&&(t=String(n).match(ic))?(this.g=!!e,au(this,t[1]||"",!0),this.s=Pd(t[2]||""),eg(this,t[3]||"",!0),tg(this,t[4]),this.l=Pd(t[5]||"",!0),zw(this,t[6]||"",!0),this.o=Pd(t[7]||"")):(this.g=!!e,this.h=new ng(null,this.g))}function ou(n){return new sc(n)}function au(n,e,t){n.j=t?Pd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function eg(n,e,t){n.i=t?Pd(e,!0):e}function tg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zw(n,e,t){e instanceof ng?(n.h=e,function _y(n,e){e&&!n.j&&(uu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Qw(this,r),jC(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Od(e,BC)),n.h=new ng(e,n.g))}function ur(n,e,t){n.h.set(e,t)}function Yi(n){return ur(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Od(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Zw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Zw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}sc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Od(e,Kw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Od(e,Kw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Od(t,"/"==t.charAt(0)?UC:VC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Od(t,Yw)),n.join("")};var Kw=/[#\/\?@]/g,VC=/[#\?:]/g,UC=/[#\?]/g,BC=/[#\?@]/g,Yw=/#/g;function ng(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function uu(n){n.g||(n.g=new Md,n.h=0,n.i&&function qw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Qw(n,e){uu(n),e=of(n,e),el(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,el((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&my(n)))}function Jw(n,e){return uu(n),e=of(n,e),el(n.g.h,e)}function jC(n,e,t){Qw(n,e),0<t.length&&(n.i=null,n.g.set(of(n,e),kp(t)),n.h+=t.length)}function of(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function vy(n){this.l=n||Xw,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ea&&zt.g.Ea()&&zt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=ng.prototype).add=function(n,e){uu(this),this.i=null,n=of(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){uu(this),this.g.forEach(function(t,r){Ew(t,function(o){n.call(e,o,r,this)},this)},this)},et.T=function(){uu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},et.R=function(n){uu(this);var e=[];if("string"==typeof n)Jw(this,n)&&(e=Cw(e,this.g.get(of(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Cw(e,n[t])}return e},et.set=function(n,e){return uu(this),this.i=null,Jw(this,n=of(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var h=o;""!==r[u]&&(h+="="+encodeURIComponent(String(r[u]))),n.push(h)}}return this.i=n.join("&")};var Xw=10;function HC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function lo(n){return n.h?1:n.g?n.g.size:0}function e0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function t0(n,e){n.g?n.g.add(e):n.h=e}function wy(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function by(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return kp(n.i)}function rg(){}function GC(){this.g=new rg}function NT(n,e,t){const r=t||"";try{sf(n,function(o,u){let h=o;ec(o)&&(h=iy(o)),e.push(r+u+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Rd(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function af(n){this.l=n.$b||null,this.j=n.ib||!1}function kd(n,e){ii.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ey,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vy.prototype.cancel=function(){if(this.i=by(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},rg.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},rg.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},Jr(af,cy),af.prototype.g=function(){return new kd(this.l,this.j)},af.prototype.i=function(n){return function(){return n}}({}),Jr(kd,ii);var Ey=0;function r0(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function uf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lf(n)}function lf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=kd.prototype).open=function(n,e){if(this.readyState!=Ey)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lf(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||zt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uf(this)),this.readyState=Ey},et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lf(this)),this.g&&(this.readyState=3,lf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==zt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;r0(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?uf(this):lf(this),3==this.readyState&&r0(this)}},et.Ua=function(n){this.g&&(this.response=this.responseText=n,uf(this))},et.Ta=function(n){this.g&&(this.response=n,uf(this))},et.ha=function(){this.g&&uf(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(kd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qC=zt.JSON.parse;function jr(n){ii.call(this),this.headers=new Md,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cf,this.K=this.L=!1}Jr(jr,ii);var cf="",Nd=/^https?$/i,zC=["POST","PUT"];function WC(n){return"content-type"==n.toLowerCase()}function s0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ig(n),tl(n)}function ig(n){n.D||(n.D=!0,yi(n,"complete"),yi(n,"error"))}function Ho(n){if(n.h&&void 0!==Rp&&(!n.C[1]||4!=Qi(n)||2!=n.ba()))if(n.v&&4==Qi(n))zp(n.Fa,0,n);else if(yi(n,"readystatechange"),4==Qi(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(ic)[1]||null;if(!o&&zt.self&&zt.self.location){var u=zt.self.location.protocol;o=u.substr(0,u.length-1)}r=!Nd.test(o?o.toLowerCase():"")}t=r}if(t)yi(n,"complete"),yi(n,"success");else{n.m=6;try{var h=2<Qi(n)?n.g.statusText:""}catch(E){h=""}n.j=h+" ["+n.ba()+"]",ig(n)}}finally{tl(n)}}}function tl(n,e){if(n.g){vi(n);const t=n.g,r=n.C[0]?wd:null;n.g=null,n.C=null,e||yi(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function vi(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function Qi(n){return n.g?n.g.readyState:0}function hf(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case cf:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ff(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function co(n){let e="";return Tw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ur(n,e,t))}function va(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function oc(n){this.za=0,this.l=[],this.h=new Cd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=va("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=va("baseRetryDelayMs",5e3,n),this.$a=va("retryDelaySeedMs",1e4,n),this.Ya=va("forwardChannelMaxRetries",2,n),this.ra=va("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new vy(n&&n.concurrentRequestLimit),this.Ca=new GC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function nl(n){if(ac(n),3==n.G){var e=n.V++,t=ou(n.F);ur(t,"SID",n.J),ur(t,"RID",e),ur(t,"TYPE","terminate"),Ld(n,t),(e=new Td(n,n.h,e,void 0)).K=2,e.v=Yi(ou(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon&&(t=zt.navigator.sendBeacon(e.v.toString(),"")),!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=xy(e.l,null),e.g.ea(e.v)),e.F=Date.now(),su(e)}Sy(n)}function lu(n){n.g&&(og(n),n.g.cancel(),n.g=null)}function ac(n){lu(n),n.u&&(zt.clearTimeout(n.u),n.u=null),pf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function rl(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&cu(n)}function cu(n){HC(n.i)||n.m||(n.m=!0,sy(n.Ha,n),n.C=0)}function uc(n,e){var t;t=e?e.m:n.V++;const r=ou(n.F);ur(r,"SID",n.J),ur(r,"RID",t),ur(r,"AID",n.U),Ld(n,r),n.o&&n.s&&ff(r,n.o,n.s),t=new Td(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Cy(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),t0(n.i,t),fy(t,r,e)}function Ld(n,e){n.j&&sf({},function(t,r){ur(e,r,t)})}function Cy(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Br(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=o[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let m=!0;for(let E=0;E<t;E++){let A=o[E].h;const N=o[E].g;if(A-=u,0>A)u=Math.max(0,o[E].h-100),m=!1;else try{NT(N,h,"req"+A+"_")}catch(F){r&&r(N)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Iy(n){n.g||n.u||(n.Y=1,sy(n.Ga,n),n.A=0)}function sg(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=rc(Br(n.Ga,n),Ay(n,n.A)),n.A++,0))}function og(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function Dy(n){n.g=new Td(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ou(n.oa);ur(e,"RID","rpc"),ur(e,"SID",n.J),ur(e,"CI",n.N?"0":"1"),ur(e,"AID",n.U),Ld(n,e),ur(e,"TYPE","xmlhttp"),n.o&&n.s&&ff(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Yi(ou(e)),t.s=null,t.U=!0,FC(t,n)}function pf(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function Ty(n,e){var t=null;if(n.g==e){pf(n),og(n),n.g=null;var r=2}else{if(!e0(n.i,e))return;t=e.D,wy(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;yi(r=Id(),new $w(r,t,e,o)),cu(n)}else Iy(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function Fd(n,e){return!(lo(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=rc(Br(n.Ha,n,e),Ay(n,n.C)),n.C++,0)))}(n,e)||2==r&&sg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:lc(n,5);break;case 4:lc(n,10);break;case 3:lc(n,6);break;default:lc(n,2)}}function Ay(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function lc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Br(n.jb,n);t||(t=new sc("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||au(t,"https"),Yi(t)),function n0(n,e){const t=new Cd;if(zt.Image){const r=new Image;r.onload=tc(Rd,t,r,"TestLoadImage: loaded",!0,e),r.onerror=tc(Rd,t,r,"TestLoadImage: error",!1,e),r.onabort=tc(Rd,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=tc(Rd,t,r,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else _i(2);n.G=0,n.j&&n.j.va(e),Sy(n),ac(n)}function Sy(n){n.G=0,n.I=-1,n.j&&((0!=by(n.i).length||0!=n.l.length)&&(n.i.i.length=0,kp(n.l),n.l.length=0),n.j.ua())}function o0(n,e,t){let r=function yy(n){return n instanceof sc?ou(n):new sc(n,void 0)}(t);if(""!=r.i)e&&eg(r,e+"."+r.i),tg(r,r.m);else{const o=zt.location;r=function Ww(n,e,t,r){var o=new sc(null,void 0);return n&&au(o,n),e&&eg(o,e),t&&tg(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Tw(n.aa,function(o,u){ur(r,u,o)}),t=n.sa,(e=n.D)&&t&&ur(r,e,t),ur(r,"VER",n.ma),Ld(n,r),r}function xy(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jr(t&&n.Ba&&!n.qa?new af({ib:!0}):n.qa)).L=n.H,e}function My(){}function ag(){if(zh&&!(10<=Number(ey)))throw Error("Environmental error: no available transport.")}function Rs(n,e){ii.call(this),this.g=new oc(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Jm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new cc(this)}function Py(n){dy.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function a0(){Kp.call(this),this.status=1}function cc(n){this.g=n}(et=jr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yp.g(),this.C=function Hw(n){return n.h||(n.h=n.i())}(this.u?this.u:Yp),this.g.onreadystatechange=Br(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void s0(this,u)}n=t||"";const o=new Md(this.headers);r&&sf(r,function(u,h){o.set(h,u)}),r=function wC(n){e:{var e=WC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=zt.FormData&&n instanceof zt.FormData,!(0<=bw(zC,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,h){this.g.setRequestHeader(h,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vi(this),0<this.B&&((this.K=function df(n){return zh&&function Yu(){return function PT(n){var e=DC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Iw(String(Wh)).split("."),t=Iw("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",u=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=Np(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||Np(0==o[2].length,0==u[2].length)||Np(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Br(this.pa,this)):this.A=zp(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){s0(this,u)}},et.pa=function(){void 0!==Rp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yi(this,"complete"),yi(this,"abort"),tl(this))},et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tl(this,!0)),jr.Z.M.call(this)},et.Fa=function(){this.s||(this.F||this.v||this.l?Ho(this):this.cb())},et.cb=function(){Ho(this)},et.ba=function(){try{return 2<Qi(this)?this.g.status:-1}catch(n){return-1}},et.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},et.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),qC(e)}},et.Da=function(){return this.m},et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=oc.prototype).ma=8,et.G=1,et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Td(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=bC(u),CC(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Cy(this,o,e),ur(t=ou(this.F),"RID",n),ur(t,"CVER",22),this.D&&ur(t,"X-HTTP-Session-Id",this.D),Ld(this,t),this.o&&u&&ff(t,this.o,u),t0(this.i,o),this.Ra&&ur(t,"TYPE","init"),this.ja?(ur(t,"$req",e),ur(t,"SID","null"),o.$=!0,fy(o,t,null)):fy(o,t,e),this.G=2}}else 3==this.G&&(n?uc(this,n):0==this.l.length||HC(this.i)||uc(this))},et.Ga=function(){if(this.u=null,Dy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=rc(Br(this.bb,this),n)}},et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_i(10),lu(this),Dy(this))},et.ab=function(){null!=this.v&&(this.v=null,lu(this),sg(this),_i(19))},et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),_i(2)):(this.h.info("Failed to ping google.com"),_i(1))},(et=My.prototype).xa=function(){},et.wa=function(){},et.va=function(){},et.ua=function(){},et.Oa=function(){},ag.prototype.g=function(n,e){return new Rs(n,e)},Jr(Rs,ii),Rs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),sy(Br(n.hb,n,e))),_i(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=o0(n,null,n.W),cu(n)},Rs.prototype.close=function(){nl(this.g)},Rs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,rl(this.g,e)}else this.v?((e={}).__data__=iy(n),rl(this.g,e)):rl(this.g,n)},Rs.prototype.M=function(){this.g.j=null,delete this.j,nl(this.g),delete this.g,Rs.Z.M.call(this)},Jr(Py,dy),Jr(a0,Kp),Jr(cc,My),cc.prototype.xa=function(){yi(this.g,"a")},cc.prototype.wa=function(n){yi(this.g,new Py(n))},cc.prototype.va=function(n){yi(this.g,new a0(n))},cc.prototype.ua=function(){yi(this.g,"b")},ag.prototype.createWebChannel=ag.prototype.g,Rs.prototype.send=Rs.prototype.u,Rs.prototype.open=Rs.prototype.m,Rs.prototype.close=Rs.prototype.close,Dd.NO_ERROR=0,Dd.TIMEOUT=8,Dd.HTTP_ERROR=6,ly.COMPLETE="complete",Wp.EventType=Zp,Zp.OPEN="a",Zp.CLOSE="b",Zp.ERROR="c",Zp.MESSAGE="d",ii.prototype.listen=ii.prototype.N,jr.prototype.listenOnce=jr.prototype.O,jr.prototype.getLastError=jr.prototype.La,jr.prototype.getLastErrorCode=jr.prototype.Da,jr.prototype.getStatus=jr.prototype.ba,jr.prototype.getResponseJson=jr.prototype.Qa,jr.prototype.getResponseText=jr.prototype.ga,jr.prototype.send=jr.prototype.ea;var ZC=uo.createWebChannelTransport=function(){return new ag},KC=uo.getStatEventTarget=function(){return Id()},u0=uo.ErrorCode=Dd,YC=uo.EventType=ly,Oy=uo.Event=nc,ug=uo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},QC=uo.FetchXmlHttpFactory=af,Ry=uo.WebChannel=Wp,FT=uo.XhrIo=jr;const JC="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let dc="9.6.11";const hc=new eu.Yd("@firebase/firestore");function ky(){return hc.logLevel}function Ge(n,...e){if(hc.logLevel<=eu.in.DEBUG){const t=e.map(lg);hc.debug(`Firestore (${dc}): ${n}`,...t)}}function Rr(n,...e){if(hc.logLevel<=eu.in.ERROR){const t=e.map(lg);hc.error(`Firestore (${dc}): ${n}`,...t)}}function gf(n,...e){if(hc.logLevel<=eu.in.WARN){const t=e.map(lg);hc.warn(`Firestore (${dc}): ${n}`,...t)}}function lg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: `+n;throw Rr(e),new Error(e)}function Ht(n,e){n||pt()}function tt(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends on.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class c0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wi.UNAUTHENTICATED))}shutdown(){}}class XC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class h0{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=A=>this.i!==o?(o=this.i,t(A)):Promise.resolve();let h=new si;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new si,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const A=h;e.enqueueRetryable((0,De.Z)(function*(){yield A.promise,yield u(r.currentUser)}))},E=A=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(A=>E(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?E(A):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new si)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht("string"==typeof r.accessToken),new c0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ht(null===e||"string"==typeof e),new wi(e)}}class f0{constructor(e,t,r){this.type="FirstParty",this.user=wi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Ny{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new f0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fy{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.p;return this.p=u.token,Ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ht("string"==typeof t.token),this.p=t.token,new eI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ho{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function mf(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ho.A=-1;class Ly{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=mf(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function il(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function p0(n){return n+"\0"}class mr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mr.fromMillis(Date.now())}static fromDate(e){return mr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new mr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new mr(0,0))}static max(){return new Rt(new mr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Vy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ud(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Bd{constructor(e,t,r){void 0===t?t=0:t>e.length&&pt(),void 0===r?r=e.length-t:r>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Bd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _n extends Bd{construct(e,t,r){return new _n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new _n(t)}static emptyPath(){return new _n([])}}const tI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oi extends Bd{construct(e,t,r){return new oi(e,t,r)}static isValidIdentifier(e){return tI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new oi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ne(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Ne(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new Ne(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oi(t)}static emptyPath(){return new oi([])}}class sl{constructor(e){this.fields=e,e.sort(oi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new $r(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new $r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const Uy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function du(n){if(Ht(!!n),"string"==typeof n){let e=0;const t=Uy.exec(n);if(Ht(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tr(n.seconds),nanos:Tr(n.nanos)}}function Tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ol(n){return"string"==typeof n?$r.fromBase64String(n):$r.fromUint8Array(n)}function cg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dg(n){const e=n.mapValue.fields.__previous_value__;return cg(e)?dg(e):e}function jd(n){const e=du(n.mapValue.fields.__local_write_time__.timestampValue);return new mr(e.seconds,e.nanos)}class nI{constructor(e,t,r,o,u,h,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class hu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}function fc(n){return null==n}function pc(n){return 0===n&&1/n==-1/0}function hg(n){return"number"==typeof n&&Number.isInteger(n)&&!pc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(_n.fromString(e))}static fromName(e){return new Qe(_n.fromString(e).popFirst(5))}static empty(){return new Qe(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new _n(e.slice()))}}const By={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jy={nullValue:"NULL_VALUE"};function al(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cg(n)?4:qy(n)?9:10:pt()}function Go(n,e){if(n===e)return!0;const t=al(n);if(t!==al(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jd(n).isEqual(jd(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=du(r.timestampValue),h=du(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,ol(n.bytesValue).isEqual(ol(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Tr(r.geoPointValue.latitude)===Tr(o.geoPointValue.latitude)&&Tr(r.geoPointValue.longitude)===Tr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Tr(r.integerValue)===Tr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Tr(r.doubleValue),h=Tr(o.doubleValue);return u===h?pc(u)===pc(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return il(n.arrayValue.values||[],e.arrayValue.values||[],Go);case 10:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(Vy(u)!==Vy(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===h[m]||!Go(u[m],h[m])))return!1;return!0}(n,e);default:return pt()}var o}function $d(n,e){return void 0!==(n.values||[]).find(t=>Go(t,e))}function fu(n,e){if(n===e)return 0;const t=al(n),r=al(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Tr(o.integerValue||o.doubleValue),m=Tr(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return $y(n.timestampValue,e.timestampValue);case 4:return $y(jd(n),jd(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(o,u){const h=ol(o),m=ol(u);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),m=u.split("/");for(let E=0;E<h.length&&E<m.length;E++){const A=Zt(h[E],m[E]);if(0!==A)return A}return Zt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Zt(Tr(o.latitude),Tr(u.latitude));return 0!==h?h:Zt(Tr(o.longitude),Tr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const h=o.values||[],m=u.values||[];for(let E=0;E<h.length&&E<m.length;++E){const A=fu(h[E],m[E]);if(A)return A}return Zt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){const h=o.fields||{},m=Object.keys(h),E=u.fields||{},A=Object.keys(E);m.sort(),A.sort();for(let N=0;N<m.length&&N<A.length;++N){const F=Zt(m[N],A[N]);if(0!==F)return F;const X=fu(h[m[N]],E[A[N]]);if(0!==X)return X}return Zt(m.length,A.length)}(n.mapValue,e.mapValue);default:throw pt()}}function $y(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=du(n),r=du(e),o=Zt(t.seconds,r.seconds);return 0!==o?o:Zt(t.nanos,r.nanos)}function yf(n){return Hy(n)}function Hy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=du(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ol(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const h of r.values||[])u?u=!1:o+=",",o+=Hy(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const m of o)h?h=!1:u+=",",u+=`${m}:${Hy(r.fields[m])}`;return u+"}"}(n.mapValue):pt();var e}function gc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fg(n){return!!n&&"integerValue"in n}function _f(n){return!!n&&"arrayValue"in n}function Hr(n){return!!n&&"nullValue"in n}function Gy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pg(n){return!!n&&"mapValue"in n}function vf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ud(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qy(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function rI(n){return"nullValue"in n?jy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?gc(hu.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function y0(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?gc(hu.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?By:pt()}function zy(n,e){return void 0===n?e:void 0===e||fu(n,e)>0?n:e}function mc(n,e){return void 0===n?e:void 0===e||fu(n,e)<0?n:e}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!pg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vf(t)}setAll(e){let t=oi.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=vf(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());pg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Go(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];pg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ud(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Ni(vf(this.value))}}function _0(n){const e=[];return Ud(n.fields,(t,r)=>{const o=new oi([t]);if(pg(r)){const u=_0(r.mapValue).fields;if(0===u.length)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new sl(e)}class Qn{constructor(e,t,r,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Qn(e,0,Rt.min(),Rt.min(),Ni.empty(),0)}static newFoundDocument(e,t,r){return new Qn(e,1,t,Rt.min(),r,0)}static newNoDocument(e,t){return new Qn(e,2,t,Rt.min(),Ni.empty(),0)}static newUnknownDocument(e,t){return new Qn(e,3,t,Rt.min(),Ni.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gg{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function mg(n){return n.fields.find(e=>2===e.kind)}function Hd(n){return n.fields.filter(e=>2!==e.kind)}gg.UNKNOWN_ID=-1;class wf{constructor(e,t){this.fieldPath=e,this.kind=t}}class yc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new yc(0,pu.min())}}function qo(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(1e9===r?new mr(t+1,0):new mr(t,r));return new pu(o,Qe.empty(),e)}function iI(n){return new pu(n.readTime,n.key,-1)}class pu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pu(Rt.min(),Qe.empty(),-1)}static max(){return new pu(Rt.max(),Qe.empty(),-1)}}function wa(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}class zo{constructor(e,t=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.P=null}}function fo(n,e=null,t=[],r=[],o=null,u=null,h=null){return new zo(n,e,t,r,o,u,h)}function ul(n){const e=tt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+yf(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),fc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>yf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>yf(r)).join(",")),e.P=t}return e.P}function bf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!bg(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Go(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ky(n.startAt,e.startAt)&&Ky(n.endAt,e.endAt)}function yg(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _g(n,e){return n.filters.filter(t=>t instanceof kr&&t.field.isEqual(e))}function w0(n,e,t){let r,o=!0;for(const u of _g(n,e)){let h,m=!0;switch(u.op){case"<":case"<=":h=rI(u.value);break;case"==":case"in":case">=":h=u.value;break;case">":h=u.value,m=!1;break;case"!=":case"not-in":h=jy}zy(r,h)===h&&(r=h,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];zy(r,h)===h&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}function vg(n,e,t){let r,o=!0;for(const u of _g(n,e)){let h,m=!0;switch(u.op){case">=":case">":h=y0(u.value),m=!1;break;case"==":case"in":case"<=":h=u.value;break;case"<":h=u.value,m=!1;break;case"!=":case"not-in":h=By}mc(r,h)===h&&(r=h,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];mc(r,h)===h&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}class kr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new sI(e,t,r):"array-contains"===t?new E0(e,r):"in"===t?new wg(e,r):"not-in"===t?new aI(e,r):"array-contains-any"===t?new C0(e,r):new kr(e,t,r)}static V(e,t,r){return"in"===t?new b0(e,r):new oI(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(fu(t,this.value)):null!==t&&al(this.value)===al(t)&&this.v(fu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sI extends kr{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.v(t)}}class b0 extends kr{constructor(e,t){super(e,"in",t),this.keys=Wy(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oI extends kr{constructor(e,t){super(e,"not-in",t),this.keys=Wy(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Wy(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class E0 extends kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _f(t)&&$d(t.arrayValue,this.value)}}class wg extends kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$d(this.value.arrayValue,t)}}class aI extends kr{constructor(e,t){super(e,"not-in",t)}matches(e){if($d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$d(this.value.arrayValue,t)}}class C0 extends kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_f(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$d(this.value.arrayValue,r))}}class gu{constructor(e,t){this.position=e,this.inclusive=t}}class ll{constructor(e,t="asc"){this.field=e,this.dir=t}}function bg(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Zy(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(r=u.field.isKeyField()?Qe.comparator(Qe.fromName(h.referenceValue),t.key):fu(h,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Ky(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Go(n.position[t],e.position[t]))return!1;return!0}class ba{constructor(e,t=null,r=[],o=[],u=null,h="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=E,this.D=null,this.C=null}}function Yy(n,e,t,r,o,u,h,m){return new ba(n,e,t,r,o,u,h,m)}function _c(n){return new ba(n)}function Ef(n){return!fc(n.limit)&&"F"===n.limitType}function Cf(n){return!fc(n.limit)&&"L"===n.limitType}function Eg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Qy(n){for(const e of n.filters)if(e.S())return e.field;return null}function Jy(n){return null!==n.collectionGroup}function Gd(n){const e=tt(n);if(null===e.D){e.D=[];const t=Qy(e),r=Eg(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new ll(t)),e.D.push(new ll(oi.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ll(oi.keyField(),u))}}}return e.D}function po(n){const e=tt(n);if(!e.C)if("F"===e.limitType)e.C=fo(e.path,e.collectionGroup,Gd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Gd(e))t.push(new ll(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new gu(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new gu(e.startAt.position,!e.startAt.inclusive):null;e.C=fo(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function I0(n,e,t){return new ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function If(n,e){return bf(po(n),po(e))&&n.limitType===e.limitType}function D0(n){return`${ul(po(n))}|lt:${n.limitType}`}function Xy(n){return`Query(target=${function v0(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${yf(r.value)}`;var r}).join(", ")}]`),fc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>yf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>yf(t)).join(",")),`Target(${e})`}(po(n))}; limitType=${n.limitType})`}function e_(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Qe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,h){const m=Zy(o,u,h);return o.inclusive?m<=0:m<0}(t.startAt,Gd(t),r)||t.endAt&&!function(o,u,h){const m=Zy(o,u,h);return o.inclusive?m>=0:m>0}(t.endAt,Gd(t),r)));var t,r}function T0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function A0(n){return(e,t)=>{let r=!1;for(const o of Gd(n)){const u=uI(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function uI(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(o,u,h){const m=u.data.field(o),E=h.data.field(o);return null!==m&&null!==E?fu(m,E):pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}function S0(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function x0(n){return{integerValue:""+n}}function M0(n,e){return hg(e)?x0(e):S0(n,e)}class Cg{constructor(){this._=void 0}}function lI(n,e,t){return n instanceof vc?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof cl?n_(n,e):n instanceof dl?r_(n,e):function(r,o){const u=t_(r,o),h=i_(u)+i_(r.k);return fg(u)&&fg(r.k)?x0(h):S0(r.M,h)}(n,e)}function cI(n,e,t){return n instanceof cl?n_(n,e):n instanceof dl?r_(n,e):t}function t_(n,e){return n instanceof wc?fg(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class vc extends Cg{}class cl extends Cg{constructor(e){super(),this.elements=e}}function n_(n,e){const t=s_(e);for(const r of n.elements)t.some(o=>Go(o,r))||t.push(r);return{arrayValue:{values:t}}}class dl extends Cg{constructor(e){super(),this.elements=e}}function r_(n,e){let t=s_(e);for(const r of n.elements)t=t.filter(o=>!Go(o,r));return{arrayValue:{values:t}}}class wc extends Cg{constructor(e,t){super(),this.M=e,this.k=t}}function i_(n){return Tr(n.integerValue||n.doubleValue)}function s_(n){return _f(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class qd{constructor(e,t){this.field=e,this.transform=t}}class bc{constructor(e,t){this.version=e,this.transformResults=t}}class Gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ig(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class mu{}function VT(n,e,t){n instanceof Dg?function(r,o,u){const h=r.value.clone(),m=R0(r.fieldTransforms,o,u.transformResults);h.setAll(m),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Tt?function(r,o,u){if(!Ig(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=R0(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(O0(r)),m.setAll(h),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Df(n,e,t){var o;n instanceof Dg?function(r,o,u){if(!Ig(r.precondition,o))return;const h=r.value.clone(),m=k0(r.fieldTransforms,u,o);h.setAll(m),o.convertToFoundDocument(a_(o),h).setHasLocalMutations()}(n,e,t):n instanceof Tt?function(r,o,u){if(!Ig(r.precondition,o))return;const h=k0(r.fieldTransforms,u,o),m=o.data;m.setAll(O0(r)),m.setAll(h),o.convertToFoundDocument(a_(o),m).setHasLocalMutations()}(n,e,t):Ig(n.precondition,o=e)&&o.convertToNoDocument(Rt.min())}function UT(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=t_(r.transform,o||null);null!=u&&(null==t&&(t=Ni.empty()),t.set(r.field,u))}return t||null}function o_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&il(t,r,(o,u)=>function P0(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof cl&&r instanceof cl||t instanceof dl&&r instanceof dl?il(t.elements,r.elements,Go):t instanceof wc&&r instanceof wc?Go(t.k,r.k):t instanceof vc&&r instanceof vc);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function a_(n){return n.isFoundDocument()?n.version:Rt.min()}class Dg extends mu{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Tt extends mu{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function O0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function R0(n,e,t){const r=new Map;Ht(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,cI(h,m,t[o]))}return r}function k0(n,e,t){const r=new Map;for(const o of n){const u=o.transform,h=t.data.field(o.field);r.set(o.field,lI(u,h,e))}return r}class hl extends mu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class u_ extends mu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Tg{constructor(e){this.count=e}}var yr,Ot;function dI(n){switch(n){default:return pt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function l_(n){if(void 0===n)return Rr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case yr.OK:return pe.OK;case yr.CANCELLED:return pe.CANCELLED;case yr.UNKNOWN:return pe.UNKNOWN;case yr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case yr.INTERNAL:return pe.INTERNAL;case yr.UNAVAILABLE:return pe.UNAVAILABLE;case yr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case yr.NOT_FOUND:return pe.NOT_FOUND;case yr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case yr.ABORTED:return pe.ABORTED;case yr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case yr.DATA_LOSS:return pe.DATA_LOSS;default:return pt()}}(Ot=yr||(yr={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";class fl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ud(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return g0(this.inner)}size(){return this.innerSize}}class Nr{constructor(e,t){this.comparator=e,this.root=t||ai.EMPTY}insert(e,t){return new Nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new Nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}}class Tf{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:ai.RED,this.left=null!=o?o:ai.EMPTY,this.right=null!=u?u:ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new ai(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return ai.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1,ai.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new ai(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new c_(this.data.getIterator())}getIteratorFrom(e){return new c_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jn(this.comparator);return t.data=e,t}}class c_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zd(n){return n.hasNext()?n.getNext():void 0}const hI=new Nr(Qe.comparator);function go(){return hI}const Af=new Nr(Qe.comparator);function d_(){return Af}function Sf(){return new fl(n=>n.toString(),(n,e)=>n.isEqual(e))}const fI=new Nr(Qe.comparator),Ag=new Jn(Qe.comparator);function Rn(...n){let e=Ag;for(const t of n)e=e.add(t);return e}const N0=new Jn(Zt);function xf(){return N0}class Mf{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,t)),new Mf(Rt.min(),r,xf(),go(),Rn())}}class yu{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new yu($r.EMPTY_BYTE_STRING,t,Rn(),Rn(),Rn())}}class pl{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class F0{constructor(e,t){this.targetId=e,this.$=t}}class L0{constructor(e,t,r=$r.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class V0{constructor(){this.B=0,this.L=f_(),this.U=$r.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Rn(),t=Rn(),r=Rn();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:pt()}}),new yu(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=f_()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class U0{constructor(e){this.nt=e,this.st=new Map,this.it=go(),this.rt=h_(),this.ot=new Jn(Zt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const u=o.target;if(yg(u))if(0===r){const h=new Qe(u.path);this.ct(t,h,Qn.newNoDocument(h,Rt.min()))}else Ht(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,h)=>{const m=this.wt(h);if(m){if(u.current&&yg(m.target)){const E=new Qe(m.target.path);null!==this.it.get(E)||this.It(h,E)||this.ct(h,E,Qn.newNoDocument(E,e))}u.j&&(t.set(h,u.H()),u.J())}});let r=Rn();this.rt.forEach((u,h)=>{let m=!0;h.forEachWhile(E=>{const A=this.wt(E);return!A||2===A.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.it.forEach((u,h)=>h.setReadTime(e));const o=new Mf(e,t,this.ot,this.it,r);return this.it=go(),this.rt=h_(),this.ot=new Jn(Zt),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new V0,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Jn(Zt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new V0),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function h_(){return new Nr(Qe.comparator)}function f_(){return new Nr(Qe.comparator)}const pI={asc:"ASCENDING",desc:"DESCENDING"},B0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class gI{constructor(e,t){this.databaseId=e,this.N=t}}function Pf(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mI(n,e){return n.N?e.toBase64():e.toUint8Array()}function BT(n,e){return Pf(n,e.toTimestamp())}function bi(n){return Ht(!!n),Rt.fromTimestamp(function(e){const t=du(e);return new mr(t.seconds,t.nanos)}(n))}function j0(n,e){return(t=n,new _n(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function p_(n){const e=_n.fromString(n);return Ht(K0(e)),e}function gl(n,e){return j0(n.databaseId,e.path)}function Ea(n,e){const t=p_(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe($0(t))}function g_(n,e){return j0(n.databaseId,e)}function m_(n){const e=p_(n);return 4===e.length?_n.emptyPath():$0(e)}function _u(n){return new _n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $0(n){return Ht(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function H0(n,e,t){return{name:gl(n,e),fields:t.value.mapValue.fields}}function G0(n,e,t){const r=Ea(n,e.name),o=bi(e.updateTime),u=new Ni({mapValue:{fields:e.fields}}),h=Qn.newFoundDocument(r,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Wd(n,e){let t;if(e instanceof Dg)t={update:H0(n,e.key,e.value)};else if(e instanceof hl)t={delete:gl(n,e.key)};else if(e instanceof Tt)t={update:H0(n,e.key,e.data),updateMask:Z0(e.fieldMask)};else{if(!(e instanceof u_))return pt();t={verify:gl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof vc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof cl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof dl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof wc)return{fieldPath:u.field.canonicalString(),increment:h.k};throw pt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:BT(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:pt()),t;var o}function y_(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Gr.updateTime(bi(o.updateTime)):void 0!==o.exists?Gr.exists(o.exists):Gr.none():Gr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,h){let m=null;"setToServerValue"in h?(Ht("REQUEST_TIME"===h.setToServerValue),m=new vc):"appendMissingElements"in h?m=new cl(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new dl(h.removeAllFromArray.values||[]):"increment"in h?m=new wc(u,h.increment):pt();const E=oi.fromServerFormat(h.fieldPath);return new qd(E,m)}(n,o)):[];var o;if(e.update){const o=Ea(n,e.update.name),u=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new sl((e.updateMask.fieldPaths||[]).map(A=>oi.fromServerFormat(A)));return new Tt(o,u,h,t,r)}return new Dg(o,u,t,r)}if(e.delete){const o=Ea(n,e.delete);return new hl(o,t)}if(e.verify){const o=Ea(n,e.verify);return new u_(o,t)}return pt()}function Ec(n,e){return{documents:[g_(n,e.path)]}}function q0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=g_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=g_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const A=E.map(N=>function(F){if("=="===F.op){if(Gy(F.value))return{unaryFilter:{field:Zd(F.field),op:"IS_NAN"}};if(Hr(F.value))return{unaryFilter:{field:Zd(F.field),op:"IS_NULL"}}}else if("!="===F.op){if(Gy(F.value))return{unaryFilter:{field:Zd(F.field),op:"IS_NOT_NAN"}};if(Hr(F.value))return{unaryFilter:{field:Zd(F.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zd(F.field),op:z0(F.op),value:F.value}}}(N));return 1===A.length?A[0]:{compositeFilter:{op:"AND",filters:A}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(E){if(0!==E.length)return E.map(A=>{return{field:Zd((N=A).field),direction:bI(N.dir)};var N})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(A=e.limit,n.N||fc(A)?A:{value:A});var A,m,E;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function __(n){let e=m_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ht(1===r);const N=t.from[0];N.allDescendants?o=N.collectionId:e=e.child(N.collectionId)}let u=[];t.where&&(u=v_(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(N=>{return new ll(ml((F=N).field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction));var F}));let m=null;t.limit&&(m=function(N){let F;return F="object"==typeof N?N.value:N,fc(F)?null:F}(t.limit));let E=null;var N;t.startAt&&(E=new gu((N=t.startAt).values||[],!!N.before));let A=null;return t.endAt&&(A=function(N){return new gu(N.values||[],!N.before)}(t.endAt)),Yy(e,o,h,u,m,"F",E,A)}function v_(n){return n?void 0!==n.unaryFilter?[W0(n)]:void 0!==n.fieldFilter?[EI(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>v_(e)).reduce((e,t)=>e.concat(t)):pt():[]}function bI(n){return pI[n]}function z0(n){return B0[n]}function Zd(n){return{fieldPath:n.canonicalString()}}function ml(n){return oi.fromServerFormat(n.fieldPath)}function EI(n){return kr.create(ml(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function W0(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ml(n.unaryFilter.field);return kr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ml(n.unaryFilter.field);return kr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ml(n.unaryFilter.field);return kr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ml(n.unaryFilter.field);return kr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}function Z0(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function K0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ji(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Sg(e)),e=CI(n.get(t),e);return Sg(e)}function CI(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Sg(n){return n+"\x01\x01"}function Ca(n){const e=n.length;if(Ht(e>=2),2===e)return Ht("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),_n.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&pt(),n.charAt(h+1)){case"\x01":const m=n.substring(u,h);let E;0===o.length?E=m:(o+=m,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(u,h),o+="\0";break;case"\x11":o+=n.substring(u,h+1);break;default:pt()}u=h+2}return new _n(r)}const w_=["userId","batchId"];function xg(n,e){return[n,Ji(e)]}function Y0(n,e,t){return[n,Ji(e),t]}const II={},DI=["prefixPath","collectionGroup","readTime","documentId"],TI=["prefixPath","collectionGroup","documentId"],AI=["collectionGroup","readTime","prefixPath","documentId"],SI=["canonicalId","targetId"],xI=["targetId","path"],Q0=["path","targetId"],J0=["collectionId","parent"],MI=["indexId","uid"],PI=["uid","sequenceNumber"],X0=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OI=["indexId","uid","orderedDocumentKey"],RI=["userId","collectionPath","documentId"],kI=["userId","collectionPath","largestBatchId"],b_=["userId","collectionGroup","largestBatchId"],Mg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eb=[...Mg,"documentOverlays"],Pg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],NI=[...Pg,"indexConfiguration","indexState","indexEntries"],tb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Og{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,r)=>{t(e)})}static reject(e){return new be((t,r)=>{r(e)})}static waitFor(e){return new be((t,r)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},E=>r(E))}),h=!0,u===o&&t()})}static or(e){let t=be.resolve(!1);for(const r of e)t=t.next(o=>o?be.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class Of{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new si,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Rf(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=E_(r.target.error);this.At.reject(new Rf(e,o))}}static open(e,t,r,o){try{return new Of(t,e.transaction(o,r))}catch(u){throw new Rf(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jT(t)}}class Wo{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===Wo.Vt((0,on.z$)())&&Rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),Cc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,on.hl)())return!1;if(Wo.St())return!0;const e=(0,on.z$)(),t=Wo.Vt(e),r=0<t&&t<10,o=Wo.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,De.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{r(h.target.result)},u.onblocked=()=>{o(new Rf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Ne(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ne(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Rf(e,m))},u.onupgradeneeded=h=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.bt.kt(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,De.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.Nt(e);const E=Of.open(u.db,e,h?"readonly":"readwrite",r),A=o(E).next(N=>(E.Pt(),N)).catch(N=>(E.abort(N),be.reject(N))).toPromise();return A.catch(()=>{}),yield E.Rt,A}catch(E){const A="FirebaseError"!==E.name&&m<3;if(Ge("SimpleDb","Transaction failed with error:",E.message,"Retrying:",A),u.close(),!A)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nb{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Cc(this.Ft.delete())}}class Rf extends Ne{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function yl(n){return"IndexedDbTransactionError"===n.name}class jT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Cc(r)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),Cc(this.store.add(e))}get(e){return Cc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),Cc(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),Cc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Kt(o,(h,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new be((u,h)=>{o.onerror=m=>{h(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new be((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}Qt(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Kt(o,(u,h,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Kt(o,t)}zt(e){const t=this.cursor({});return new be((r,o)=>{t.onerror=u=>{const h=E_(u.target.error);o(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Kt(e,t){const r=[];return new be((o,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const E=new nb(m),A=t(m.primaryKey,m.value,E);if(A instanceof be){const N=A.catch(F=>(E.done(),be.reject(F)));r.push(N)}E.isDone?o():null===E.Lt?m.continue():m.continue(E.Lt)}}).next(()=>be.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Cc(n){return new be((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=E_(r.target.error);t(o)}})}let Kd=!1;function E_(n){const e=Wo.Vt((0,on.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Kd||(Kd=!0,setTimeout(()=>{throw r},0)),r}}return n}class Ic extends Og{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Ar(n,e){const t=tt(n);return Wo.xt(t.Ht,e)}class C_{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&VT(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Df(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Df(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Rt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rn())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(t,r)=>o_(t,r))&&il(this.baseMutations,e.baseMutations,(t,r)=>o_(t,r))}}class rb{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ht(e.mutations.length===r.length);let o=fI;const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new rb(e,t,r,o)}}class Rg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _l{constructor(e,t,r,o,u=Rt.min(),h=Rt.min(),m=$r.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new _l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ib{constructor(e){this.Jt=e}}function sb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:kf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:gl(o=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Pf(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:vl(e.version)};else{if(!e.isUnknownDocument())return pt();r.unknownDocument={path:t.path.toArray(),version:vl(e.version)}}var o,u;return r}function kf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function vl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vu(n){const e=new mr(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function wu(n,e){const t=(e.baseMutations||[]).map(u=>y_(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>y_(n.Jt,u)),o=mr.fromMillis(e.localWriteTimeMs);return new C_(e.batchId,o,t,r)}function bu(n){const e=vu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?vu(n.lastLimboFreeSnapshotVersion):Rt.min();let r;var o;return void 0!==n.query.documents?(Ht(1===(o=n.query).documents.length),r=po(_c(m_(o.documents[0])))):r=po(__(n.query)),new _l(r,n.targetId,0,n.lastListenSequenceNumber,e,t,$r.fromBase64String(n.resumeToken))}function ob(n,e){const t=vl(e.snapshotVersion),r=vl(e.lastLimboFreeSnapshotVersion);let o;o=yg(e.target)?Ec(n.Jt,e.target):q0(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ul(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function kg(n){const e=__({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?I0(e,e.limit,"L"):e}function Ng(n,e){return new Rg(e.largestBatchId,y_(n.Jt,e.overlayMutation))}function ab(n,e){const t=e.path.lastSegment();return[n,Ji(e.path.popLast()),t]}class LI{getBundleMetadata(e,t){return ub(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:vu(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return ub(e).put({bundleId:(r=t).id,createTime:vl(bi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Fg(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:kg(o.bundledQuery),readTime:vu(o.readTime)};var o})}saveNamedQuery(e,t){return Fg(e).put({name:(r=t).name,readTime:vl(bi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ub(n){return Ar(n,"bundles")}function Fg(n){return Ar(n,"namedQueries")}class I_{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new I_(e,t.uid||"")}getOverlay(e,t){return Lg(e).get(ab(this.userId,t)).next(r=>r?Ng(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((u,h)=>{const m=new Rg(t,h);o.push(this.Xt(e,m))}),be.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(Ji(h.getCollectionPath())));const u=[];return o.forEach(h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);u.push(Lg(e).Qt("collectionPathOverlayIndex",m))}),be.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Sf(),u=Ji(t),h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Lg(e).qt("collectionPathOverlayIndex",h).next(m=>{for(const E of m){const A=Ng(this.M,E);o.set(A.getKey(),A)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Sf();let h;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Lg(e).Wt({index:"collectionGroupOverlayIndex",range:m},(E,A,N)=>{const F=Ng(this.M,A);u.size()<o||F.largestBatchId===h?(u.set(F.getKey(),F),h=F.largestBatchId):N.done()}).next(()=>u)}Xt(e,t){return Lg(e).put(function(r,o,u){const[h,m,E]=ab(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:E,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Wd(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function Lg(n){return Ar(n,"documentOverlays")}class Dc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Tr(e.integerValue));else if("doubleValue"in e){const r=Tr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),pc(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ol(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?qy(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):pt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),Qe.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function VI(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Tc(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=VI(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Dc.fe=new Dc;class lb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=Tc(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=Tc(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Yd{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class $T{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Qd{constructor(){this.De=new lb,this.Ce=new Yd(this.De),this.xe=new $T(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class wl{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new wl(this.indexId,this.documentKey,this.arrayValue,r)}}function Jd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=D_(n.arrayValue,e.arrayValue),0!==t?t:(t=D_(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function D_(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class HT{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=mg(e);if(void 0!==t&&!this.Be(t))return!1;const r=Hd(e);let o=0,u=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const h=r[o];if(!this.Le(this.Fe,h)||!this.Ue(this.Me[u++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(u>=this.Me.length||!this.Ue(this.Me[u++],h))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class cb{constructor(){this.qe=new Nf}addToCollectionParentIndex(e,t){return this.qe.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getFieldIndex(e,t){return be.resolve(null)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}updateCollectionGroup(e,t,r){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class Nf{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Jn(_n.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Jn(_n.comparator)).toArray()}}const Xd=new Uint8Array(0);class UI{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Nf,this.Ge=new fl(r=>ul(r),(r,o)=>bf(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:Ji(o)};return T_(e).put(u)}return be.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[p0(t),""],!1,!0);return T_(e).qt(o).next(u=>{for(const h of u){if(h.collectionId!==t)break;r.push(Ca(h.parent))}return r})}addFieldIndex(e,t){const r=Vg(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=Vg(e),o=Ug(e),u=Ff(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ff(e);let o=!0;const u=new Map;return be.forEach(this.Qe(t),h=>this.getFieldIndex(e,h).next(m=>{o&&(o=!!m),u.set(h,m)})).next(()=>{if(o){let h=Rn();const m=[];return be.forEach(u,(E,A)=>{var N;Ge("IndexedDbIndexManager",`Using index ${N=E,`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map(Qt=>`${Qt.fieldPath}:${Qt.kind}`).join(",")}`} to execute ${ul(t)}`);const F=function(Qt,jt){const ln=mg(jt);if(void 0===ln)return null;for(const $n of _g(Qt,ln.fieldPath))switch($n.op){case"array-contains-any":return $n.value.arrayValue.values||[];case"array-contains":return[$n.value]}return null}(A,E),X=function(Qt,jt){const ln=new Map;for(const $n of Hd(jt))for(const ds of _g(Qt,$n.fieldPath))switch(ds.op){case"==":case"in":ln.set($n.fieldPath.canonicalString(),ds.value);break;case"not-in":case"!=":return ln.set($n.fieldPath.canonicalString(),ds.value),Array.from(ln.values())}return null}(A,E),oe=function(Qt,jt){const ln=[];let $n=!0;for(const ds of Hd(jt)){const dp=0===ds.kind?w0(Qt,ds.fieldPath,Qt.startAt):vg(Qt,ds.fieldPath,Qt.startAt);if(!dp.value)return null;ln.push(dp.value),$n&&($n=dp.inclusive)}return new gu(ln,$n)}(A,E),Ce=function(Qt,jt){const ln=[];let $n=!0;for(const ds of Hd(jt)){const dp=0===ds.kind?vg(Qt,ds.fieldPath,Qt.endAt):w0(Qt,ds.fieldPath,Qt.endAt);if(!dp.value)return null;ln.push(dp.value),$n&&($n=dp.inclusive)}return new gu(ln,$n)}(A,E),We=this.je(E,A,oe),ft=this.je(E,A,Ce),Xt=this.We(E,A,X),vn=this.ze(E.indexId,F,We,!!oe&&oe.inclusive,ft,!!Ce&&Ce.inclusive,Xt);return be.forEach(vn,Qt=>r.Gt(Qt,t.limit).next(jt=>{jt.forEach(ln=>{const $n=Qe.fromSegments(ln.documentKey);h.has($n)||(h=h.add($n),m.push($n))})}))}).next(()=>m)}return be.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,o,u,h,m){const E=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),A=E/(null!=t?t.length:1),N=[];for(let F=0;F<E;++F){const X=t?this.He(t[F/A]):Xd,oe=r?this.Je(e,X,r[F%A],o):this.Ye(e),Ce=u?this.Xe(e,X,u[F%A],h):this.Ye(e+1);N.push(...this.createRange(oe,Ce,m.map(We=>this.Je(e,X,We,!0))))}return N}Je(e,t,r,o){const u=new wl(e,Qe.empty(),t,r);return o?u:u.ke()}Xe(e,t,r,o){const u=new wl(e,Qe.empty(),t,r);return o?u.ke():u}Ye(e){return new wl(e,Qe.empty(),Xd,Xd)}getFieldIndex(e,t){const r=new HT(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{const h=u.filter(m=>r.$e(m));return h.sort((m,E)=>E.fields.length-m.fields.length),h.length>0?h[0]:null})}Ze(e,t){const r=new Qd;for(const o of Hd(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const h=r.Ne(o.kind);Dc.fe.Zt(u,h)}return r.Se()}He(e){const t=new Qd;return Dc.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Qd;return Dc.fe.Zt(gc(this.databaseId,t),r.Ne(function(o){const u=Hd(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new Qd);let u=0;for(const h of Hd(e)){const m=r[u++];for(const E of o)if(this.en(t,h.fieldPath)&&_f(m))o=this.nn(o,h,m);else{const A=E.Ne(h.kind);Dc.fe.Zt(m,A)}}return this.sn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const o=[...e],u=[];for(const h of r.arrayValue.values||[])for(const m of o){const E=new Qd;E.seed(m.Se()),Dc.fe.Zt(h,E.Ne(t.kind)),u.push(E)}return u}en(e,t){return!!e.filters.find(r=>r instanceof kr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Vg(e),o=Ug(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const h=[];return be.forEach(u,m=>o.get([m.indexId,this.uid]).next(E=>{h.push(function(A,N){const F=N?new yc(N.sequenceNumber,new pu(vu(N.readTime),new Qe(Ca(N.documentKey)),N.largestBatchId)):yc.empty(),X=A.fields.map(([oe,Ce])=>new wf(oi.fromServerFormat(oe),Ce));return new gg(A.indexId,A.collectionGroup,X,F)}(m,E))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Zt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Vg(e),u=Ug(e);return this.rn(e).next(h=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>be.forEach(m,E=>{return u.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:h,readTime:vl((X=r).readTime),documentKey:Ji(X.documentKey.path),largestBatchId:X.largestBatchId});var X})))}updateIndexEntries(e,t){const r=new Map;return be.forEach(t,(o,u)=>{const h=r.get(o.collectionGroup);return(h?be.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),be.forEach(m,E=>this.on(e,o,E).next(A=>{const N=this.un(u,E);return A.isEqual(N)?be.resolve():this.an(e,u,E,A,N)}))))})}cn(e,t,r,o){return Ff(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,o){return Ff(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const o=Ff(e);let u=new Jn(Jd);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(h,m)=>{u=u.add(new wl(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}un(e,t){let r=new Jn(Jd);const o=this.Ze(t,e);if(null==o)return r;const u=mg(t);if(null!=u){const h=e.data.field(u.fieldPath);if(_f(h))for(const m of h.arrayValue.values||[])r=r.add(new wl(t.indexId,e.key,this.He(m),o))}else r=r.add(new wl(t.indexId,e.key,Xd,o));return r}an(e,t,r,o,u){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(m,E,A,N,F){const X=m.getIterator(),oe=E.getIterator();let Ce=zd(X),We=zd(oe);for(;Ce||We;){let ft=!1,Xt=!1;if(Ce&&We){const vn=A(Ce,We);vn<0?Xt=!0:vn>0&&(ft=!0)}else null!=Ce?Xt=!0:ft=!0;ft?(N(We),We=zd(oe)):Xt?(F(Ce),Ce=zd(X)):(Ce=zd(X),We=zd(oe))}}(o,u,Jd,m=>{h.push(this.cn(e,t,r,m))},m=>{h.push(this.hn(e,t,r,m))}),be.waitFor(h)}rn(e){let t=1;return Ug(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,m)=>Jd(h,m)).filter((h,m,E)=>!m||0!==Jd(h,E[m-1]));const o=[];o.push(e);for(const h of r){const m=Jd(h,e),E=Jd(h,t);if(0===m)o[0]=e.ke();else if(m>0&&E<0)o.push(h),o.push(h.ke());else if(E>0)break}o.push(t);const u=[];for(let h=0;h<o.length;h+=2)u.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,Xd,[]],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,Xd,[]]));return u}}function T_(n){return Ar(n,"collectionParents")}function Ff(n){return Ar(n,"indexEntries")}function Vg(n){return Ar(n,"indexConfiguration")}function Ug(n){return Ar(n,"indexState")}const db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ls{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ls(e,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hb(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],h=IDBKeyRange.only(t.batchId);let m=0;const E=r.Wt({range:h},(N,F,X)=>(m++,X.delete()));u.push(E.next(()=>{Ht(1===m)}));const A=[];for(const N of t.mutations){const F=Y0(e,N.key.path,t.batchId);u.push(o.delete(F)),A.push(N.key)}return be.waitFor(u).next(()=>A)}function Bg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}ls.DEFAULT_COLLECTION_PERCENTILE=10,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ls.DEFAULT=new ls(41943040,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ls.DISABLED=new ls(-1,0,0);class Ac{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.ln={}}static Yt(e,t,r,o){Ht(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Ac(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eu(e).Wt({index:"userMutationsIndex",range:r},(o,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Sc(e),h=Eu(e);return h.add({}).next(m=>{Ht("number"==typeof m);const E=new C_(m,t,r,o),A=function(X,oe,Ce){const We=Ce.baseMutations.map(Xt=>Wd(X.Jt,Xt)),ft=Ce.mutations.map(Xt=>Wd(X.Jt,Xt));return{userId:oe,batchId:Ce.batchId,localWriteTimeMs:Ce.localWriteTime.toMillis(),baseMutations:We,mutations:ft}}(this.M,this.userId,E),N=[];let F=new Jn((X,oe)=>Zt(X.canonicalString(),oe.canonicalString()));for(const X of o){const oe=Y0(this.userId,X.key.path,m);F=F.add(X.key.path.popLast()),N.push(h.put(A)),N.push(u.put(oe,II))}return F.forEach(X=>{N.push(this.indexManager.addToCollectionParentIndex(e,X))}),e.addOnCommittedListener(()=>{this.ln[m]=E.keys()}),be.waitFor(N).next(()=>E)})}lookupMutationBatch(e,t){return Eu(e).get(t).next(r=>r?(Ht(r.userId===this.userId),wu(this.M,r)):null)}fn(e,t){return this.ln[t]?be.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.ln[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Eu(e).Wt({index:"userMutationsIndex",range:o},(h,m,E)=>{m.userId===this.userId&&(Ht(m.batchId>=r),u=wu(this.M,m)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Eu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,u,h)=>{r=u.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Eu(e).qt("userMutationsIndex",t).next(r=>r.map(o=>wu(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xg(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Sc(e).Wt({range:o},(h,m,E)=>{const[A,N,F]=h,X=Ca(N);if(A===this.userId&&t.path.isEqual(X))return Eu(e).get(F).next(oe=>{if(!oe)throw pt();Ht(oe.userId===this.userId),u.push(wu(this.M,oe))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(Zt);const o=[];return t.forEach(u=>{const h=xg(this.userId,u.path),m=IDBKeyRange.lowerBound(h),E=Sc(e).Wt({range:m},(A,N,F)=>{const[X,oe,Ce]=A,We=Ca(oe);X===this.userId&&u.path.isEqual(We)?r=r.add(Ce):F.done()});o.push(E)}),be.waitFor(o).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=xg(this.userId,r),h=IDBKeyRange.lowerBound(u);let m=new Jn(Zt);return Sc(e).Wt({range:h},(E,A,N)=>{const[F,X,oe]=E,Ce=Ca(X);F===this.userId&&r.isPrefixOf(Ce)?Ce.length===o&&(m=m.add(oe)):N.done()}).next(()=>this.dn(e,m))}dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Eu(e).get(u).next(h=>{if(null===h)throw pt();Ht(h.userId===this.userId),r.push(wu(this.M,h))}))}),be.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return hb(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),be.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return be.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Sc(e).Wt({range:r},(u,h,m)=>{if(u[0]===this.userId){const E=Ca(u[1]);o.push(E)}else m.done()}).next(()=>{Ht(0===o.length)})})}containsKey(e,t){return A_(e,this.userId,t)}wn(e){return S_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function A_(n,e,t){const r=xg(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return Sc(n).Wt({range:u,jt:!0},(m,E,A)=>{const[N,F,X]=m;N===e&&F===o&&(h=!0),A.done()}).next(()=>h)}function Eu(n){return Ar(n,"mutations")}function Sc(n){return Ar(n,"documentMutations")}function S_(n){return Ar(n,"mutationQueues")}class bl{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new bl(0)}static yn(){return new bl(-1)}}class BI{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new bl(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Rt.fromTimestamp(new mr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.In(e,o)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>eh(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Ht(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return eh(e).Wt((h,m)=>{const E=bu(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,u.push(this.removeTargetData(e,E)))}).next(()=>be.waitFor(u)).next(()=>o)}forEachTarget(e,t){return eh(e).Wt((r,o)=>{const u=bu(o);t(u)})}pn(e){return fb(e).get("targetGlobalKey").next(t=>(Ht(null!==t),t))}In(e,t){return fb(e).put("targetGlobalKey",t)}Tn(e,t){return eh(e).put(ob(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ul(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return eh(e).Wt({range:o,index:"queryTargetsIndex"},(h,m,E)=>{const A=bu(m);bf(t,A.target)&&(u=A,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=El(e);return t.forEach(h=>{const m=Ji(h.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,h))}),be.waitFor(o)}removeMatchingKeys(e,t,r){const o=El(e);return be.forEach(t,u=>{const h=Ji(u.path);return be.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=El(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=El(e);let u=Rn();return o.Wt({range:r,jt:!0},(h,m,E)=>{const A=Ca(h[1]),N=new Qe(A);u=u.add(N)}).next(()=>u)}containsKey(e,t){const r=Ji(t.path),o=IDBKeyRange.bound([r],[p0(r)],!1,!0);let u=0;return El(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([h,m],E,A)=>{0!==h&&(u++,A.done())}).next(()=>u>0)}Et(e,t){return eh(e).get(t).next(r=>r?bu(r):null)}}function eh(n){return Ar(n,"targets")}function fb(n){return Ar(n,"targetGlobal")}function El(n){return Ar(n,"targetDocuments")}function xc(n){return x_.apply(this,arguments)}function x_(){return x_=(0,De.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==tb)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),x_.apply(this,arguments)}function pb([n,e],[t,r]){const o=Zt(n,t);return 0===o?Zt(e,r):o}class Lf{constructor(e){this.An=e,this.buffer=new Jn(pb),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();pb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jI{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Ge("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,De.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){yl(o)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield xc(o)}yield t.Sn(e)}))}}class M_{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return be.resolve(ho.A);const r=new Lf(t);return this.Dn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Dn.xn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(db)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),db):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,o,u,h,m,E,A;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(F=>(F>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${F}`),o=this.params.maximumSequenceNumbersToCollect):o=F,h=Date.now(),this.nthSequenceNumber(e,o))).next(F=>(r=F,m=Date.now(),this.removeTargets(e,r,t))).next(F=>(u=F,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(F=>(A=Date.now(),ky()<=eu.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${u} targets in `+(E-m)+`ms\n\tRemoved ${F} documents in `+(A-E)+`ms\nTotal Duration: ${A-N}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:F})))}}class Ia{constructor(e,t){this.db=e,this.garbageCollector=new M_(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,o)=>t(o))}addReference(e,t,r){return jg(e,r)}removeReference(e,t,r){return jg(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return jg(e,t)}On(e,t){return function(r,o){let u=!1;return S_(r).zt(h=>A_(r,h,o).next(m=>(m&&(u=!0),be.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Mn(e,(h,m)=>{if(m<=t){const E=this.On(e,h).next(A=>{if(!A)return u++,r.getEntry(e,h).next(()=>(r.removeEntry(h,Rt.min()),El(e).delete([0,Ji(h.path)])))});o.push(E)}}).next(()=>be.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return jg(e,t)}Mn(e,t){const r=El(e);let o,u=ho.A;return r.Wt({index:"documentTargetsIndex"},([h,m],{path:E,sequenceNumber:A})=>{0===h?(u!==ho.A&&t(new Qe(Ca(o)),u),u=A,o=E):u=ho.A}).next(()=>{u!==ho.A&&t(new Qe(Ca(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jg(n,e){return El(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ji(e.path),sequenceNumber:r}));var r}class $g{constructor(){this.changes=new fl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?be.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vf{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Mc(e).put(r)}removeEntry(e,t,r){return Mc(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],kf(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Qn.newInvalidDocument(t);return Mc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cl(t))},(o,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:Qn.newInvalidDocument(t)};return Mc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cl(t))},(o,u)=>{r={document:this.$n(t,u),size:Bg(u)}}).next(()=>r)}getEntries(e,t){let r=go();return this.Ln(e,t,(o,u)=>{const h=this.$n(o,u);r=r.insert(o,h)}).next(()=>r)}Un(e,t){let r=go(),o=new Nr(Qe.comparator);return this.Ln(e,t,(u,h)=>{const m=this.$n(u,h);r=r.insert(u,m),o=o.insert(u,Bg(h))}).next(()=>({documents:r,qn:o}))}Ln(e,t,r){if(t.isEmpty())return be.resolve();let o=new Jn(mb);t.forEach(E=>o=o.add(E));const u=IDBKeyRange.bound(Cl(o.first()),Cl(o.last())),h=o.getIterator();let m=h.getNext();return Mc(e).Wt({index:"documentKeyIndex",range:u},(E,A,N)=>{const F=Qe.fromSegments([...A.prefixPath,A.collectionGroup,A.documentId]);for(;m&&mb(m,F)<0;)r(m,null),m=h.getNext();m&&m.isEqual(F)&&(r(m,A),m=h.hasNext()?h.getNext():null),m?N.Ut(Cl(m)):N.done()}).next(()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),kf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mc(e).qt(IDBKeyRange.bound(o,u,!0)).next(h=>{let m=go();for(const E of h){const A=this.$n(Qe.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);m=m.insert(A.key,A)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=go();const h=Uf(t,r),m=Uf(t,pu.max());return Mc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,m,!0)},(E,A,N)=>{const F=this.$n(Qe.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);u=u.insert(F.key,F),u.size===o&&N.done()}).next(()=>u)}newChangeBuffer(e){return new $I(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gb(e).get("remoteDocumentGlobalKey").next(t=>(Ht(!!t),t))}Fn(e,t){return gb(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function FI(n,e){let t;if(e.document)t=G0(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Qe.fromSegments(e.noDocument.path),o=vu(e.noDocument.readTime);t=Qn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const r=Qe.fromSegments(e.unknownDocument.path),o=vu(e.unknownDocument.version);t=Qn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new mr(r[0],r[1]);return Rt.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Rt.min()))return r}return Qn.newInvalidDocument(e)}}class $I extends $g{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new fl(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Jn((u,h)=>Zt(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const m=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,m.readTime)),h.isValidDocument()){const E=sb(this.Kn.M,h);o=o.add(u.path.popLast()),r+=Bg(E)-m.size,t.push(this.Kn.addEntry(e,u,E))}else if(r-=m.size,this.trackRemovals){const E=sb(this.Kn.M,h.convertToNoDocument(Rt.min()));t.push(this.Kn.addEntry(e,u,E))}}),o.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),be.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:o})=>(o.forEach((u,h)=>{this.Gn.set(u,{size:h,readTime:r.get(u).readTime})}),r))}}function gb(n){return Ar(n,"remoteDocumentGlobal")}function Mc(n){return Ar(n,"remoteDocumentsV14")}function Cl(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Uf(n,e){const t=e.documentKey.path.toArray();return[n,kf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mb(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Zt(t[u],r[u]),o)return o;return o=Zt(t.length,r.length),o||(o=Zt(t[t.length-2],r[r.length-2]),o||Zt(t[t.length-1],r[r.length-1]))}class HI{constructor(e){this.M=e}kt(e,t,r,o){const u=new Of("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",w_,{unique:!0}),m.createObjectStore("documentMutations"),P_(e),function(m){m.createObjectStore("remoteDocuments")}(e));let h=be.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),P_(e)),h=h.next(()=>function(m){const E=m.store("targetGlobal"),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",A)}(u))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,E){return E.store("mutations").qt().next(A=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",w_,{unique:!0});const N=E.store("mutations"),F=A.map(X=>N.put(X));return be.waitFor(F)})}(e,u))),h=h.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Qn(u))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&o>=7&&(h=h.next(()=>this.Wn(u))),r<8&&o>=8&&(h=h.next(()=>this.zn(e,u))),r<9&&o>=9&&(h=h.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.Hn(u))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:RI});E.createIndex("collectionPathOverlayIndex",kI,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",b_,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:DI});E.createIndex("documentKeyIndex",TI),E.createIndex("collectionGroupIndex",AI)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:MI}).createIndex("sequenceNumberIndex",PI,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:X0}).createIndex("documentKeyIndex",OI,{unique:!1})}(e)})),h}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=Bg(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>be.forEach(o,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",h).next(m=>be.forEach(m,E=>{Ht(E.userId===u.userId);const A=wu(this.M,E);return hb(e,u.userId,A).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Wt((h,m)=>{const E=new _n(h),A=[0,Ji(E)];u.push(t.get(A).next(N=>N?be.resolve():t.put({targetId:0,path:Ji(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>be.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:J0});const r=t.store("collectionParents"),o=new Nf,u=h=>{if(o.add(h)){const m=h.lastSegment(),E=h.popLast();return r.put({collectionId:m,parent:Ji(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(h,m)=>{const E=new _n(h);return u(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([h,m,E],A)=>{const N=Ca(m);return u(N.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,o)=>{const u=bu(o),h=ob(this.M,u);return t.put(h)})}Jn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((u,h)=>{const m=t.store("remoteDocumentsV14"),E=(A=h,A.document?new Qe(_n.fromString(A.document.name).popFirst(5)):A.noDocument?Qe.fromSegments(A.noDocument.path):A.unknownDocument?Qe.fromSegments(A.unknownDocument.path):pt()).path.toArray();var A;const N={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(m.put(N))}).next(()=>be.waitFor(o))}}function P_(n){n.createObjectStore("targetDocuments",{keyPath:xI}).createIndex("documentTargetsIndex",Q0,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",SI,{unique:!0}),n.createObjectStore("targetGlobal")}const Hg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bf{constructor(e,t,r,o,u,h,m,E,A,N,F=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=h,this.document=m,this.Xn=A,this.Zn=N,this.ts=F,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=X=>Promise.resolve(),!Bf.vt())throw new Ne(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ia(this,o),this.hs=t+"main",this.M=new ib(E),this.ls=new Wo(this.hs,this.ts,new HI(this.M)),this.fs=new BI(this.referenceDelegate,this.M),this.ds=new Vf(this.M),this._s=new LI,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===N&&Rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(pe.FAILED_PRECONDITION,Hg);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ho(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,De.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,De.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,De.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(yl(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return th(e).get("owner").next(t=>be.resolve(this.bs(t)))}Vs(e){return Gg(e).delete(this.clientId)}vs(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Ar(r,"clientMetadata");return o.qt().next(u=>{const h=e.Ds(u,18e5),m=u.filter(E=>-1===h.indexOf(E));return be.forEach(m,E=>o.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?be.resolve(!0):th(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ne(pe.FAILED_PRECONDITION,Hg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gg(e).qt().next(r=>void 0===this.Ds(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,De.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Ic(t,ho.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Gg(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Ac.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new UI(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return I_.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Ge("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=14===(h=this.ts)?NI:13===h?Pg:12===h?eb:11===h?Mg:void pt();var h;let m;return this.ls.runTransaction(e,o,u,E=>(m=new Ic(E,this.es?this.es.next():ho.A),"readwrite-primary"===t?this.Es(m).next(A=>!!A||this.As(m)).next(A=>{if(!A)throw Rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ne(pe.FAILED_PRECONDITION,tb);return r(m)}).next(A=>this.Ps(m).next(()=>A)):this.$s(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}$s(e){return th(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(pe.FAILED_PRECONDITION,Hg)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return th(e).put("owner",t)}static vt(){return Wo.vt()}Rs(e){const t=th(e);return t.get("owner").next(r=>this.bs(r)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):be.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Rr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,on.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Rr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Rr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function th(n){return Ar(n,"owner")}function Gg(n){return Ar(n,"clientMetadata")}function O_(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class GT{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}qs(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Qe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.js(e,t.path):Jy(t)?this.Ws(e,t,r):this.zs(e,t,r);var o}js(e,t){return this.Ls(e,new Qe(t)).next(r=>{let o=d_();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Ws(e,t,r){const o=t.collectionGroup;let u=d_();return this.indexManager.getCollectionParents(e,o).next(h=>be.forEach(h,m=>{const E=(A=t,N=m.child(o),new ba(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,N;return this.zs(e,E,r).next(A=>{A.forEach((N,F)=>{u=u.insert(N,F)})})}).next(()=>u))}zs(e,t,r){let o;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const h of u)for(const m of h.mutations){const E=m.key;let A=o.get(E);null==A&&(A=Qn.newInvalidDocument(E),o=o.insert(E,A)),Df(m,A,h.localWriteTime),A.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((u,h)=>{e_(t,h)||(o=o.remove(u))}),o))}}class jf{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=o}static Ys(e,t){let r=Rn(),o=Rn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jf(e,t.fromCache,r,o)}}class qg{Xs(e){this.Zs=e}Qs(e,t,r,o){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Rt.min())?this.ti(e,t):this.Zs.Ks(e,o).next(u=>{const h=this.ei(t,u);return(Ef(t)||Cf(t))&&this.ni(t.limitType,h,o,r)?this.ti(e,t):(ky()<=eu.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xy(t)),this.Zs.Qs(e,t,qo(r,-1)).next(m=>(h.forEach(E=>{m=m.insert(E.key,E)}),m)))});var u}ei(e,t){let r=new Jn(A0(e));return t.forEach((o,u)=>{e_(e,u)&&(r=r.add(u))}),r}ni(e,t,r,o){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ti(e,t){return ky()<=eu.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Xy(t)),this.Zs.Qs(e,t,pu.min())}}class yb{constructor(e,t,r,o){this.persistence=e,this.si=t,this.M=o,this.ii=new Nr(Zt),this.ri=new fl(u=>ul(u),bf),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new GT(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function zg(n,e,t,r){return new yb(n,e,t,r)}function Wg(n,e){return R_.apply(this,arguments)}function R_(){return R_=(0,De.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.Bs.getAllMutationBatches(r).next(u=>(o=u,t.ai(e),t.Bs.getAllMutationBatches(r))).next(u=>{const h=[],m=[];let E=Rn();for(const A of o){h.push(A.batchId);for(const N of A.mutations)E=E.add(N.key)}for(const A of u){m.push(A.batchId);for(const N of A.mutations)E=E.add(N.key)}return t.ci.Ks(r,E).next(A=>({hi:A,removedBatchIds:h,addedBatchIds:m}))})})}),R_.apply(this,arguments)}function GI(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.ui.newChangeBuffer({trackRemovals:!0});return function(h,m,E,A){const N=E.batch,F=N.keys();let X=be.resolve();return F.forEach(oe=>{X=X.next(()=>A.getEntry(m,oe)).next(Ce=>{const We=E.docVersions.get(oe);Ht(null!==We),Ce.version.compareTo(We)<0&&(N.applyToRemoteDocument(Ce,E),Ce.isValidDocument()&&(Ce.setReadTime(E.commitVersion),A.addEntry(Ce)))})}),X.next(()=>h.Bs.removeMutationBatch(m,N))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,o))})}function _b(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function qI(n,e){const t=tt(n),r=e.snapshotVersion;let o=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ui.newChangeBuffer({trackRemovals:!0});o=t.ii;const m=[];e.targetChanges.forEach((A,N)=>{const F=o.get(N);if(!F)return;m.push(t.fs.removeMatchingKeys(u,A.removedDocuments,N).next(()=>t.fs.addMatchingKeys(u,A.addedDocuments,N)));let X=F.withSequenceNumber(u.currentSequenceNumber);var oe,Ce,We;e.targetMismatches.has(N)?X=X.withResumeToken($r.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):A.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(A.resumeToken,r)),o=o.insert(N,X),Ce=X,We=A,(0===(oe=F).resumeToken.approximateByteSize()||Ce.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=3e8||We.addedDocuments.size+We.modifiedDocuments.size+We.removedDocuments.size>0)&&m.push(t.fs.updateTargetData(u,X))});let E=go();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),m.push(k_(u,h,e.documentUpdates).next(A=>{E=A})),!r.isEqual(Rt.min())){const A=t.fs.getLastRemoteSnapshotVersion(u).next(N=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(A)}return be.waitFor(m).next(()=>h.apply(u)).next(()=>t.ci.Gs(u,E)).next(()=>E)}).then(u=>(t.ii=o,u))}function k_(n,e,t){let r=Rn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=go();return t.forEach((h,m)=>{const E=o.get(h);m.isNoDocument()&&m.version.isEqual(Rt.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!E.isValidDocument()||m.version.compareTo(E.version)>0||0===m.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):Ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",E.version," Watch version:",m.version)}),u})}function N_(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Pc(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.fs.getTargetData(r,e).next(u=>u?(o=u,be.resolve(o)):t.fs.allocateTargetId(r).next(h=>(o=new _l(e,h,0,r.currentSequenceNumber),t.fs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.ii.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function nh(n,e,t){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,De.Z)(function*(n,e,t){const r=tt(n),o=r.ii.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!yl(h))throw h;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.ii=r.ii.remove(e),r.ri.delete(o.target)}),Zg.apply(this,arguments)}function $f(n,e,t){const r=tt(n);let o=Rt.min(),u=Rn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,E,A){const N=tt(m),F=N.ri.get(A);return void 0!==F?be.resolve(N.ii.get(F)):N.fs.getTargetData(E,A)}(r,h,po(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(h,m.targetId).next(E=>{u=E})}).next(()=>r.si.Qs(h,e,t?o:Rt.min(),t?u:Rn())).next(m=>(L_(r,T0(e),m),{documents:m,li:u})))}function vb(n,e){const t=tt(n),r=tt(t.fs),o=t.ii.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(h=>h?h.target:null))}function F_(n,e){const t=tt(n),r=t.oi.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.ui.getAllFromCollectionGroup(o,e,qo(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(L_(t,e,o),o))}function L_(n,e,t){let r=Rt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.oi.set(e,r)}function Kg(){return Kg=(0,De.Z)(function*(n,e,t,r){const o=tt(n);let u=Rn(),h=go();for(const A of t){const N=e.fi(A.metadata.name);A.document&&(u=u.add(N));const F=e.di(A);F.setReadTime(e._i(A.metadata.readTime)),h=h.insert(N,F)}const m=o.ui.newChangeBuffer({trackRemovals:!0}),E=yield Pc(o,(A=r,po(_c(_n.fromString(`__bundle__/docs/${A}`)))));var A;return o.persistence.runTransaction("Apply bundle documents","readwrite",A=>k_(A,m,h).next(N=>(m.apply(A),N)).next(N=>o.fs.removeMatchingKeysForTargetId(A,E.targetId).next(()=>o.fs.addMatchingKeys(A,u,E.targetId)).next(()=>o.ci.Gs(A,N)).next(()=>N)))}),Kg.apply(this,arguments)}function WI(n,e){return Ei.apply(this,arguments)}function Ei(){return Ei=(0,De.Z)(function*(n,e,t=Rn()){const r=yield Pc(n,po(kg(e.bundledQuery))),o=tt(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const h=bi(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o._s.saveNamedQuery(u,e);const m=r.withResumeToken($r.EMPTY_BYTE_STRING,h);return o.ii=o.ii.insert(m.targetId,m),o.fs.updateTargetData(u,m).next(()=>o.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.fs.addMatchingKeys(u,t,r.targetId)).next(()=>o._s.saveNamedQuery(u,e))})}),Ei.apply(this,arguments)}class rh{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return be.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:bi(r.createTime)}),be.resolve()}getNamedQuery(e,t){return be.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:kg(r.bundledQuery),readTime:bi(r.readTime)}),be.resolve();var r}}class ZI{constructor(){this.overlays=new Nr(Qe.comparator),this.gi=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.Xt(e,t,u)}),be.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.gi.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.gi.delete(r)),be.resolve()}getOverlaysForCollection(e,t,r){const o=Sf(),u=t.length+1,h=new Qe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const E=m.getNext().value,A=E.getKey();if(!t.isPrefixOf(A.path))break;A.path.length===u&&E.largestBatchId>r&&o.set(E.getKey(),E)}return be.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Nr((A,N)=>A-N);const h=this.overlays.getIterator();for(;h.hasNext();){const A=h.getNext().value;if(A.getKey().getCollectionGroup()===t&&A.largestBatchId>r){let N=u.get(A.largestBatchId);null===N&&(N=Sf(),u=u.insert(A.largestBatchId,N)),N.set(A.getKey(),A)}}const m=Sf(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((A,N)=>m.set(A,N)),!(m.size()>=o)););return be.resolve(m)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const h=this.gi.get(o.largestBatchId).delete(r.key);this.gi.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new Rg(t,r));let u=this.gi.get(t);void 0===u&&(u=Rn(),this.gi.set(t,u)),this.gi.set(t,u.add(r.key))}}class V_{constructor(){this.yi=new Jn(Ci.pi),this.Ii=new Jn(Ci.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new Ci(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new Ci(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new Qe(new _n([])),r=new Ci(t,e),o=new Ci(t,e+1),u=[];return this.Ii.forEachInRange([r,o],h=>{this.Ai(h),u.push(h.key)}),u}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Qe(new _n([])),r=new Ci(t,e),o=new Ci(t,e+1);let u=Rn();return this.Ii.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Ci(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ci{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Qe.comparator(e.key,t.key)||Zt(e.vi,t.vi)}static Ti(e,t){return Zt(e.vi,t.vi)||Qe.comparator(e.key,t.key)}}class Hf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Jn(Ci.pi)}checkEmpty(e){return be.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,o){const u=this.Si;this.Si++;const h=new C_(u,t,r,o);this.Bs.push(h);for(const m of o)this.Di=this.Di.add(new Ci(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return be.resolve(h)}lookupMutationBatch(e,t){return be.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.xi(t+1),u=o<0?0:o;return be.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return be.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ci(t,0),o=new Ci(t,Number.POSITIVE_INFINITY),u=[];return this.Di.forEachInRange([r,o],h=>{const m=this.Ci(h.vi);u.push(m)}),be.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jn(Zt);return t.forEach(o=>{const u=new Ci(o,0),h=new Ci(o,Number.POSITIVE_INFINITY);this.Di.forEachInRange([u,h],m=>{r=r.add(m.vi)})}),be.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Qe.isDocumentKey(u)||(u=u.child(""));const h=new Ci(new Qe(u),0);let m=new Jn(Zt);return this.Di.forEachWhile(E=>{const A=E.key.path;return!!r.isPrefixOf(A)&&(A.length===o&&(m=m.add(E.vi)),!0)},h),be.resolve(this.Ni(m))}Ni(e){const t=[];return e.forEach(r=>{const o=this.Ci(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Ht(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return be.forEach(t.mutations,o=>{const u=new Ci(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new Ci(t,0),o=this.Di.firstAfterOrEqual(r);return be.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return be.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class KI{constructor(e){this.Mi=e,this.docs=new Nr(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,h=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return be.resolve(r?r.document.mutableCopy():Qn.newInvalidDocument(t))}getEntries(e,t){let r=go();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Qn.newInvalidDocument(o))}),be.resolve(r)}getAllFromCollection(e,t,r){let o=go();const u=new Qe(t.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:E}}=h.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||wa(iI(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return be.resolve(o)}getAllFromCollectionGroup(e,t,r,o){pt()}Oi(e,t){return be.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new U_(this)}getSize(e){return be.resolve(this.size)}}class U_ extends $g{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Kn.addEntry(e,o)):this.Kn.removeEntry(r)}),be.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class YI{constructor(e){this.persistence=e,this.Fi=new fl(t=>ul(t),bf),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new V_,this.targetCount=0,this.Li=bl.gn()}forEachTarget(e,t){return this.Fi.forEach((r,o)=>t(o)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),be.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new bl(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Tn(t),be.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Fi.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Fi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),be.waitFor(u).next(()=>o)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return be.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),be.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),be.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),be.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return be.resolve(r)}containsKey(e,t){return be.resolve(this.Bi.containsKey(t))}}class wb{constructor(e,t){this.Ui={},this.overlays={},this.es=new ho(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new YI(this),this.indexManager=new cb,this.ds=new KI(r=>this.referenceDelegate.qi(r)),this.M=new ib(t),this._s=new rh(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new Hf(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const o=new QI(this.es.next());return this.referenceDelegate.Ki(),r(o).next(u=>this.referenceDelegate.Gi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Qi(e,t){return be.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class QI extends Og{constructor(e){super(),this.currentSequenceNumber=e}}class B_{constructor(e){this.persistence=e,this.ji=new V_,this.Wi=null}static zi(e){return new B_(e)}get Hi(){if(this.Wi)return this.Wi;throw pt()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),be.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),be.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(o=>this.Hi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Hi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Hi,r=>{const o=Qe.fromPath(r);return this.Ji(e,o).next(u=>{u||t.removeEntry(o,Rt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return be.or([()=>be.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function Yg(n,e){return`firestore_clients_${n}_${e}`}function j_(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Qg(n,e){return`firestore_targets_${n}_${e}`}class Oc{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Yi(e,t,r){const o=JSON.parse(r);let u,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new Ne(o.error.code,o.error.message))),h?new Oc(e,t,o.state,u):(Rr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rc{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ne(r.error.code,r.error.message))),u?new Rc(e,r.state,o):(Rr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=xf();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=hg(r.activeTargetIds[h]),u=u.add(r.activeTargetIds[h]);return o?new $_(e,u):(Rr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Jg{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Jg(t.clientId,t.onlineState):(Rr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class H_{constructor(){this.activeTargetIds=xf()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xg{constructor(e,t,r,o,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Nr(Zt),this.started=!1,this.rr=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ur=Yg(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new H_),this.cr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const t=yield e.syncEngine.Fs();for(const o of t){if(o===e.er)continue;const u=e.getItem(Yg(e.persistenceKey,o));if(u){const h=$_.Yi(o,u);h&&(e.ir=e.ir.insert(h.clientId,h))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const o=e.mr(r);o&&e.gr(o)}for(const o of e.rr)e.sr(o);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Qg(this.persistenceKey,e));if(r){const o=Rc.Yi(e,r);o&&(t=o.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Qg(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Ir(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void Rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,De.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Pr(r.key);return t.br(o,null)}{const o=t.Vr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Sr(o)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(r.key===t.dr){if(null!==r.newValue){const o=t.mr(r.newValue);if(o)return t.gr(o)}}else if(r.key===t.ar){const o=function(u){let h=ho.A;if(null!=u)try{const m=JSON.parse(u);Ht("number"==typeof m),h=m}catch(m){Rr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==ho.A&&t.sequenceNumberHandler(o)}else if(r.key===t._r){const o=t.Nr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.kr(u)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const o=new Oc(this.currentUser,e,t,r),u=j_(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Xi())}Ir(e){const t=j_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const o=Qg(this.persistenceKey,e),u=new Rc(e,t,r);this.setItem(o,u.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return $_.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Oc.Yi(new wi(void 0!==r[2]?r[2]:null),o,t)}Dr(e,t){const r=this.lr.exec(e),o=Number(r[1]);return Rc.Yi(o,t)}mr(e){return Jg.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,De.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),o=this.yr(this.ir),u=this.yr(r),h=[],m=[];return u.forEach(E=>{o.has(E)||h.push(E)}),o.forEach(E=>{u.has(E)||m.push(E)}),this.syncEngine.Fr(h,m).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=xf();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Gf{constructor(){this.$r=new H_,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new H_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bb{Lr(e){}shutdown(){}}class Eb{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const G_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class q_{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class qT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,o,u){const h=this.uo(e,t);Ge("RestConnection","Sending: ",h,r);const m={};return this.ao(m,o,u),this.co(e,h,m,r).then(E=>(Ge("RestConnection","Received: ",E),E),E=>{throw gf("RestConnection",`${e} failed with error: `,E,"url: ",h,"request:",r),E})}ho(e,t,r,o,u){return this.oo(e,t,r,o,u)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+dc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}uo(e,t){return`${this.io}/v1/${t}:${G_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((u,h)=>{const m=new FT;m.listenOnce(YC.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case u0.NO_ERROR:const A=m.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(A)),u(A);break;case u0.TIMEOUT:Ge("Connection",'RPC "'+e+'" timed out'),h(new Ne(pe.DEADLINE_EXCEEDED,"Request time out"));break;case u0.HTTP_ERROR:const N=m.getStatus();if(Ge("Connection",'RPC "'+e+'" failed with status:',N,"response text:",m.getResponseText()),N>0){const F=m.getResponseJson().error;if(F&&F.status&&F.message){const X=function(oe){const Ce=oe.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(Ce)>=0?Ce:pe.UNKNOWN}(F.status);h(new Ne(X,F.message))}else h(new Ne(pe.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Ne(pe.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Ge("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);m.send(t,"POST",E,r,15)})}lo(e,t,r){const o=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ZC(),h=KC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new QC({})),this.ao(m.initMessageHeaders,t,r),(0,on.uI)()||(0,on.b$)()||(0,on.d)()||(0,on.w1)()||(0,on.Mn)()||(0,on.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");Ge("Connection","Creating WebChannel: "+E,m);const A=u.createWebChannel(E,m);let N=!1,F=!1;const X=new q_({Wr:Ce=>{F?Ge("Connection","Not sending because WebChannel is closed:",Ce):(N||(Ge("Connection","Opening WebChannel transport."),A.open(),N=!0),Ge("Connection","WebChannel sending:",Ce),A.send(Ce))},zr:()=>A.close()}),oe=(Ce,We,ft)=>{Ce.listen(We,Xt=>{try{ft(Xt)}catch(vn){setTimeout(()=>{throw vn},0)}})};return oe(A,Ry.EventType.OPEN,()=>{F||Ge("Connection","WebChannel transport opened.")}),oe(A,Ry.EventType.CLOSE,()=>{F||(F=!0,Ge("Connection","WebChannel transport closed"),X.no())}),oe(A,Ry.EventType.ERROR,Ce=>{F||(F=!0,gf("Connection","WebChannel transport errored:",Ce),X.no(new Ne(pe.UNAVAILABLE,"The operation could not be completed")))}),oe(A,Ry.EventType.MESSAGE,Ce=>{var We;if(!F){const ft=Ce.data[0];Ht(!!ft);const Xt=ft,vn=Xt.error||(null===(We=Xt[0])||void 0===We?void 0:We.error);if(vn){Ge("Connection","WebChannel received error:",vn);const Qt=vn.status;let jt=function($n){const ds=yr[$n];if(void 0!==ds)return l_(ds)}(Qt),ln=vn.message;void 0===jt&&(jt=pe.INTERNAL,ln="Unknown error status: "+Qt+" with message "+vn.message),F=!0,X.no(new Ne(jt,ln)),A.close()}else Ge("Connection","WebChannel received:",ft),X.so(ft)}}),oe(h,Oy.STAT_EVENT,Ce=>{Ce.stat===ug.PROXY?Ge("Connection","Detected buffering proxy"):Ce.stat===ug.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{X.eo()},0),X}}function Cb(){return"undefined"!=typeof window?window:null}function em(){return"undefined"!=typeof document?document:null}function ih(n){return new gI(n,!0)}class tm{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=o,this.wo=u,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),o=Math.max(0,t-r);o>0&&Ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,o,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class Ib{constructor(e,t,r,o,u,h,m,E){this.Yn=e,this.Ro=r,this.Po=o,this.bo=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new tm(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,De.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,De.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,De.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Rr(t.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Vo===t&&this.qo(r,o)},r=>{e(()=>{const o=new Ne(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(o)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(o=>{r(()=>this.Ko(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}No(){var e=this;this.state=5,this.Do.To((0,De.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Db extends Ib{constructor(e,t,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.M=u}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function _I(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:pt(),o=e.targetChange.targetIds||[],u=function(E,A){return E.N?(Ht(void 0===A||"string"==typeof A),$r.fromBase64String(A||"")):(Ht(void 0===A||A instanceof Uint8Array),$r.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(E){const A=void 0===E.code?pe.UNKNOWN:l_(E.code);return new Ne(A,E.message||"")}(h);t=new L0(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Ea(n,r.document.name),u=bi(r.document.updateTime),h=new Ni({mapValue:{fields:r.document.fields}}),m=Qn.newFoundDocument(o,u,h);t=new pl(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Ea(n,r.document),u=r.readTime?bi(r.readTime):Rt.min(),h=Qn.newNoDocument(o,u);t=new pl([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Ea(n,r.document);t=new pl([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return pt();{const r=e.filter,u=new Tg(r.count||0);t=new F0(r.targetId,u)}}var E;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return Rt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Rt.min():u.readTime?bi(u.readTime):Rt.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=_u(this.M),t.addTarget=function(o,u){let h;const m=u.target;return h=yg(m)?{documents:Ec(o,m)}:{query:q0(o,m)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=mI(o,u.resumeToken):u.snapshotVersion.compareTo(Rt.min())>0&&(h.readTime=Pf(o,u.snapshotVersion.toTimestamp())),h}(this.M,e);const r=function wI(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=_u(this.M),t.removeTarget=e,this.Fo(t)}}class Tb extends Ib{constructor(e,t,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.M=u,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function vI(n,e){return n&&n.length>0?(Ht(void 0!==e),n.map(t=>function(r,o){let u=bi(r.updateTime?r.updateTime:o);return u.isEqual(Rt.min())&&(u=bi(o)),new bc(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.Yo(r,t)}return Ht(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=_u(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Wd(this.M,r))};this.Fo(t)}}class JI extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.tu=!1}eu(){if(this.tu)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.oo(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(pe.UNKNOWN,o.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ho(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(pe.UNKNOWN,o.toString())})}terminate(){this.tu=!0}}class XI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Rr(t),this.iu=!1):Ge("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Ab{constructor(e,t,r,o,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=u,this._u.Lr(m=>{r.enqueueAndForget((0,De.Z)(function*(){var E;Nc(h)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,De.Z)(function*(A){const N=tt(A);N.fu.add(4),yield kc(N),N.wu.set("Unknown"),N.fu.delete(4),yield qf(N)}),function(A){return E.apply(this,arguments)})(h))}))}),this.wu=new XI(r,o)}}function qf(n){return nm.apply(this,arguments)}function nm(){return nm=(0,De.Z)(function*(n){if(Nc(n))for(const e of n.du)yield e(!0)}),nm.apply(this,arguments)}function kc(n){return rm.apply(this,arguments)}function rm(){return rm=(0,De.Z)(function*(n){for(const e of n.du)yield e(!1)}),rm.apply(this,arguments)}function zf(n,e){const t=tt(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),Sb(t)?im(t):ah(t).xo()&&z_(t,e))}function Wf(n,e){const t=tt(n),r=ah(t);t.lu.delete(e),r.xo()&&eD(t,e),0===t.lu.size&&(r.xo()?r.Mo():Nc(t)&&t.wu.set("Unknown"))}function z_(n,e){n.mu.Z(e.targetId),ah(n).jo(e)}function eD(n,e){n.mu.Z(e),ah(n).Wo(e)}function im(n){n.mu=new U0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),ah(n).start(),n.wu.ru()}function Sb(n){return Nc(n)&&!ah(n).Co()&&n.lu.size>0}function Nc(n){return 0===tt(n).fu.size}function tD(n){n.mu=void 0}function zT(n){return xb.apply(this,arguments)}function xb(){return xb=(0,De.Z)(function*(n){n.lu.forEach((e,t)=>{z_(n,e)})}),xb.apply(this,arguments)}function WT(n,e){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,De.Z)(function*(n,e){tD(n),Sb(n)?(n.wu.au(e),im(n)):n.wu.set("Unknown")}),Mb.apply(this,arguments)}function ZT(n,e,t){return sh.apply(this,arguments)}function sh(){return sh=(0,De.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof L0&&2===e.state&&e.cause)try{yield(r=(0,De.Z)(function*(o,u){const h=u.cause;for(const m of u.targetIds)o.lu.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.lu.delete(m),o.mu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield W_(n,r)}else if(e instanceof pl?n.mu.ut(e):e instanceof F0?n.mu._t(e):n.mu.ht(e),!t.isEqual(Rt.min()))try{const r=yield _b(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const h=o.mu.yt(u);return h.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const A=o.lu.get(E);A&&o.lu.set(E,A.withResumeToken(m.resumeToken,u))}}),h.targetMismatches.forEach(m=>{const E=o.lu.get(m);if(!E)return;o.lu.set(m,E.withResumeToken($r.EMPTY_BYTE_STRING,E.snapshotVersion)),eD(o,m);const A=new _l(E.target,m,1,E.sequenceNumber);z_(o,A)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),yield W_(n,r)}var r}),sh.apply(this,arguments)}function W_(n,e,t){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,De.Z)(function*(n,e,t){if(!yl(e))throw e;n.fu.add(1),yield kc(n),n.wu.set("Offline"),t||(t=()=>_b(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield qf(n)}))}),Zf.apply(this,arguments)}function Fc(n,e){return e().catch(t=>W_(n,t,e))}function Lc(n){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,De.Z)(function*(n){const e=tt(n),t=Da(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;nD(e);)try{const o=yield N_(e.localStore,r);if(null===o){0===e.hu.length&&t.Mo();break}r=o.batchId,K_(e,o)}catch(o){yield W_(e,o)}Y_(e)&&Q_(e)}),Z_.apply(this,arguments)}function nD(n){return Nc(n)&&n.hu.length<10}function K_(n,e){n.hu.push(e);const t=Da(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function Y_(n){return Nc(n)&&!Da(n).Co()&&n.hu.length>0}function Q_(n){Da(n).start()}function Pb(n){return Ob.apply(this,arguments)}function Ob(){return Ob=(0,De.Z)(function*(n){Da(n).Zo()}),Ob.apply(this,arguments)}function Rb(n){return oh.apply(this,arguments)}function oh(){return oh=(0,De.Z)(function*(n){const e=Da(n);for(const t of n.hu)e.Jo(t.mutations)}),oh.apply(this,arguments)}function kb(n,e,t){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,De.Z)(function*(n,e,t){const r=n.hu.shift(),o=rb.from(r,e,t);yield Fc(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Lc(n)}),Nb.apply(this,arguments)}function KT(n,e){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,De.Z)(function*(n,e){var t;e&&Da(n).Ho&&(yield(t=(0,De.Z)(function*(r,o){if(dI(u=o.code)&&u!==pe.ABORTED){const h=r.hu.shift();Da(r).ko(),yield Fc(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Lc(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),Y_(n)&&Q_(n)}),Fb.apply(this,arguments)}function Lb(n,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,De.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=Nc(t);t.fu.add(3),yield kc(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield qf(t)}),Kf.apply(this,arguments)}function J_(n,e){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,De.Z)(function*(n,e){const t=tt(n);e?(t.fu.delete(2),yield qf(t)):e||(t.fu.add(2),yield kc(t),t.wu.set("Unknown"))}),Vb.apply(this,arguments)}function ah(n){return n.gu||(n.gu=function(e,t,r){const o=tt(e);return o.eu(),new Db(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Hr:zT.bind(null,n),Yr:WT.bind(null,n),Qo:ZT.bind(null,n)}),n.du.push(function(){var e=(0,De.Z)(function*(t){t?(n.gu.ko(),Sb(n)?im(n):n.wu.set("Unknown")):(yield n.gu.stop(),tD(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Da(n){return n.yu||(n.yu=function(e,t,r){const o=tt(e);return o.eu(),new Tb(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Hr:Pb.bind(null,n),Yr:KT.bind(null,n),Xo:Rb.bind(null,n),Yo:kb.bind(null,n)}),n.du.push(function(){var e=(0,De.Z)(function*(t){t?(n.yu.ko(),yield Lc(n)):(yield n.yu.stop(),n.hu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class X_{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,u){const h=Date.now()+r,m=new X_(e,t,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ui(n,e){if(Rr("AsyncQueue",`${e}: ${n}`),yl(n))return new Ne(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class uh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=d_(),this.sortedSet=new Nr(this.comparator)}static emptySet(e){return new uh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new uh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class sm{constructor(){this.pu=new Nr(Qe.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):pt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class lh{constructor(e,t,r,o,u,h,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new lh(e,t,uh.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class rD{constructor(){this.Tu=void 0,this.listeners=[]}}class ev{constructor(){this.queries=new fl(e=>D0(e),If),this.onlineState="Unknown",this.Eu=new Set}}function om(n,e){return am.apply(this,arguments)}function am(){return am=(0,De.Z)(function*(n,e){const t=tt(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new rD),o)try{u.Tu=yield t.onListen(r)}catch(h){const m=ui(h,`Initialization of query '${Xy(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Au(t.onlineState),u.Tu&&e.Ru(u.Tu)&&nv(t)}),am.apply(this,arguments)}function tv(n,e){return um.apply(this,arguments)}function um(){return um=(0,De.Z)(function*(n,e){const t=tt(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),um.apply(this,arguments)}function Ub(n,e){const t=tt(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.Ru(o)&&(r=!0);h.Tu=o}}r&&nv(t)}function iD(n,e,t){const r=tt(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function nv(n){n.Eu.forEach(e=>{e.next()})}class Yf{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new lh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=lh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class Zo{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class Bb{constructor(e){this.M=e}fi(e){return Ea(this.M,e)}di(e){return e.metadata.exists?G0(this.M,e.document,!1):Qn.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return bi(e)}}class YT{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jb(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=_n.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new Bb(this.M);for(const o of e)if(o.metadata.queries){const u=r.fi(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||Rn()).add(u);t.set(h,m)}}return t}complete(){var e=this;return(0,De.Z)(function*(){const t=yield function zI(n,e,t,r){return Kg.apply(this,arguments)}(e.localStore,new Bb(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const o of e.queries)yield WI(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function jb(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class rv{constructor(e){this.key=e}}class $b{constructor(e){this.key=e}}class Hb{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Rn(),this.mutatedKeys=Rn(),this.Uu=A0(e),this.qu=new uh(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new sm,o=t?t.qu:this.qu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const E=Ef(this.query)&&o.size===this.query.limit?o.last():null,A=Cf(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((N,F)=>{const X=o.get(N),oe=e_(this.query,F)?F:null,Ce=!!X&&this.mutatedKeys.has(X.key),We=!!oe&&(oe.hasLocalMutations||this.mutatedKeys.has(oe.key)&&oe.hasCommittedMutations);let ft=!1;X&&oe?X.data.isEqual(oe.data)?Ce!==We&&(r.track({type:3,doc:oe}),ft=!0):this.ju(X,oe)||(r.track({type:2,doc:oe}),ft=!0,(E&&this.Uu(oe,E)>0||A&&this.Uu(oe,A)<0)&&(m=!0)):!X&&oe?(r.track({type:0,doc:oe}),ft=!0):X&&!oe&&(r.track({type:1,doc:X}),ft=!0,(E||A)&&(m=!0)),ft&&(oe?(h=h.add(oe),u=We?u.add(N):u.delete(N)):(h=h.delete(N),u=u.delete(N)))}),Ef(this.query)||Cf(this.query))for(;h.size>this.query.limit;){const N=Ef(this.query)?h.last():h.first();h=h.delete(N.key),u=u.delete(N.key),r.track({type:1,doc:N})}return{qu:h,Qu:r,ni:m,mutatedKeys:u}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const u=e.Qu.Iu();u.sort((A,N)=>function(F,X){const oe=Ce=>{switch(Ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return oe(F)-oe(X)}(A.type,N.type)||this.Uu(A.doc,N.doc)),this.Wu(r);const h=t?this.zu():[],m=0===this.Lu.size&&this.current?1:0,E=m!==this.Bu;return this.Bu=m,0!==u.length||E?{snapshot:new lh(this.query,e.qu,o,u,e.mutatedKeys,0===m,E,!1),Hu:h}:{Hu:h}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new sm,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Rn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new $b(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new rv(r))}),t}Yu(e){this.$u=e.li,this.Lu=Rn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return lh.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Gb{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class sD{constructor(e){this.key=e,this.Zu=!1}}class QT{constructor(e,t,r,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.ta={},this.ea=new fl(m=>D0(m),If),this.na=new Map,this.sa=new Set,this.ia=new Nr(Qe.comparator),this.ra=new Map,this.oa=new V_,this.ua={},this.aa=new Map,this.ca=bl.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function qb(n,e){return lm.apply(this,arguments)}function lm(){return lm=(0,De.Z)(function*(n,e){const t=gv(n);let r,o;const u=t.ea.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Xu();else{const h=yield Pc(t.localStore,po(e));t.isPrimaryClient&&zf(t.remoteStore,h);const m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield iv(t,e,r,"current"===m)}return o}),lm.apply(this,arguments)}function iv(n,e,t,r){return sv.apply(this,arguments)}function sv(){return sv=(0,De.Z)(function*(n,e,t,r){n.la=(N,F,X)=>{return(oe=(0,De.Z)(function*(Ce,We,ft,Xt){let vn=We.view.Gu(ft);vn.ni&&(vn=yield $f(Ce.localStore,We.query,!1).then(({documents:ln})=>We.view.Gu(ln,vn)));const Qt=Xt&&Xt.targetChanges.get(We.targetId),jt=We.view.applyChanges(vn,Ce.isPrimaryClient,Qt);return Jb(Ce,We.targetId,jt.Hu),jt.snapshot}),function(Ce,We,ft,Xt){return oe.apply(this,arguments)})(n,N,F,X);var oe};const o=yield $f(n.localStore,e,!0),u=new Hb(e,o.li),h=u.Gu(o.documents),m=yu.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=u.applyChanges(h,n.isPrimaryClient,m);Jb(n,t,E.Hu);const A=new Gb(e,t,u);return n.ea.set(e,A),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),E.snapshot}),sv.apply(this,arguments)}function zb(n,e){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,De.Z)(function*(n,e){const t=tt(n),r=t.ea.get(e),o=t.na.get(r.targetId);if(o.length>1)return t.na.set(r.targetId,o.filter(u=>!If(u,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield nh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Wf(t.remoteStore,r.targetId),Qf(t,r.targetId)}).catch(xc))):(Qf(t,r.targetId),yield nh(t.localStore,r.targetId,!0))}),Vc.apply(this,arguments)}function cm(){return cm=(0,De.Z)(function*(n,e,t){const r=mv(n);try{const o=yield function(u,h){const m=tt(u),E=mr.now(),A=h.reduce((F,X)=>F.add(X.key),Rn());let N;return m.persistence.runTransaction("Locally write mutations","readwrite",F=>m.ci.Ks(F,A).next(X=>{N=X;const oe=[];for(const Ce of h){const We=UT(Ce,N.get(Ce.key));null!=We&&oe.push(new Tt(Ce.key,We,_0(We.value.mapValue),Gr.exists(!0)))}return m.Bs.addMutationBatch(F,E,oe,h)})).then(F=>(F.applyToLocalDocumentSet(N),{batchId:F.batchId,changes:N}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,m){let E=u.ua[u.currentUser.toKey()];E||(E=new Nr(Zt)),E=E.insert(h,m),u.ua[u.currentUser.toKey()]=E}(r,o.batchId,t),yield Cu(r,o.changes),yield Lc(r.remoteStore)}catch(o){const u=ui(o,"Failed to persist write");t.reject(u)}}),cm.apply(this,arguments)}function Wb(n,e){return dm.apply(this,arguments)}function dm(){return dm=(0,De.Z)(function*(n,e){const t=tt(n);try{const r=yield qI(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.ra.get(u);h&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Zu=!0:o.modifiedDocuments.size>0?Ht(h.Zu):o.removedDocuments.size>0&&(Ht(h.Zu),h.Zu=!1))}),yield Cu(t,r,e)}catch(r){yield xc(r)}}),dm.apply(this,arguments)}function av(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ea.forEach((u,h)=>{const m=h.view.Au(e);m.snapshot&&o.push(m.snapshot)}),function(u,h){const m=tt(u);m.onlineState=h;let E=!1;m.queries.forEach((A,N)=>{for(const F of N.listeners)F.Au(h)&&(E=!0)}),E&&nv(m)}(r.eventManager,e),o.length&&r.ta.Qo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oD(n,e,t){return uv.apply(this,arguments)}function uv(){return uv=(0,De.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ra.get(e),u=o&&o.key;if(u){let h=new Nr(Qe.comparator);h=h.insert(u,Qn.newNoDocument(u,Rt.min()));const m=Rn().add(u),E=new Mf(Rt.min(),new Map,new Jn(Zt),h,m);yield Wb(r,E),r.ia=r.ia.remove(u),r.ra.delete(e),ch(r)}else yield nh(r.localStore,e,!1).then(()=>Qf(r,e,t)).catch(xc)}),uv.apply(this,arguments)}function JT(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,De.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const o=yield GI(t.localStore,e);Qb(t,r,null),Yb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Cu(t,o)}catch(o){yield xc(o)}}),Zb.apply(this,arguments)}function Kb(n,e,t){return lv.apply(this,arguments)}function lv(){return lv=(0,De.Z)(function*(n,e,t){const r=tt(n);try{const o=yield function(u,h){const m=tt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let A;return m.Bs.lookupMutationBatch(E,h).next(N=>(Ht(null!==N),A=N.keys(),m.Bs.removeMutationBatch(E,N))).next(()=>m.Bs.performConsistencyCheck(E)).next(()=>m.ci.Ks(E,A))})}(r.localStore,e);Qb(r,e,t),Yb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Cu(r,o)}catch(o){yield xc(o)}}),lv.apply(this,arguments)}function cv(){return cv=(0,De.Z)(function*(n,e){const t=tt(n);Nc(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const h=tt(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.Bs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.aa.get(r)||[];o.push(e),t.aa.set(r,o)}catch(r){const o=ui(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),cv.apply(this,arguments)}function Yb(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function Qb(n,e,t){const r=tt(n);let o=r.ua[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ua[r.currentUser.toKey()]=o}}function Qf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||uD(n,r)})}function uD(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(Wf(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),ch(n))}function Jb(n,e,t){for(const r of t)r instanceof rv?(n.oa.addReference(r.key,e),lD(n,r)):r instanceof $b?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||uD(n,r.key)):pt()}function lD(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(Ge("SyncEngine","New document in limbo: "+t),n.sa.add(r),ch(n))}function ch(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Qe(_n.fromString(e)),r=n.ca.next();n.ra.set(r,new sD(t)),n.ia=n.ia.insert(t,r),zf(n.remoteStore,new _l(po(_c(t.path)),r,2,ho.A))}}function Cu(n,e,t){return dv.apply(this,arguments)}function dv(){return dv=(0,De.Z)(function*(n,e,t){const r=tt(n),o=[],u=[],h=[];var m;r.ea.isEmpty()||(r.ea.forEach((m,E)=>{h.push(r.la(E,e,t).then(A=>{if(A){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,A.fromCache?"not-current":"current"),o.push(A);const N=jf.Ys(E.targetId,A);u.push(N)}}))}),yield Promise.all(h),r.ta.Qo(o),yield(m=(0,De.Z)(function*(E,A){const N=tt(E);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",F=>be.forEach(A,X=>be.forEach(X.Hs,oe=>N.persistence.referenceDelegate.addReference(F,X.targetId,oe)).next(()=>be.forEach(X.Js,oe=>N.persistence.referenceDelegate.removeReference(F,X.targetId,oe)))))}catch(F){if(!yl(F))throw F;Ge("LocalStore","Failed to update sequence numbers: "+F)}for(const F of A){const X=F.targetId;if(!F.fromCache){const oe=N.ii.get(X),We=oe.withLastLimboFreeSnapshotVersion(oe.snapshotVersion);N.ii=N.ii.insert(X,We)}}}),function(E,A){return m.apply(this,arguments)})(r.localStore,u))}),dv.apply(this,arguments)}function Xb(n,e){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,De.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const r=yield Wg(t.localStore,e);t.currentUser=e,(o=t).aa.forEach(h=>{h.forEach(m=>{m.reject(new Ne(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Cu(t,r.hi)}var o}),Iu.apply(this,arguments)}function eE(n,e){const t=tt(n),r=t.ra.get(e);if(r&&r.Zu)return Rn().add(r.key);{let o=Rn();const u=t.na.get(e);if(!u)return o;for(const h of u){const m=t.ea.get(h);o=o.unionWith(m.view.Ku)}return o}}function hv(n,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,De.Z)(function*(n,e){const t=tt(n),r=yield $f(t.localStore,e.query,!0),o=e.view.Yu(r);return t.isPrimaryClient&&Jb(t,e.targetId,o.Hu),o}),Jf.apply(this,arguments)}function cD(n,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,De.Z)(function*(n,e){const t=tt(n);return F_(t.localStore,e).then(r=>Cu(t,r))}),Xf.apply(this,arguments)}function fv(n,e,t,r){return hm.apply(this,arguments)}function hm(){return hm=(0,De.Z)(function*(n,e,t,r){const o=tt(n),u=yield function(h,m){const E=tt(h),A=tt(E.Bs);return E.persistence.runTransaction("Lookup mutation documents","readonly",N=>A.fn(N,m).next(F=>F?E.ci.Ks(N,F):be.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield Lc(o.remoteStore):"acknowledged"===t||"rejected"===t?(Qb(o,e,r||null),Yb(o,e),m=e,tt(tt(o.localStore).Bs)._n(m)):pt(),yield Cu(o,u)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),hm.apply(this,arguments)}function nE(){return nE=(0,De.Z)(function*(n,e){const t=tt(n);if(gv(t),mv(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield dD(t,r.toArray());t.ha=!0,yield J_(t.remoteStore,!0);for(const u of o)zf(t.remoteStore,u)}else if(!1===e&&!1!==t.ha){const r=[];let o=Promise.resolve();t.na.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Qf(t,h),nh(t.localStore,h,!0))),Wf(t.remoteStore,h)}),yield o,yield dD(t,r),function(u){const h=tt(u);h.ra.forEach((m,E)=>{Wf(h.remoteStore,E)}),h.oa.bi(),h.ra=new Map,h.ia=new Nr(Qe.comparator)}(t),t.ha=!1,yield J_(t.remoteStore,!1)}}),nE.apply(this,arguments)}function dD(n,e,t){return rE.apply(this,arguments)}function rE(){return rE=(0,De.Z)(function*(n,e,t){const r=tt(n),o=[],u=[];for(const h of e){let m;const E=r.na.get(h);if(E&&0!==E.length){m=yield Pc(r.localStore,po(E[0]));for(const A of E){const N=r.ea.get(A),F=yield hv(r,N);F.snapshot&&u.push(F.snapshot)}}else{const A=yield vb(r.localStore,h);m=yield Pc(r.localStore,A),yield iv(r,hD(A),h,!1)}o.push(m)}return r.ta.Qo(u),o}),rE.apply(this,arguments)}function hD(n){return Yy(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function XT(n){const e=tt(n);return tt(tt(e.localStore).persistence).Fs()}function eA(n,e,t,r){return iE.apply(this,arguments)}function iE(){return iE=(0,De.Z)(function*(n,e,t,r){const o=tt(n);if(o.ha)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const u=o.na.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const h=yield F_(o.localStore,T0(u[0])),m=Mf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Cu(o,h,m);break}case"rejected":yield nh(o.localStore,e,!0),Qf(o,e,r);break;default:pt()}}),iE.apply(this,arguments)}function sE(n,e,t){return pv.apply(this,arguments)}function pv(){return pv=(0,De.Z)(function*(n,e,t){const r=gv(n);if(r.ha){for(const o of e){if(r.na.has(o)){Ge("SyncEngine","Adding an already active target "+o);continue}const u=yield vb(r.localStore,o),h=yield Pc(r.localStore,u);yield iv(r,hD(u),h.targetId,!1),zf(r.remoteStore,h)}for(const o of t)r.na.has(o)&&(yield nh(r.localStore,o,!1).then(()=>{Wf(r.remoteStore,o),Qf(r,o)}).catch(xc))}}),pv.apply(this,arguments)}function gv(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oD.bind(null,e),e.ta.Qo=Ub.bind(null,e.eventManager),e.ta.fa=iD.bind(null,e.eventManager),e}function mv(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kb.bind(null,e),e}class yv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.M=ih(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return zg(this.persistence,new qg,e.initialUser,this.M)}wa(e){return new wb(B_.zi,this.M)}_a(e){return new Gf}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _v extends yv{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield mv(r.ya.syncEngine),yield Lc(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return zg(this.persistence,new qg,e.initialUser,this.M)}ma(e){return new jI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=O_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ls.withCacheSize(this.cacheSizeBytes):ls.DEFAULT;return new Bf(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Cb(),em(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Gf}}class oE extends _v{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield t().call(r,e);const o=r.ya.syncEngine;r.sharedClientState instanceof Xg&&(r.sharedClientState.syncEngine={Mr:fv.bind(null,o),Or:eA.bind(null,o),Fr:sE.bind(null,o),Fs:XT.bind(null,o),kr:cD.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,De.Z)(function*(h){yield function tE(n,e){return nE.apply(this,arguments)}(r.ya.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}_a(e){const t=Cb();if(!Xg.vt(t))throw new Ne(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=O_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xg(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class vv{initialize(e,t){var r=this;return(0,De.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>av(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=Xb.bind(null,r.syncEngine),yield J_(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ev}createDatastore(e){const t=ih(e.databaseInfo.databaseId),r=new qT(e.databaseInfo);return new JI(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>av(this.syncEngine,m,0),h=Eb.vt()?new Eb:new bb,new Ab(t,r,o,u,h);var t,r,o,u,h}createSyncEngine(e,t){return function(r,o,u,h,m,E,A){const N=new QT(r,o,u,h,m,E);return A&&(N.ha=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const r=tt(t);Ge("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield kc(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function aE(n,e=10240){let t=0;return{read:()=>(0,De.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ep{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fm{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new si,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,De.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),o=Number(r);isNaN(o)&&e.Pa(`length string (${r}) is not valid number`);const u=yield e.ba(o);return new Zo(JSON.parse(u),t.length+o)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,De.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,De.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,De.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class tA{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,De.Z)(function*(u,h){const m=tt(u),E=_u(m.M)+"/documents",A={documents:h.map(oe=>gl(m.M,oe))},N=yield m.ho("BatchGetDocuments",E,A),F=new Map;N.forEach(oe=>{const Ce=function yI(n,e){return"found"in e?function(t,r){Ht(!!r.found);const o=Ea(t,r.found.name),u=bi(r.found.updateTime),h=new Ni({mapValue:{fields:r.found.fields}});return Qn.newFoundDocument(o,u,h)}(n,e):"missing"in e?function(t,r){Ht(!!r.missing),Ht(!!r.readTime);const o=Ea(t,r.missing),u=bi(r.readTime);return Qn.newNoDocument(o,u)}(n,e):pt()}(m.M,oe);F.set(Ce.key.toString(),Ce)});const X=[];return h.forEach(oe=>{const Ce=F.get(oe.toString());Ht(!!Ce),X.push(Ce)}),X}),function(u,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new hl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Qe.fromPath(o);e.mutations.push(new u_(u,e.precondition(u)))}),yield(r=(0,De.Z)(function*(o,u){const h=tt(o),m=_u(h.M)+"/documents",E={writes:u.map(A=>Wd(h.M,A))};yield h.oo("Commit",m,E)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=Rt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Gr.updateTime(t):Gr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Ne(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gr.updateTime(t)}return Gr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uE{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.Sa=5,this.Do=new tm(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,De.Z)(function*(){const t=new tA(e.datastore),r=e.Ca(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.xa(u)}))}).catch(o=>{e.xa(o)})}))}Ca(e){try{const t=this.updateFunction(e);return!fc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!dI(t)}return!1}}class pm{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=wi.UNAUTHENTICATED,this.clientId=Ly.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,De.Z)(function*(m){Ge("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Ge("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=ui(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function lE(n,e){return wv.apply(this,arguments)}function wv(){return wv=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,De.Z)(function*(u){r.isEqual(u)||(yield Wg(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),wv.apply(this,arguments)}function cE(n,e){return bv.apply(this,arguments)}function bv(){return bv=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield dE(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>Lb(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>Lb(e.remoteStore,u)),n.onlineComponents=e}),bv.apply(this,arguments)}function dE(n){return Ev.apply(this,arguments)}function Ev(){return Ev=(0,De.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield lE(n,new yv)),n.offlineComponents}),Ev.apply(this,arguments)}function gm(n){return Cv.apply(this,arguments)}function Cv(){return Cv=(0,De.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield cE(n,new vv)),n.onlineComponents}),Cv.apply(this,arguments)}function hE(n){return dE(n).then(e=>e.persistence)}function Iv(n){return dE(n).then(e=>e.localStore)}function fE(n){return gm(n).then(e=>e.remoteStore)}function Dv(n){return gm(n).then(e=>e.syncEngine)}function dh(n){return pE.apply(this,arguments)}function pE(){return pE=(0,De.Z)(function*(n){const e=yield gm(n),t=e.eventManager;return t.onListen=qb.bind(null,e.syncEngine),t.onUnlisten=zb.bind(null,e.syncEngine),t}),pE.apply(this,arguments)}function pD(n,e,t={}){const r=new si;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(o,u,h,m,E){const A=new ep({next:F=>{u.enqueueAndForget(()=>tv(o,N));const X=F.docs.has(h);!X&&F.fromCache?E.reject(new Ne(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):X&&F.fromCache&&m&&"server"===m.source?E.reject(new Ne(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(F)},error:F=>E.reject(F)}),N=new Yf(_c(h.path),A,{includeMetadataChanges:!0,Cu:!0});return om(o,N)}(yield dh(n),n.asyncQueue,e,t,r)})),r.promise}function mD(n,e,t={}){const r=new si;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(o,u,h,m,E){const A=new ep({next:F=>{u.enqueueAndForget(()=>tv(o,N)),F.fromCache&&"server"===m.source?E.reject(new Ne(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(F)},error:F=>E.reject(F)}),N=new Yf(h,A,{includeMetadataChanges:!0,Cu:!0});return om(o,N)}(yield dh(n),n.asyncQueue,e,t,r)})),r.promise}const s=new Map;function a(n,e,t){if(!t)throw new Ne(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function l(n,e,t,r){if(!0===e&&!0===r)throw new Ne(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function c(n){if(!Qe.isDocumentKey(n))throw new Ne(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function p(n){if(Qe.isDocumentKey(n))throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function y(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function v(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=y(n);throw new Ne(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function I(n,e){if(e<=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class S{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,l("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class P{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S({}),this._settingsFrozen=!1,e instanceof hu?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ne(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(o.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new d0;switch(t.type){case"gapi":const r=t.client;return Ht(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Ny(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=s.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),s.delete(e),t.terminate())}(this),Promise.resolve()}}class z{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new me(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new z(this.firestore,e,this._key)}}class te{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new te(this.firestore,e,this._query)}}class me extends te{constructor(e,t,r){super(e,t,_c(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new z(this.firestore,null,new Qe(e))}withConverter(e){return new me(this.firestore,e,this._path)}}function qe(n,e,...t){if(n=(0,on.m9)(n),a("collection","path",e),n instanceof P){const r=_n.fromString(e,...t);return p(r),new me(n,null,r)}{if(!(n instanceof z||n instanceof me))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(e,...t));return p(r),new me(n.firestore,null,r)}}function at(n,e,...t){if(n=(0,on.m9)(n),1===arguments.length&&(e=Ly.R()),a("doc","path",e),n instanceof P){const r=_n.fromString(e,...t);return c(r),new z(n,null,new Qe(r))}{if(!(n instanceof z||n instanceof me))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(e,...t));return c(r),new z(n.firestore,n instanceof me?n.converter:null,new Qe(r))}}function Pe(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),(n instanceof z||n instanceof me)&&(e instanceof z||e instanceof me)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Mt(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),n instanceof te&&e instanceof te&&n.firestore===e.firestore&&If(n._query,e._query)&&n.converter===e.converter}class fn{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new tm(this,"async_queue_retry"),this.qa=()=>{const t=em();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=em();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=em();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new si;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,De.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!yl(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,Rr("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const o=X_.createAndSchedule(this,e,t,r,u=>this.ja(u));return this.Fa.push(o),o}Ka(){this.$a&&pt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function Pn(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class ks{constructor(){this._progressObserver={},this._taskCompletionResolver=new si,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xn extends P{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new fn,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mm(this),this._firestoreClient.terminate()}}function Tv(n=(0,Xa.getApp)()){return(0,Xa._getProvider)(n,"firestore").getImmediate()}function Sr(n){return n._firestoreClient||mm(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mm(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new nI(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new pm(n._authCredentials,n._appCheckCredentials,n._queue,r)}function ym(n,e,t){const r=new si;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield lE(n,t),yield cE(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===pe.FAILED_PRECONDITION||u.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function uA(n){if(n._initialized||n._terminated)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Bc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il($r.fromBase64String(e))}catch(t){throw new Ne(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Il($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tp{constructor(e){this._methodName=e}}class mE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const Rx=/^__.*__$/;class kx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Tt(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dg(e,this.data,t,this.fieldTransforms)}}class lA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Tt(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class yE{constructor(e,t,r,o,u,h){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Ya(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new yE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Za({path:r,ec:!1});return o.nc(e),o}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Za({path:r,ec:!1});return o.Ya(),o}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return wE(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(cA(this.Xa)&&Rx.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class Nx{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||ih(e)}ac(e,t,r,o=!1){return new yE({Xa:e,methodName:t,uc:r,path:oi.emptyPath(),ec:!1,oc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function np(n){const e=n._freezeSettings(),t=ih(n._databaseId);return new Nx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _E(n,e,t,r,o,u={}){const h=n.ac(u.merge||u.mergeFields?2:0,e,t,o);wD("Data must be an object, but it was:",h,r);const m=fA(r,h);let E,A;if(u.merge)E=new sl(h.fieldMask),A=h.fieldTransforms;else if(u.mergeFields){const N=[];for(const F of u.mergeFields){const X=bD(e,F,t);if(!h.contains(X))throw new Ne(pe.INVALID_ARGUMENT,`Field '${X}' is specified in your field mask but missing from your input data.`);gA(N,X)||N.push(X)}E=new sl(N),A=h.fieldTransforms.filter(F=>E.covers(F.field))}else E=null,A=h.fieldTransforms;return new kx(new Ni(m),E,A)}class Mv extends tp{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mv}}function dA(n,e,t){return new yE({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class yD extends tp{_toFieldTransform(e){return new qd(e.path,new vc)}isEqual(e){return e instanceof yD}}class Fx extends tp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=dA(this,e,!0),r=this.cc.map(u=>rp(u,t)),o=new cl(r);return new qd(e.path,o)}isEqual(e){return this===e}}class Lx extends tp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=dA(this,e,!0),r=this.cc.map(u=>rp(u,t)),o=new dl(r);return new qd(e.path,o)}isEqual(e){return this===e}}class Vx extends tp{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new wc(e.M,M0(e.M,this.hc));return new qd(e.path,t)}isEqual(e){return this===e}}function _D(n,e,t,r){const o=n.ac(1,e,t);wD("Data must be an object, but it was:",o,r);const u=[],h=Ni.empty();Ud(r,(E,A)=>{const N=vE(e,E,t);A=(0,on.m9)(A);const F=o.sc(N);if(A instanceof Mv)u.push(N);else{const X=rp(A,F);null!=X&&(u.push(N),h.set(N,X))}});const m=new sl(u);return new lA(h,m,o.fieldTransforms)}function vD(n,e,t,r,o,u){const h=n.ac(1,e,t),m=[bD(e,r,t)],E=[o];if(u.length%2!=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let X=0;X<u.length;X+=2)m.push(bD(e,u[X])),E.push(u[X+1]);const A=[],N=Ni.empty();for(let X=m.length-1;X>=0;--X)if(!gA(A,m[X])){const oe=m[X];let Ce=E[X];Ce=(0,on.m9)(Ce);const We=h.sc(oe);if(Ce instanceof Mv)A.push(oe);else{const ft=rp(Ce,We);null!=ft&&(A.push(oe),N.set(oe,ft))}}const F=new sl(A);return new lA(N,F,h.fieldTransforms)}function hA(n,e,t,r=!1){return rp(t,n.ac(r?4:3,e))}function rp(n,e){if(pA(n=(0,on.m9)(n)))return wD("Unsupported field value:",e,n),fA(n,e);if(n instanceof tp)return function(t,r){if(!cA(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const h of t){let m=rp(h,r.ic(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,on.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return M0(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=mr.fromDate(t);return{timestampValue:Pf(r.M,o)}}if(t instanceof mr){const o=new mr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pf(r.M,o)}}if(t instanceof mE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Il)return{bytesValue:mI(r.M,t._byteString)};if(t instanceof z){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.rc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:j0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${y(t)}`)}(n,e)}function fA(n,e){const t={};return g0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ud(n,(r,o)=>{const u=rp(o,e.tc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function pA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof mr||n instanceof mE||n instanceof Il||n instanceof z||n instanceof tp)}function wD(n,e,t){if(!pA(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=y(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function bD(n,e,t){if((e=(0,on.m9)(e))instanceof Bc)return e._internalPath;if("string"==typeof e)return vE(n,e);throw wE("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ux=new RegExp("[~\\*/\\[\\]]");function vE(n,e,t){if(e.search(Ux)>=0)throw wE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bc(...e.split("."))._internalPath}catch(r){throw wE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wE(n,e,t,r,o){const u=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(u||h)&&(E+=" (found",u&&(E+=` in field ${r}`),h&&(E+=` in document ${o}`),E+=")"),new Ne(pe.INVALID_ARGUMENT,m+n+E)}function gA(n,e){return n.some(t=>t.isEqual(e))}class Pv{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new z(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bx extends Pv{data(){return super.data()}}function bE(n,e){return"string"==typeof e?vE(n,e):e instanceof Bc?e._internalPath:e._delegate._internalPath}class ip{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jc extends Pv{constructor(e,t,r,o,u,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ov(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(bE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ov extends jc{data(e={}){return super.data(e)}}class hh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ip(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ov(this._firestore,this._userDataWriter,r.key,r,new ip(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Ov(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ip(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new Ov(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ip(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,A=-1;return 0!==h.type&&(E=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),A=u.indexOf(h.doc.key)),{type:jx(h.type),doc:m,oldIndex:E,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function mA(n,e){return n instanceof jc&&e instanceof jc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof hh&&e instanceof hh&&n._firestore===e._firestore&&Mt(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function yA(n){if(Cf(n)&&0===n.explicitOrderBy.length)throw new Ne(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rv{}function fh(n,...e){for(const t of e)n=t._apply(n);return n}class $x extends Rv{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=np(e.firestore),r=function(o,u,h,m,E,A,N){let F;if(E.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){CA(N,A);const oe=[];for(const Ce of N)oe.push(EA(m,o,Ce));F={arrayValue:{values:oe}}}else F=EA(m,o,N)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||CA(N,A),F=hA(h,"where",N,"in"===A||"not-in"===A);const X=kr.create(E,A,F);return function(oe,Ce){if(Ce.S()){const ft=Qy(oe);if(null!==ft&&!ft.isEqual(Ce.field))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ft.toString()}' and '${Ce.field.toString()}'`);const Xt=Eg(oe);null!==Xt&&IA(0,Ce.field,Xt)}const We=function(ft,Xt){for(const vn of ft.filters)if(Xt.indexOf(vn.op)>=0)return vn.op;return null}(oe,function(ft){switch(ft){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ce.op));if(null!==We)throw new Ne(pe.INVALID_ARGUMENT,We===Ce.op?`Invalid query. You cannot use more than one '${Ce.op.toString()}' filter.`:`Invalid query. You cannot use '${Ce.op.toString()}' filters with '${We.toString()}' filters.`)}(o,X),X}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new te(e.firestore,e.converter,function(o,u){const h=o.filters.concat([u]);return new ba(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class Gx extends Rv{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new ll(o,u);return function(m,E){if(null===Eg(m)){const A=Qy(m);null!==A&&IA(0,A,E.field)}}(r,h),h}(e._query,this.lc,this._c);return new te(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new ba(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class _A extends Rv{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new te(e.firestore,e.converter,I0(e._query,this.wc,this.mc))}}class vA extends Rv{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=bA(e,this.type,this.gc,this.yc);return new te(e.firestore,e.converter,(o=t,new ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class wA extends Rv{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=bA(e,this.type,this.gc,this.yc);return new te(e.firestore,e.converter,(o=t,new ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function bA(n,e,t,r){if(t[0]=(0,on.m9)(t[0]),t[0]instanceof Pv)return function(o,u,h,m,E){if(!m)throw new Ne(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const A=[];for(const N of Gd(o))if(N.field.isKeyField())A.push(gc(u,m.key));else{const F=m.data.field(N.field);if(cg(F))throw new Ne(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===F){const X=N.field.canonicalString();throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${X}' (used as the orderBy) does not exist.`)}A.push(F)}return new gu(A,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=np(n.firestore);return function(u,h,m,E,A,N){const F=u.explicitOrderBy;if(A.length>F.length)throw new Ne(pe.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const X=[];for(let oe=0;oe<A.length;oe++){const Ce=A[oe];if(F[oe].field.isKeyField()){if("string"!=typeof Ce)throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof Ce}`);if(!Jy(u)&&-1!==Ce.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${Ce}' contains a slash.`);const We=u.path.child(_n.fromString(Ce));if(!Qe.isDocumentKey(We))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${We}' is not because it contains an odd number of segments.`);const ft=new Qe(We);X.push(gc(h,ft))}else{const We=hA(m,E,Ce);X.push(We)}}return new gu(X,N)}(n._query,n.firestore._databaseId,o,e,t,r)}}function EA(n,e,t){if("string"==typeof(t=(0,on.m9)(t))){if(""===t)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jy(e)&&-1!==t.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(_n.fromString(t));if(!Qe.isDocumentKey(r))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gc(n,new Qe(r))}if(t instanceof z)return gc(n,t._key);throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${y(t)}.`)}function CA(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function IA(n,e,t){if(!t.isEqual(e))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ED{convertValue(e,t="none"){switch(al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){const r={};return Ud(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new mE(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(jd(e));default:return null}}convertTimestamp(e){const t=du(e);return new mr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_n.fromString(e);Ht(K0(r));const o=new hu(r.get(1),r.get(3)),u=new Qe(r.popFirst(5));return o.isEqual(t)||Rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function EE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Jx extends ED{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new z(this.firestore,null,t)}}class DA{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=np(e)}set(e,t,r){this._verifyNotCommitted();const o=ph(e,this._firestore),u=EE(o.converter,t,r),h=_E(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Gr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=ph(e,this._firestore);let h;return h="string"==typeof(t=(0,on.m9)(t))||t instanceof Bc?vD(this._dataReader,"WriteBatch.update",u._key,t,r,o):_D(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,Gr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ph(e,this._firestore);return this._mutations=this._mutations.concat(new hl(t._key,Gr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ph(n,e){if((n=(0,on.m9)(n)).firestore!==e)throw new Ne(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class sp extends ED{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new z(this.firestore,null,t)}}function TA(n,e,t){n=v(n,z);const r=v(n.firestore,Xn),o=EE(n.converter,e,t);return _m(r,[_E(np(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Gr.none())])}function AA(n,e,t,...r){n=v(n,z);const o=v(n.firestore,Xn),u=np(o);let h;return h="string"==typeof(e=(0,on.m9)(e))||e instanceof Bc?vD(u,"updateDoc",n._key,e,t,r):_D(u,"updateDoc",n._key,e),_m(o,[h.toMutation(n._key,Gr.exists(!0))])}function SA(n,...e){var t,r,o;n=(0,on.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Pn(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges};if(Pn(e[h])){const F=e[h];e[h]=null===(t=F.next)||void 0===t?void 0:t.bind(F),e[h+1]=null===(r=F.error)||void 0===r?void 0:r.bind(F),e[h+2]=null===(o=F.complete)||void 0===o?void 0:o.bind(F)}let E,A,N;if(n instanceof z)A=v(n.firestore,Xn),N=_c(n._key.path),E={next:F=>{e[h]&&e[h](CD(A,n,F))},error:e[h+1],complete:e[h+2]};else{const F=v(n,te);A=v(F.firestore,Xn),N=F._query;const X=new sp(A);E={next:oe=>{e[h]&&e[h](new hh(A,X,F,oe))},error:e[h+1],complete:e[h+2]},yA(n._query)}return function(F,X,oe,Ce){const We=new ep(Ce),ft=new Yf(X,We,oe);return F.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return om(yield dh(F),ft)})),()=>{We.Ia(),F.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return tv(yield dh(F),ft)}))}}(Sr(A),N,m,E)}function _m(n,e){return function(t,r){const o=new si;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function ov(n,e,t){return cm.apply(this,arguments)}(yield Dv(t),r,o)})),o.promise}(Sr(n),e)}function CD(n,e,t){const r=t.docs.get(e._key),o=new sp(n);return new jc(n,o,e._key,r,new ip(t.hasPendingWrites,t.fromCache),e.converter)}class uM extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=np(e)}get(e){const t=ph(e,this._firestore),r=new Jx(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return pt();const u=o[0];if(u.isFoundDocument())return new Pv(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Pv(this._firestore,r,t._key,null,t.converter);throw pt()})}set(e,t,r){const o=ph(e,this._firestore),u=EE(o.converter,t,r),h=_E(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const u=ph(e,this._firestore);let h;return h="string"==typeof(t=(0,on.m9)(t))||t instanceof Bc?vD(this._dataReader,"Transaction.update",u._key,t,r,o):_D(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=ph(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ph(e,this._firestore),r=new sp(this._firestore);return super.get(e).then(o=>new jc(this._firestore,r,t._key,o._document,new ip(!1,!1),t.converter))}}function ID(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function MA(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function PA(){if(!function m0(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){dc=Xa.SDK_VERSION,(0,Xa._registerComponent)(new $t.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new Xn(o,new h0(t.getProvider("auth-internal")),new Fy(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Xa.registerVersion)(JC,"3.4.8",n),(0,Xa.registerVersion)(JC,"3.4.8","esm2017")}();class kv{constructor(e){this._delegate=e}static fromBase64String(e){return PA(),new kv(Il.fromBase64String(e))}static fromUint8Array(e){return MA(),new kv(Il.fromUint8Array(e))}toBase64(){return PA(),this._delegate.toBase64()}toUint8Array(){return MA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function DD(n){return function yM(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class _M{enableIndexedDbPersistence(e,t){return function Av(n,e){uA(n=v(n,Xn));const t=Sr(n),r=n._freezeSettings(),o=new vv;return ym(t,o,new _v(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Sv(n){uA(n=v(n,Xn));const e=Sr(n),t=n._freezeSettings(),r=new vv;return ym(e,r,new oE(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function xv(n){if(n._initialized&&!n._terminated)throw new Ne(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new si;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(t=(0,De.Z)(function*(r){if(!Wo.vt())return Promise.resolve();const o=r+"main";yield Wo.delete(o)}),function(r){return t.apply(this,arguments)})(O_(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class OA{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof hu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&gf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function U(n,e,t,r={}){var o;const u=(n=v(n,P))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&gf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=wi.MOCK_USER;else{h=(0,on.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ne(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new wi(E)}n._authCredentials=new XC(new c0(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function xx(n){return function nA(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield hE(n),t=yield fE(n);return e.setNetworkEnabled(!0),function(r){const o=tt(r);return o.fu.delete(0),qf(o)}(t)}))}(Sr(n=v(n,Xn)))}(this._delegate)}disableNetwork(){return function Mx(n){return function rA(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield hE(n),t=yield fE(n);return e.setNetworkEnabled(!1),(r=(0,De.Z)(function*(o){const u=tt(o);u.fu.add(0),yield kc(u),u.wu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Sr(n=v(n,Xn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,l("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Sx(n){return function(e){const t=new si;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function aD(n,e){return cv.apply(this,arguments)}(yield Dv(e),t)})),t.promise}(Sr(n=v(n,Xn)))}(this._delegate)}onSnapshotsInSync(e){return function aM(n,e){return function sA(n,e){const t=new ep(e);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield dh(n),o=t,tt(r).Eu.add(o),void o.next();var r,o})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield dh(n),o=t,void tt(r).Eu.delete(o);var r,o}))}}(Sr(n=v(n,Xn)),Pn(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vm(this,qe(this._delegate,e))}catch(t){throw Ns(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ta(this,at(this._delegate,e))}catch(t){throw Ns(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Fs(this,function Je(n,e){if(n=v(n,P),a("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new te(n,null,(t=e,new ba(_n.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ns(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function lM(n,e){return function oA(n,e){const t=new si;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const r=yield(o=n,gm(o).then(u=>u.datastore));var o;new uE(n.asyncQueue,r,e,t).run()})),t.promise}(Sr(n=v(n,Xn)),t=>e(new uM(n,t)))}(this._delegate,t=>e(new RA(this,t)))}batch(){return Sr(this._delegate),new kA(new DA(this._delegate,e=>_m(this._delegate,e)))}loadBundle(e){return function Px(n,e){const t=Sr(n=v(n,Xn)),r=new ks;return function aA(n,e,t,r){const o=function(u,h){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,E=function(E,A){if(E instanceof Uint8Array)return aE(E,A);if(E instanceof ArrayBuffer)return aE(new Uint8Array(E),A);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new fm(E,h);var E}(t,ih(e));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function fD(n,e,t){const r=tt(n);var o;(o=(0,De.Z)(function*(u,h,m){try{const E=yield h.getMetadata();if(yield function(X,oe){const Ce=tt(X),We=bi(oe.createTime);return Ce.persistence.runTransaction("hasNewerBundle","readonly",ft=>Ce._s.getBundleMetadata(ft,oe.id)).then(ft=>!!ft&&ft.createTime.compareTo(We)>=0)}(u.localStore,E))return yield h.close(),m._completeWith({taskState:"Success",documentsLoaded:(X=E).totalDocuments,bytesLoaded:X.totalBytes,totalDocuments:X.totalDocuments,totalBytes:X.totalBytes}),Promise.resolve(new Set);m._updateProgress(jb(E));const A=new YT(E,u.localStore,h.M);let N=yield h.da();for(;N;){const X=yield A.ku(N);X&&m._updateProgress(X),N=yield h.da()}const F=yield A.complete();return yield Cu(u,F.Fu,void 0),yield function(X,oe){const Ce=tt(X);return Ce.persistence.runTransaction("Save bundle","readwrite",We=>Ce._s.saveBundleMetadata(We,oe))}(u.localStore,E),m._completeWith(F.progress),Promise.resolve(F.Ou)}catch(E){return gf("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var X}),function(u,h,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield Dv(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Ox(n,e){return function i(n,e){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(t,r){const o=tt(t);return o.persistence.runTransaction("Get named query","readonly",u=>o._s.getNamedQuery(u,r))}(yield Iv(n),e)}))}(Sr(n=v(n,Xn)),e).then(t=>t?new te(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Fs(this,t):null)}}class CE extends ED{constructor(e){super(),this.firestore=e}convertBytes(e){return new kv(new Il(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ta.forKey(t,this.firestore,null)}}class RA{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new CE(e)}get(e){const t=ap(e);return this._delegate.get(t).then(r=>new Nv(this._firestore,new jc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=ap(e);return r?(ID("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=ap(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=ap(e);return this._delegate.delete(t),this}}class kA{constructor(e){this._delegate=e}set(e,t,r){const o=ap(e);return r?(ID("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=ap(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=ap(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class op{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ov(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Fv(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=op.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new op(e,new CE(e),t),o.set(t,u)),u}}op.INSTANCES=new WeakMap;class Ta{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new CE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ta(t,new z(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new Ta(t,new z(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new vm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vm(this.firestore,qe(this._delegate,e))}catch(t){throw Ns(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,on.m9)(e))instanceof z&&Pe(this._delegate,e)}set(e,t){t=ID("DocumentReference.set",t);try{return t?TA(this._delegate,e,t):TA(this._delegate,e)}catch(r){throw Ns(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?AA(this._delegate,e):AA(this._delegate,e,t,...r)}catch(o){throw Ns(o,"updateDoc()","DocumentReference.update()")}}delete(){return function sM(n){return _m(v(n.firestore,Xn),[new hl(n._key,Gr.none())])}(this._delegate)}onSnapshot(...e){const t=NA(e),r=FA(e,o=>new Nv(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return SA(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function eM(n){n=v(n,z);const e=v(n.firestore,Xn),t=Sr(e),r=new sp(e);return function iA(n,e){const t=new si;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(o,u,h){try{const m=yield function(E,A){const N=tt(E);return N.persistence.runTransaction("read document","readonly",F=>N.ci.Ls(F,A))}(o,u);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Ne(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=ui(m,`Failed to get document '${u} from cache`);h.reject(E)}}),function(o,u,h){return r.apply(this,arguments)})(yield Iv(n),e,t);var r})),t.promise}(t,n._key).then(o=>new jc(e,r,n._key,o,new ip(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function tM(n){n=v(n,z);const e=v(n.firestore,Xn);return pD(Sr(e),n._key,{source:"server"}).then(t=>CD(e,n,t))}(this._delegate):function Xx(n){n=v(n,z);const e=v(n.firestore,Xn);return pD(Sr(e),n._key).then(t=>CD(e,n,t))}(this._delegate),t.then(r=>new Nv(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ta(this.firestore,this._delegate.withConverter(e?op.getInstance(this.firestore,e):null))}}function Ns(n,e,t){return n.message=n.message.replace(e,t),n}function NA(n){for(const e of n)if("object"==typeof e&&!DD(e))return e;return{}}function FA(n,e){var t,r;let o;return o=DD(n[0])?n[0]:DD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Nv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ta(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return mA(this._delegate,e._delegate)}}class Fv extends Nv{data(e){const t=this._delegate.data(e);return function l0(n,e){n||pt()}(void 0!==t),t}}class Fs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new CE(e)}where(e,t,r){try{return new Fs(this.firestore,fh(this._delegate,function Hx(n,e,t){const r=e,o=bE("where",n);return new $x(o,r,t)}(e,t,r)))}catch(o){throw Ns(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Fs(this.firestore,fh(this._delegate,function qx(n,e="asc"){const t=e,r=bE("orderBy",n);return new Gx(r,t)}(e,t)))}catch(r){throw Ns(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Fs(this.firestore,fh(this._delegate,function zx(n){return I("limit",n),new _A("limit",n,"F")}(e)))}catch(t){throw Ns(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Fs(this.firestore,fh(this._delegate,function Wx(n){return I("limitToLast",n),new _A("limitToLast",n,"L")}(e)))}catch(t){throw Ns(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Fs(this.firestore,fh(this._delegate,function Zx(...n){return new vA("startAt",n,!0)}(...e)))}catch(t){throw Ns(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Fs(this.firestore,fh(this._delegate,function Kx(...n){return new vA("startAfter",n,!1)}(...e)))}catch(t){throw Ns(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Fs(this.firestore,fh(this._delegate,function Yx(...n){return new wA("endBefore",n,!1)}(...e)))}catch(t){throw Ns(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Fs(this.firestore,fh(this._delegate,function Qx(...n){return new wA("endAt",n,!0)}(...e)))}catch(t){throw Ns(t,"endAt()","Query.endAt()")}}isEqual(e){return Mt(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function rM(n){n=v(n,te);const e=v(n.firestore,Xn),t=Sr(e),r=new sp(e);return function gD(n,e){const t=new si;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(o,u,h){try{const m=yield $f(o,u,!0),E=new Hb(u,m.li),A=E.Gu(m.documents),N=E.applyChanges(A,!1);h.resolve(N.snapshot)}catch(m){const E=ui(m,`Failed to execute query '${u} against cache`);h.reject(E)}}),function(o,u,h){return r.apply(this,arguments)})(yield Iv(n),e,t);var r})),t.promise}(t,n._query).then(o=>new hh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function iM(n){n=v(n,te);const e=v(n.firestore,Xn),t=Sr(e),r=new sp(e);return mD(t,n._query,{source:"server"}).then(o=>new hh(e,r,n,o))}(this._delegate):function nM(n){n=v(n,te);const e=v(n.firestore,Xn),t=Sr(e),r=new sp(e);return yA(n._query),mD(t,n._query).then(o=>new hh(e,r,n,o))}(this._delegate),t.then(r=>new TD(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=NA(e),r=FA(e,o=>new TD(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return SA(this._delegate,t,r)}withConverter(e){return new Fs(this.firestore,this._delegate.withConverter(e?op.getInstance(this.firestore,e):null))}}class wM{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Fv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Fv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wM(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Fv(this._firestore,r))})}isEqual(e){return mA(this._delegate,e._delegate)}}class vm extends Fs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ta(this.firestore,e):null}doc(e){try{return new Ta(this.firestore,void 0===e?at(this._delegate):at(this._delegate,e))}catch(t){throw Ns(t,"doc()","CollectionReference.doc()")}}add(e){return function oM(n,e){const t=v(n.firestore,Xn),r=at(n),o=EE(n.converter,e);return _m(t,[_E(np(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Gr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ta(this.firestore,t))}isEqual(e){return Pe(this._delegate,e._delegate)}withConverter(e){return new vm(this.firestore,this._delegate.withConverter(e?op.getInstance(this.firestore,e):null))}}function ap(n){return v(n,z)}class AD{constructor(...e){this._delegate=new Bc(...e)}static documentId(){return new AD(oi.keyField().canonicalString())}isEqual(e){return(e=(0,on.m9)(e))instanceof Bc&&this._delegate._internalPath.isEqual(e._internalPath)}}class up{constructor(e){this._delegate=e}static serverTimestamp(){const e=function dM(){return new yD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new up(e)}static delete(){const e=function cM(){return new Mv("deleteField")}();return e._methodName="FieldValue.delete",new up(e)}static arrayUnion(...e){const t=function hM(...n){return new Fx("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new up(t)}static arrayRemove(...e){const t=function fM(...n){return new Lx("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new up(t)}static increment(e){const t=function pM(n){return new Vx("increment",n)}(e);return t._methodName="FieldValue.increment",new up(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const bM={Firestore:OA,GeoPoint:mE,Timestamp:mr,Blob:kv,Transaction:RA,WriteBatch:kA,DocumentReference:Ta,DocumentSnapshot:Nv,Query:Fs,QueryDocumentSnapshot:Fv,QuerySnapshot:TD,CollectionReference:vm,FieldPath:AD,FieldValue:up,setLogLevel:function vM(n){!function Vd(n){hc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function CM(n){(function EM(n,e){n.INTERNAL.registerComponent(new $t.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},bM)))})(n,(e,t)=>new OA(e,t,new _M)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(vC.Z);var IM=V(6451),IE=V(5363),DM=V(6063);class TM extends C.x{constructor(e=1/0,t=1/0,r=DM.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:h}=this;t||(r.push(e),!o&&r.push(u.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let h=0;h<u.length&&!e.closed;h+=r?1:2)e.next(u[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const h=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=h;E+=2)m=E;m&&r.splice(0,m+1)}}}var AM=V(3099);function LA(n,e,t){var r,o;let u,h=!1;return n&&"object"==typeof n?(u=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=n.windowTime)&&void 0!==o?o:1/0,h=!!n.refCount,t=n.scheduler):u=null!=n?n:1/0,(0,AM.B)({connector:()=>new TM(u,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function VA(n,e){return(0,da.m)(e)?gr(()=>n,e):gr(()=>n)}var SD=V(9468),lp=V(5867);class wm{constructor(e){return e}}class UA{constructor(){return(0,lp.C6)()}}const xD=new d.OlP("angularfire2._apps"),xM={provide:wm,useFactory:function SM(n){return n&&1===n.length?n[0]:new wm((0,lp.Mq)())},deps:[[new d.FiY,xD]]},MM={provide:UA,deps:[[new d.FiY,xD]]};function PM(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wm(r)}}let OM=(()=>{class n{constructor(t){(0,lp.KN)("angularfire",Zn.q4.full,"core"),(0,lp.KN)("angularfire",Zn.q4.full,"app"),(0,lp.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[xM,MM]}),n})();function RM(n,...e){return{ngModule:OM,providers:[{provide:xD,useFactory:PM(n),multi:!0,deps:[d.R0b,d.zs3,Zn.HU,...e]}]}}const kM=(0,Zn.u3)(lp.ZF,!0),BA=new Map,NM={activated:!1,tokenObservers:[]},FM={initialized:!1,enabled:!1};function Fi(n){return BA.get(n)||NM}function Du(n,e){BA.set(n,e)}function DE(){return FM}class jM{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,De.Z)(function*(){t.stop();try{t.pending=new on.BH,yield function $M(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new on.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ls=new on.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $A(n){if(!Fi(n).activated)throw Ls.create("use-before-activation",{appName:n.name})}function OD(n,e){return RD.apply(this,arguments)}function RD(){return RD=(0,De.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const F=yield o.getHeartbeatsHeader();F&&(r["X-Firebase-Client"]=F)}const u={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,u)}catch(F){throw Ls.create("fetch-network-error",{originalErrorMessage:F.message})}if(200!==h.status)throw Ls.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(F){throw Ls.create("fetch-parse-error",{originalErrorMessage:F.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Ls.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const A=1e3*Number(E[1]),N=Date.now();return{token:m.attestationToken,expireTimeMillis:N+A,issuedAtTimeMillis:N}}),RD.apply(this,arguments)}function WM(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Lv="firebase-app-check-store";let SE=null;function GA(){return SE||(SE=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Ls.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Lv,{keyPath:"compositeKey"})}}catch(t){e(Ls.create("storage-open",{originalErrorMessage:t.message}))}}),SE)}function kD(){return kD=(0,De.Z)(function*(n,e){const r=(yield GA()).transaction(Lv,"readwrite"),u=r.objectStore(Lv).put({compositeKey:n,value:e});return new Promise((h,m)=>{u.onsuccess=E=>{h()},r.onerror=E=>{var A;m(Ls.create("storage-set",{originalErrorMessage:null===(A=E.target.error)||void 0===A?void 0:A.message}))}})}),kD.apply(this,arguments)}const Vv=new eu.Yd("@firebase/app-check");function ZA(n,e){return(0,on.hl)()?function QM(n,e){return function qA(n,e){return kD.apply(this,arguments)}(function WA(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Vv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function KA(){return DE().enabled}function YA(){return VD.apply(this,arguments)}function VD(){return VD=(0,De.Z)(function*(){const n=DE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),VD.apply(this,arguments)}const r1={error:"UNKNOWN_ERROR"};function i1(n){return on.US.encodeString(JSON.stringify(n),!1)}function xE(n){return UD.apply(this,arguments)}function UD(){return UD=(0,De.Z)(function*(n,e=!1){const t=n.app;$A(t);const r=Fi(t);let u,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&ME(E)&&(o=E)}if(!e&&o&&ME(o))return{token:o.token};let m,h=!1;if(KA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=OD(WM(t,yield YA()),n.heartbeatServiceProvider).then(A=>(r.exchangeTokenPromise=void 0,A)),h=!0);const E=yield r.exchangeTokenPromise;return yield ZA(t,E),Du(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),h=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Vv.warn(E.message):Vv.error(E),u=E}return o?(m={token:o.token},Du(t,Object.assign(Object.assign({},r),{token:o})),yield ZA(t,o)):m=o1(u),h&&JA(t,m),m}),UD.apply(this,arguments)}function jD(n,e){const t=Fi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Du(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function QA(n){const{app:e}=n,t=Fi(e);let r=t.tokenRefresher;r||(r=function s1(n){const{app:e}=n;return new jM((0,De.Z)(function*(){let r;if(r=Fi(e).token?yield xE(n,!0):yield xE(n),r.error)throw r.error}),()=>!0,()=>{const t=Fi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Du(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function JA(n,e){const t=Fi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function ME(n){return n.expireTimeMillis-Date.now()>0}function o1(n){return{token:i1(r1),error:n}}class a1{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Fi(this.app);for(const t of e)jD(this.app,t.next);return Promise.resolve()}}const oS="app-check-internal";!function b1(){(0,Xa._registerComponent)(new $t.wA("app-check",n=>function u1(n,e){return new a1(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(oS).initialize()})),(0,Xa._registerComponent)(new $t.wA(oS,n=>function l1(n){return{getToken:e=>xE(n,e),addTokenListener:e=>function BD(n,e,t,r){const{app:o}=n,u=Fi(o),h={next:t,error:r,type:e};if(Du(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&ME(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),QA(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>QA(n))}(n,"INTERNAL",e),removeTokenListener:e=>jD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xa.registerVersion)("@firebase/app-check","0.5.6")}();class OE{constructor(){return(0,Zn.vb)("app-check")}}"undefined"!=typeof window&&window,V(127);const uS=new d.OlP("angularfire2.auth.use-emulator"),lS=new d.OlP("angularfire2.auth.settings"),cS=new d.OlP("angularfire2.auth.tenant-id"),dS=new d.OlP("angularfire2.auth.langugage-code"),hS=new d.OlP("angularfire2.auth.use-device-language"),fS=new d.OlP("angularfire.auth.persistence"),pS=(n,e,t,r,o,u,h,m)=>(0,ao.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),h)for(const[A,N]of Object.entries(h))E.settings[A]=N;return m&&E.setPersistence(m),E},[t,r,o,u,h,m]);let gS=(()=>{class n{constructor(t,r,o,u,h,m,E,A,N,F,X,oe){const Ce=new C.x,We=b(void 0).pipe((0,IE.Q)(h.outsideAngular),gr(()=>u.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,5881)))),(0,Jt.U)(()=>(0,ao.on)(t,u,r)),(0,Jt.U)(ft=>pS(ft,u,m,A,N,F,E,X)),LA({bufferSize:1,refCount:!1}));if(Jo(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=b(null);else{We.pipe(eo()).subscribe();const Xt=We.pipe(gr(jt=>jt.getRedirectResult().then(ln=>ln,()=>null)),Zn.iC,LA({bufferSize:1,refCount:!1})),vn=We.pipe(gr(jt=>new $.y(ln=>({unsubscribe:u.runOutsideAngular(()=>jt.onAuthStateChanged($n=>ln.next($n),$n=>ln.error($n),()=>ln.complete()))})))),Qt=We.pipe(gr(jt=>new $.y(ln=>({unsubscribe:u.runOutsideAngular(()=>jt.onIdTokenChanged($n=>ln.next($n),$n=>ln.error($n),()=>ln.complete()))}))));this.authState=Xt.pipe(VA(vn),(0,SD.R)(h.outsideAngular),(0,IE.Q)(h.insideAngular)),this.user=Xt.pipe(VA(Qt),(0,SD.R)(h.outsideAngular),(0,IE.Q)(h.insideAngular)),this.idToken=this.user.pipe(gr(jt=>jt?(0,Un.D)(jt.getIdToken()):b(null))),this.idTokenResult=this.user.pipe(gr(jt=>jt?(0,Un.D)(jt.getIdTokenResult()):b(null))),this.credential=(0,IM.T)(Xt,Ce,this.authState.pipe(zi(jt=>!jt))).pipe((0,Jt.U)(jt=>(null==jt?void 0:jt.user)?jt:null),(0,SD.R)(h.outsideAngular),(0,IE.Q)(h.insideAngular))}return(0,ao.pX)(this,We,u,{spy:{apply:(ft,Xt,vn)=>{(ft.startsWith("signIn")||ft.startsWith("createUser"))&&vn.then(Qt=>Ce.next(Qt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ao.Dh),d.LFG(ao.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Zn.HU),d.LFG(uS,8),d.LFG(lS,8),d.LFG(cS,8),d.LFG(dS,8),d.LFG(hS,8),d.LFG(fS,8),d.LFG(OE,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function mS(n,e){return function A1(n,e=yw.z){return new $.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function zD(n,e){return mS(n,e).pipe((0,Jt.U)(t=>({payload:t,type:"query"})))}function RE(n,e){return zD(n,e).pipe(qi(void 0),Ym(),(0,Jt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const E=o.find(N=>N.doc.ref.isEqual(h.ref)),A=null==t?void 0:t.payload.docs.find(N=>N.ref.isEqual(h.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(h.metadata)||!E&&A&&JSON.stringify(A.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),u}))}function yS(n,e,t){return RE(n,t).pipe(As((r,o)=>function x1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function M1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return WD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return WD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return WD(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function yC(n,e=Pi.y){return n=null!=n?n:_C,(0,tn.e)((t,r)=>{let o,u=!0;t.subscribe(new Or.Q(r,h=>{const m=e(h);(u||!n(o,m))&&(u=!1,o=m,r.next(h))}))})}(),(0,Jt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function WD(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function _S(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class vS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=RE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Jt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(qi(void 0),Ym(),zi(([r,o])=>o.length>0||!r),(0,Jt.U)(([r,o])=>o),Zn.iC)}auditTrail(e){return this.stateChanges(e).pipe(As((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=_S(e);return yS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}valueChanges(e={}){return zD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Jt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Zn.iC)}get(e){return(0,Un.D)(this.query.get(e)).pipe(Zn.iC)}add(e){return this.ref.add(e)}doc(e){return new wS(this.ref.doc(e),this.afs)}}class wS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=bS(r,t);return new vS(o,u,this.afs)}snapshotChanges(){return function S1(n,e){return mS(n,e).pipe(qi(void 0),Ym(),(0,Jt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Jt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Un.D)(this.ref.get(e)).pipe(Zn.iC)}}class P1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?RE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Jt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),zi(t=>t.length>0),Zn.iC):RE(this.query,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}auditTrail(e){return this.stateChanges(e).pipe(As((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=_S(e);return yS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}valueChanges(e={}){return zD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Jt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Zn.iC)}get(e){return(0,Un.D)(this.query.get(e)).pipe(Zn.iC)}}const O1=new d.OlP("angularfire2.enableFirestorePersistence"),R1=new d.OlP("angularfire2.firestore.persistenceSettings"),k1=new d.OlP("angularfire2.firestore.settings"),N1=new d.OlP("angularfire2.firestore.use-emulator");function bS(n,e=(t=>t)){return{query:e(n),ref:n}}let F1=(()=>{class n{constructor(t,r,o,u,h,m,E,A,N,F,X,oe,Ce,We,ft,Xt,vn){this.schedulers=E;const Qt=(0,ao.on)(t,m,r),jt=N;F&&pS(Qt,m,X,Ce,We,ft,oe,Xt),[this.firestore,this.persistenceEnabled$]=(0,ao.cc)(`${Qt.name}.firestore`,"AngularFirestore",Qt.name,()=>{const ln=m.runOutsideAngular(()=>Qt.firestore());if(u&&ln.settings(u),jt&&ln.useEmulator(...jt),o&&!Jo(h)){const $n=()=>{try{return(0,Un.D)(ln.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(ds){return"undefined"!=typeof console&&console.warn(ds),b(!1)}};return[ln,m.runOutsideAngular($n)]}return[ln,b(!1)]},[u,jt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=bS(o,r),m=this.schedulers.ngZone.run(()=>u);return new vS(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),u=this.firestore.collectionGroup(t);return new P1(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new wS(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ao.Dh),d.LFG(ao.xv,8),d.LFG(O1,8),d.LFG(k1,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Zn.HU),d.LFG(R1,8),d.LFG(N1,8),d.LFG(gS,8),d.LFG(uS,8),d.LFG(lS,8),d.LFG(cS,8),d.LFG(dS,8),d.LFG(hS,8),d.LFG(fS,8),d.LFG(OE,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),L1=(()=>{class n{constructor(t){this.afs=t,this.ColletionMensaje=t.collection("Mensajes")}guardarMensaje(t,r,o){var u=this;return(0,De.Z)(function*(){yield u.ColletionMensaje.doc().set({Nombre:t,Correo:r,Mensaje:o}).then(()=>{mw().fire({position:"center",icon:"success",title:"Mensaje enviado",showConfirmButton:!1,timer:1500})}).catch(()=>{mw().fire({position:"center",icon:"error",title:"Ocurrio un error al mandar mensaje, vuelve a intentarlo mas tarde",showConfirmButton:!1,timer:1500})})})()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(F1))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ES=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),cp=(()=>{class n extends ES{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Dl=new d.OlP("NgValueAccessor"),B1={provide:Dl,useExisting:(0,d.Gpc)(()=>kE),multi:!0},$1=new d.OlP("CompositionEventMode");let kE=(()=>{class n extends ES{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function j1(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36($1,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[d._Bn([B1]),d.qOj]}),n})();function gh(n){return null==n||0===n.length}const cs=new d.OlP("NgValidators"),mh=new d.OlP("NgAsyncValidators");function Uv(n){return null}function RS(n){return null!=n}function kS(n){const e=(0,d.QGY)(n)?(0,Un.D)(n):n;return(0,d.CqO)(e),e}function NS(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function FS(n,e){return e.map(t=>t(n))}function LS(n){return n.map(e=>function G1(n){return!n.validate}(e)?e:t=>e.validate(t))}function ZD(n){return null!=n?function VS(n){if(!n)return null;const e=n.filter(RS);return 0==e.length?null:function(t){return NS(FS(t,e))}}(LS(n)):null}function KD(n){return null!=n?function US(n){if(!n)return null;const e=n.filter(RS);return 0==e.length?null:function(t){return function V1(...n){const e=(0,Bn.jO)(n),{args:t,keys:r}=jn(n),o=new $.y(u=>{const{length:h}=t;if(!h)return void u.complete();const m=new Array(h);let E=h,A=h;for(let N=0;N<h;N++){let F=!1;(0,rs.Xf)(t[N]).subscribe(new Or.Q(u,X=>{F||(F=!0,A--),m[N]=X},()=>E--,void 0,()=>{(!E||!F)&&(A||u.next(r?Xs(r,m):m),u.complete())}))}});return e?o.pipe(ua(e)):o}(FS(t,e).map(kS)).pipe((0,Jt.U)(NS))}}(LS(n)):null}function BS(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YD(n){return n?Array.isArray(n)?n:[n]:[]}function NE(n,e){return Array.isArray(n)?n.includes(e):n===e}function HS(n,e){const t=YD(e);return YD(n).forEach(o=>{NE(t,o)||t.push(o)}),t}function GS(n,e){return YD(e).filter(t=>!NE(n,t))}class qS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ZD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yh extends qS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vs extends qS{get formDirective(){return null}get path(){return null}}let WS=(()=>{class n extends class zS{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(yh,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})();function Bv(n,e){(function XD(n,e){const t=function jS(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(BS(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function $S(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(BS(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();UE(e._rawValidators,o),UE(e._rawAsyncValidators,o)})(n,e),e.valueAccessor.writeValue(n.value),function X1(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&KS(n,e)})}(n,e),function tP(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function eP(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&KS(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function J1(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function UE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function KS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const jv="VALID",$E="INVALID",bm="PENDING",$v="DISABLED";function rT(n){return(sT(n)?n.validators:n)||null}function JS(n){return Array.isArray(n)?ZD(n):n||null}function iT(n,e){return(sT(e)?e.asyncValidators:n)||null}function XS(n){return Array.isArray(n)?KD(n):n||null}function sT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const oT=n=>n instanceof uT;function tx(n){return(n=>n instanceof ix)(n)?n.value:n.getRawValue()}function nx(n,e){const t=oT(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[e])throw new d.vHH(1001,"")}function rx(n,e){oT(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new d.vHH(1002,"")})}class aT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=JS(this._rawValidators),this._composedAsyncValidatorFn=XS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===jv}get invalid(){return this.status===$E}get pending(){return this.status==bm}get disabled(){return this.status===$v}get enabled(){return this.status!==$v}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=JS(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=XS(e)}addValidators(e){this.setValidators(HS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GS(e,this._rawAsyncValidators))}hasValidator(e){return NE(this._rawValidators,e)}hasAsyncValidator(e){return NE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bm,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$v,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jv,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jv||this.status===bm)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$v:jv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bm,this._hasOwnPendingAsyncValidator=!0;const t=kS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function sP(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=oT(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof aP)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?$v:this.errors?$E:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bm)?bm:this._anyControlsHaveStatus($E)?$E:jv}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ix extends aT{constructor(e=null,t,r){super(rT(t),iT(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class uT extends aT{constructor(e,t,r){super(rT(t),iT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){rx(this,e),Object.keys(e).forEach(r=>{nx(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=tx(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class aP extends aT{constructor(e,t,r){super(rT(t),iT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){rx(this,e),e.forEach((r,o)=>{nx(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>tx(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const cP={provide:yh,useExisting:(0,d.Gpc)(()=>cT)},ax=(()=>Promise.resolve(null))();let cT=(()=>{class n extends yh{constructor(t,r,o,u){super(),this.control=new ix,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function tT(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===kE?t=u:function iP(n){return Object.getPrototypeOf(n.constructor)===cp}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function eT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function LE(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ax.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;ax.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Vs,9),d.Y36(cs,10),d.Y36(mh,10),d.Y36(Dl,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([cP]),d.qOj,d.TTD]}),n})(),lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();let Gv=(()=>{class n{constructor(){this._validator=Uv}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Uv,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const xP={provide:cs,useExisting:(0,d.Gpc)(()=>HE),multi:!0};let HE=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function AS(n){return gh(n.value)?{required:!0}:null}(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[d._Bn([xP])]}),n})();const OP={provide:cs,useExisting:(0,d.Gpc)(()=>mT),multi:!0};let mT=(()=>{class n extends Gv{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function _x(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function MS(n){return e=>gh(e.value)||!function IS(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[d._Bn([OP]),d.qOj]}),n})();const kP={provide:cs,useExisting:(0,d.Gpc)(()=>yT),multi:!0};let yT=(()=>{class n{constructor(){this._validator=Uv}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=function OS(n){if(!n)return Uv;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(gh(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(this.pattern)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("pattern",r.pattern?r.pattern:null)},inputs:{pattern:"pattern"},features:[d._Bn([kP]),d.TTD]}),n})(),NP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[lx]]}),n})(),FP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[NP]}),n})();const _T=function(n,e){return{"is-invalid":n,"is-valid":e}};let LP=(()=>{class n{constructor(t){this.firebase=t,this.nombre="",this.correo="",this.mensaje=""}ngOnInit(){}EnviaMensaje(){var t=this;return(0,De.Z)(function*(){yield t.firebase.guardarMensaje(t.nombre,t.correo,t.mensaje).then(()=>{location.reload()})})()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(L1))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-contacto"]],decls:69,vars:19,consts:[[1,"contenedor"],[1,"texto"],[1,"l1"],[1,"text-color2","l2"],[1,"contacto"],[1,"targetas"],[1,"targeta"],[1,"fa-solid","fa-envelope-circle-check"],[1,"la1"],[1,"la2"],["href","mailto:darkargarcia85@gmail.com",1,"la3","text-color2"],[1,"fa-brands","fa-facebook-messenger"],["href","https://m.me/darkarhackergarciaoficial/",1,"la3","text-color2"],[1,"fa-brands","fa-whatsapp"],["href","https://api.whatsapp.com/send?phone=5548391648",1,"la3","text-color2"],["action","",1,"formulario"],[1,"form-floating","mb-3"],["type","text","id","floatingInput","placeholder","Nombre","name","nombre1","required","","minlength","5",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre1","ngModel"],["for","floatingInput "],[1,"invalid-feedback",3,"hidden"],["type","email","id","floatingInput","placeholder","Correo Electronico","name","correo1","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["correo1","ngModel"],[1,"form-floating"],["placeholder","Mensaje","id","floatingTextarea2","name","mensaje1","required","","minlength","15",1,"form-control",2,"height","100px",3,"ngModel","ngClass","ngModelChange"],["mensaje1","ngModel"],["for","floatingTextarea2"],[1,"button1",3,"disabled","click"]],template:function(t,r){if(1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"label",2),d._uU(3,"Ponerse en contacto"),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"label",3),d._uU(6,"Contactame"),d.qZA(),d.qZA(),d.TgZ(7,"div",4),d.TgZ(8,"div",5),d.TgZ(9,"div",6),d._UZ(10,"i",7),d._UZ(11,"br"),d.TgZ(12,"label",8),d._uU(13,"Email"),d.qZA(),d._UZ(14,"br"),d.TgZ(15,"label",9),d._uU(16,"darkargarcia85@gmail.com"),d.qZA(),d._UZ(17,"br"),d.TgZ(18,"a",10),d._uU(19,"Enviar un mensaje"),d.qZA(),d._UZ(20,"br"),d.qZA(),d.TgZ(21,"div",6),d._UZ(22,"i",11),d._UZ(23,"br"),d.TgZ(24,"label",8),d._uU(25,"Messenger"),d.qZA(),d._UZ(26,"br"),d.TgZ(27,"label",9),d._uU(28,"darkarhackergarciaoficial"),d.qZA(),d._UZ(29,"br"),d.TgZ(30,"a",12),d._uU(31,"Enviar un mensaje"),d.qZA(),d._UZ(32,"br"),d.qZA(),d.TgZ(33,"div",6),d._UZ(34,"i",13),d._UZ(35,"br"),d.TgZ(36,"label",8),d._uU(37,"Whatsapp"),d.qZA(),d._UZ(38,"br"),d.TgZ(39,"label",9),d._uU(40,"5548391648"),d.qZA(),d._UZ(41,"br"),d.TgZ(42,"a",14),d._uU(43,"Enviar un mensaje"),d.qZA(),d._UZ(44,"br"),d.qZA(),d.qZA(),d.TgZ(45,"div",15),d.TgZ(46,"div",16),d.TgZ(47,"input",17,18),d.NdJ("ngModelChange",function(u){return r.nombre=u}),d.qZA(),d.TgZ(49,"label",19),d._uU(50,"Nombre"),d.qZA(),d.TgZ(51,"div",20),d._uU(52," el nombre debe ser mayor a 4 caracteres "),d.qZA(),d.qZA(),d.TgZ(53,"div",16),d.TgZ(54,"input",21,22),d.NdJ("ngModelChange",function(u){return r.correo=u}),d.qZA(),d.TgZ(56,"label",19),d._uU(57,"Email"),d.qZA(),d.TgZ(58,"div",20),d._uU(59," Correo invalido "),d.qZA(),d.qZA(),d.TgZ(60,"div",23),d.TgZ(61,"textarea",24,25),d.NdJ("ngModelChange",function(u){return r.mensaje=u}),d.qZA(),d.TgZ(63,"label",26),d._uU(64,"Mensaje"),d.qZA(),d.TgZ(65,"div",20),d._uU(66," el Mensaje debe ser mayor a 14 caracteres "),d.qZA(),d.qZA(),d.TgZ(67,"button",27),d.NdJ("click",function(){return r.EnviaMensaje()}),d._uU(68,"Enviar"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const o=d.MAs(48),u=d.MAs(55),h=d.MAs(62);d.xp6(47),d.Q6J("ngModel",r.nombre)("ngClass",d.WLB(10,_T,o.errors&&o.touched,!o.errors&&o.touched)),d.xp6(4),d.Q6J("hidden",!o.errors),d.xp6(3),d.Q6J("ngModel",r.correo)("ngClass",d.WLB(13,_T,u.errors&&u.touched,!u.errors&&u.touched)),d.xp6(4),d.Q6J("hidden",!u.errors),d.xp6(3),d.Q6J("ngModel",r.mensaje)("ngClass",d.WLB(16,_T,h.errors&&h.touched,!h.errors&&h.touched)),d.xp6(4),d.Q6J("hidden",!h.errors),d.xp6(2),d.Q6J("disabled",o.errors||u.errors||h.errors)}},directives:[kE,HE,mT,WS,cT,Ii,yT],styles:[".contenedor[_ngcontent-%COMP%]{width:100%}.texto[_ngcontent-%COMP%]{width:100%;text-align:center}.l1[_ngcontent-%COMP%]{font-size:12px}.l2[_ngcontent-%COMP%]{font-size:24px}.contacto[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;gap:20px}.targetas[_ngcontent-%COMP%]{width:30%;display:block}.targeta[_ngcontent-%COMP%]{width:70%;padding:20px;background-color:#27275f;text-align:center;border-radius:15px;transition:all .3s;cursor:pointer;margin:10px auto}.targeta[_ngcontent-%COMP%]:hover{background-color:transparent;border:1px solid #4EB4F7}.targeta[_ngcontent-%COMP%]   .la2[_ngcontent-%COMP%]{color:#999;font-size:12px}.la3[_ngcontent-%COMP%]{text-decoration:none}.formulario[_ngcontent-%COMP%]{margin-top:20px;width:50%;color:#999}.formulario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formulario[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #999;color:#fff;transition:all .3s}.formulario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .formulario[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#4eb4f7}.button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin:10px 5px;text-decoration:none;cursor:pointer;transition:all .3s;padding:10px 15px}.button1[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #4EB4F7;color:#4eb4f7;border-radius:10px}.button1[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}@media screen and (max-width:800px){.contacto[_ngcontent-%COMP%]{width:100%;display:block}.targetas[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.targeta[_ngcontent-%COMP%]{width:30%}.formulario[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}}@media screen and (max-width:562px){.contacto[_ngcontent-%COMP%]{display:block}.targetas[_ngcontent-%COMP%]{display:block;width:100%;margin-right:auto;margin-left:auto}.targeta[_ngcontent-%COMP%]{width:70%}.formulario[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}}"]}),n})(),VP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-footer"]],decls:30,vars:0,consts:[[1,"footer"],[1,"texts"],[1,"nombre"],[1,"lista"],["href","#home"],["href","#sobremi"],["href","#miexperiencia"],["href","#misproyectos"],["href","#contacto"],[1,"redes"],["href","https://www.facebook.com/darkarhackergarciaoficial/"],[1,"fa-brands","fa-facebook"],["href","https://www.instagram.com/leo._.garcia0/"],[1,"fa-brands","fa-instagram"],[1,"label"],["for",""]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1"),d._uU(4,"Leonardo"),d.qZA(),d.qZA(),d.TgZ(5,"div",3),d.TgZ(6,"ul"),d.TgZ(7,"li"),d.TgZ(8,"a",4),d._uU(9,"Home"),d.qZA(),d.qZA(),d.TgZ(10,"li"),d.TgZ(11,"a",5),d._uU(12,"Sobre mi"),d.qZA(),d.qZA(),d.TgZ(13,"li"),d.TgZ(14,"a",6),d._uU(15,"Mi expereincia"),d.qZA(),d.qZA(),d.TgZ(16,"li"),d.TgZ(17,"a",7),d._uU(18,"Mis proyectos"),d.qZA(),d.qZA(),d.TgZ(19,"li"),d.TgZ(20,"a",8),d._uU(21,"Contacto"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"div",9),d.TgZ(23,"a",10),d._UZ(24,"i",11),d.qZA(),d.TgZ(25,"a",12),d._UZ(26,"i",13),d.qZA(),d.qZA(),d.TgZ(27,"div",14),d.TgZ(28,"label",15),d._uU(29,"\xa9 Leonardo - Todos los derechos reservados"),d.qZA(),d.qZA(),d.qZA(),d.qZA())},styles:[".footer[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.texts[_ngcontent-%COMP%]{width:70%}.nombre[_ngcontent-%COMP%]{width:100%;text-align:center}.lista[_ngcontent-%COMP%]{width:100%}.lista[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:center;align-items:center}.lista[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 15px;margin:10px;color:#000;text-decoration:none}.redes[_ngcontent-%COMP%]{width:50%;margin-left:auto;margin-right:auto;display:flex;justify-content:center;align-items:center}.redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:24px;padding:8px 15px;color:#fff;background-color:#000;margin:10px;border-radius:10px;transition:all .3s}.redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:transparent;color:#000;border:1px solid black}.label[_ngcontent-%COMP%]{width:100%;text-align:center}@media screen and (max-width: 934px){.texts[_ngcontent-%COMP%]{width:90%}}@media screen and (max-width: 727px){.texts[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 654px){.lista[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:center;list-style:none;display:block}.lista[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:10px}}"]}),n})(),UP=(()=>{class n{constructor(){this.title="portafolioWeb"}button1(){var t,r,o,u,h;null===(t=document.getElementById("a1"))||void 0===t||t.classList.add("bg-secundario"),null===(r=document.getElementById("a2"))||void 0===r||r.classList.remove("bg-secundario"),null===(o=document.getElementById("a3"))||void 0===o||o.classList.remove("bg-secundario"),null===(u=document.getElementById("a4"))||void 0===u||u.classList.remove("bg-secundario"),null===(h=document.getElementById("a5"))||void 0===h||h.classList.remove("bg-secundario")}button2(){var t,r,o,u,h;null===(t=document.getElementById("a1"))||void 0===t||t.classList.remove("bg-secundario"),null===(r=document.getElementById("a2"))||void 0===r||r.classList.add("bg-secundario"),null===(o=document.getElementById("a3"))||void 0===o||o.classList.remove("bg-secundario"),null===(u=document.getElementById("a4"))||void 0===u||u.classList.remove("bg-secundario"),null===(h=document.getElementById("a5"))||void 0===h||h.classList.remove("bg-secundario")}button3(){var t,r,o,u,h;null===(t=document.getElementById("a1"))||void 0===t||t.classList.remove("bg-secundario"),null===(r=document.getElementById("a2"))||void 0===r||r.classList.remove("bg-secundario"),null===(o=document.getElementById("a3"))||void 0===o||o.classList.add("bg-secundario"),null===(u=document.getElementById("a4"))||void 0===u||u.classList.remove("bg-secundario"),null===(h=document.getElementById("a5"))||void 0===h||h.classList.remove("bg-secundario")}button4(){var t,r,o,u,h;null===(t=document.getElementById("a1"))||void 0===t||t.classList.remove("bg-secundario"),null===(r=document.getElementById("a2"))||void 0===r||r.classList.remove("bg-secundario"),null===(o=document.getElementById("a3"))||void 0===o||o.classList.remove("bg-secundario"),null===(u=document.getElementById("a4"))||void 0===u||u.classList.add("bg-secundario"),null===(h=document.getElementById("a5"))||void 0===h||h.classList.remove("bg-secundario")}button5(){var t,r,o,u,h;null===(t=document.getElementById("a1"))||void 0===t||t.classList.remove("bg-secundario"),null===(r=document.getElementById("a2"))||void 0===r||r.classList.remove("bg-secundario"),null===(o=document.getElementById("a3"))||void 0===o||o.classList.remove("bg-secundario"),null===(u=document.getElementById("a4"))||void 0===u||u.classList.remove("bg-secundario"),null===(h=document.getElementById("a5"))||void 0===h||h.classList.add("bg-secundario")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:24,vars:0,consts:[[1,"contenedor"],["id","home",1,"bg-primario","text-white"],["id","sobremi",1,"bg-primario","text-white"],["id","miexperiencia",1,"bg-primario","text-white"],["id","misproyectos",1,"bg-primario","text-white"],["id","contacto",1,"bg-primario","text-white"],[1,"animate__animated","animate__fadeInDown"],["href","#home","id","a1",1,"a",3,"click"],[1,"fa-solid","fa-house"],["href","#sobremi","id","a2",1,"a",3,"click"],[1,"fa-solid","fa-user"],["href","#miexperiencia","id","a3",1,"a",3,"click"],[1,"fa-solid","fa-book"],["href","#misproyectos","id","a4",1,"a",3,"click"],[1,"fa-solid","fa-heart-pulse"],["href","#contacto","id","a5",1,"a",3,"click"],[1,"fa-solid","fa-message"],["id","footer","role","contentinfo"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"app-navegador"),d.qZA(),d.TgZ(3,"div",2),d._UZ(4,"app-sobremi"),d.qZA(),d.TgZ(5,"div",3),d._UZ(6,"app-miexperience"),d.qZA(),d.TgZ(7,"div",4),d._UZ(8,"app-proyectos"),d.qZA(),d.TgZ(9,"div",5),d._UZ(10,"app-contacto"),d.qZA(),d.TgZ(11,"nav",6),d.TgZ(12,"a",7),d.NdJ("click",function(){return r.button1()}),d._UZ(13,"i",8),d.qZA(),d.TgZ(14,"a",9),d.NdJ("click",function(){return r.button2()}),d._UZ(15,"i",10),d.qZA(),d.TgZ(16,"a",11),d.NdJ("click",function(){return r.button3()}),d._UZ(17,"i",12),d.qZA(),d.TgZ(18,"a",13),d.NdJ("click",function(){return r.button4()}),d._UZ(19,"i",14),d.qZA(),d.TgZ(20,"a",15),d.NdJ("click",function(){return r.button5()}),d._UZ(21,"i",16),d.qZA(),d.qZA(),d.TgZ(22,"footer",17),d._UZ(23,"app-footer"),d.qZA(),d.qZA())},directives:[pC,hw,TT,mC,LP,VP],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;height:100%}nav[_ngcontent-%COMP%]{width:40%;height:10%;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);position:fixed;bottom:10px;left:20%;right:20%;margin-left:auto;margin-right:auto;box-shadow:2px 2px 5px #000;padding:10px;border-width:2px 4px;border-radius:40px;display:flex;justify-content:space-between;align-items:center;gap:20px}nav[_ngcontent-%COMP%]   .a[_ngcontent-%COMP%]{transition:all .2s;color:#fff;padding:10px 15px;border-radius:50%}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#4eb4f7}#home[_ngcontent-%COMP%]{width:100%;height:100%}#sobremi[_ngcontent-%COMP%], #miexperiencia[_ngcontent-%COMP%], #misproyectos[_ngcontent-%COMP%], #contacto[_ngcontent-%COMP%]{width:100%;height:auto}#footer[_ngcontent-%COMP%]{width:100%;height:70%;background-color:#4198d3}@media screen and (max-width: 912px){nav[_ngcontent-%COMP%]{width:60%;left:0;right:0;bottom:25px}.a[_ngcontent-%COMP%]{font-size:24px}}@media screen and (max-width: 680px){nav[_ngcontent-%COMP%]{width:70%;left:0;right:0;bottom:25px}}@media screen and (max-width:500px){nav[_ngcontent-%COMP%]{width:90%;left:0;right:0;padding:20px}}@media screen and (max-width: 413px){nav[_ngcontent-%COMP%]{width:90%;left:0;right:0;padding:25px}}@media screen and (max-width: 380px){nav[_ngcontent-%COMP%]{width:90%;left:0;right:0;padding:20px}.a[_ngcontent-%COMP%]{font-size:18px}}"]}),n})();V(9414);class Tx{constructor(){return(0,Zn.vb)("auth")}}class bT{constructor(e){return e}}const Ax="firestore",ET=new d.OlP("angularfire2.firestore-instances");function qP(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new bT(r)}}const zP={provide:class HP{constructor(){return(0,Zn.vb)(Ax)}},deps:[[new d.FiY,ET]]},WP={provide:bT,useFactory:function GP(n,e){const t=(0,Zn.JM)(Ax,n,e);return t&&new bT(t)},deps:[[new d.FiY,ET],wm]};let ZP=(()=>{class n{constructor(){(0,lp.KN)("angularfire",Zn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[WP,zP]}),n})();function KP(n,...e){return{ngModule:ZP,providers:[{provide:ET,useFactory:qP(n),multi:!0,deps:[d.R0b,d.zs3,Zn.HU,UA,[new d.FiY,Tx],[new d.FiY,OE],...e]}]}}const YP=(0,Zn.u3)(Tv,!0),CT_firebase={apiKey:"AIzaSyD1LroaOdm_8PeyK8lEvIMjqyOLpGtaJ4Y",authDomain:"leonardo-portafolio.firebaseapp.com",projectId:"leonardo-portafolio",storageBucket:"leonardo-portafolio.appspot.com",messagingSenderId:"171593045922",appId:"1:171593045922:web:1c21f4dffe6f1b2ed284fb",measurementId:"G-11ZC7PVSXN"};let QP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[UP]}),n.\u0275inj=d.cJS({providers:[],imports:[[Oa,fC,FP,RM(()=>kM(CT_firebase)),KP(()=>YP()),ao.hO.initializeApp(CT_firebase)]]}),n})();(0,d.G48)(),ra().bootstrapModule(QP).catch(n=>console.error(n))},5867:(vt,Se,V)=>{"use strict";V.d(Se,{Mq:()=>d.getApp,C6:()=>d.getApps,ZF:()=>d.initializeApp,KN:()=>d.registerVersion});var d=V(9681);(0,d.registerVersion)("firebase","9.6.11","app")},127:(vt,Se,V)=>{"use strict";V.d(Se,{Z:()=>d.Z});var d=V(3942);d.Z.registerVersion("firebase","9.6.11","app-compat")},5881:(vt,Se,V)=>{"use strict";V.r(Se);var d=V(5861),j=V(3942),k=V(9414),se=V(2090),ce=(V(9681),V(1877),V(4859));function de(){return window}function K(){return(K=(0,d.Z)(function*(L,B,q){var le;const{BuildInfo:Be}=de();(0,k.ap)(B.sessionId,"AuthEvent did not contain a session ID");const Ze=yield ye(B.sessionId),At={};return(0,k.aq)()?At.ibi=Be.packageName:(0,k.ar)()?At.apn=Be.packageName:(0,k.as)(L,"operation-not-supported-in-this-environment"),Be.displayName&&(At.appDisplayName=Be.displayName),At.sessionId=Ze,(0,k.at)(L,q,B.type,void 0,null!==(le=B.eventId)&&void 0!==le?le:void 0,At)})).apply(this,arguments)}function Ke(){return(Ke=(0,d.Z)(function*(L){const{BuildInfo:B}=de(),q={};(0,k.aq)()?q.iosBundleId=B.packageName:(0,k.ar)()?q.androidPackageName=B.packageName:(0,k.as)(L,"operation-not-supported-in-this-environment"),yield(0,k.au)(L,q)})).apply(this,arguments)}function je(){return(je=(0,d.Z)(function*(L,B,q){const{cordova:le}=de();let Be=()=>{};try{yield new Promise((Ze,At)=>{let st=null;function Lt(){var Yt;Ze();const Lr=null===(Yt=le.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof Lr&&Lr(),"function"==typeof(null==q?void 0:q.close)&&q.close()}function En(){st||(st=window.setTimeout(()=>{At((0,k.av)(L,"redirect-cancelled-by-user"))},2e3))}function Gn(){"visible"===(null==document?void 0:document.visibilityState)&&En()}B.addPassiveListener(Lt),document.addEventListener("resume",En,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",Gn,!1),Be=()=>{B.removePassiveListener(Lt),document.removeEventListener("resume",En,!1),document.removeEventListener("visibilitychange",Gn,!1),st&&window.clearTimeout(st)}})}finally{Be()}})).apply(this,arguments)}function ye(L){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,d.Z)(function*(L){const B=$e(L),q=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(q)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $e(L){if((0,k.ap)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(L);const B=new ArrayBuffer(L.length),q=new Uint8Array(B);for(let le=0;le<L.length;le++)q[le]=L.charCodeAt(le);return q}class rt extends k.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(B)),super.onEvent(B)}initialized(){var B=this;return(0,d.Z)(function*(){yield B.initPromise})()}}function Y(L){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(L){const B=yield he()._get(ue(L));return B&&(yield he()._remove(ue(L))),B})).apply(this,arguments)}function _e(){const L=[],B="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<20;q++){const le=Math.floor(Math.random()*B.length);L.push(B.charAt(le))}return L.join("")}function he(){return(0,k.ax)(k.b)}function ue(L){return(0,k.ay)("authEvent",L.config.apiKey,L.name)}function Pt(L){if(!(null==L?void 0:L.includes("?")))return{};const[B,...q]=L.split("?");return(0,se.zd)(q.join("?"))}function lt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.av)("no-auth-event")}}function cr(){var L;return(null===(L=null==self?void 0:self.location)||void 0===L?void 0:L.protocol)||null}function In(L=(0,se.z$)()){return!("file:"!==cr()&&"ionic:"!==cr()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function vr(){try{const L=self.localStorage,B=k.aG();if(L)return L.setItem(B,"1"),L.removeItem(B),!function xr(L=(0,se.z$)()){return function Dn(){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)}()||function li(L=(0,se.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,se.hl)()}catch(L){return ke()&&(0,se.hl)()}return!1}function ke(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function bn(){return(function _r(){return"http:"===cr()||"https:"===cr()}()||(0,se.ru)()||In())&&!function an(){return(0,se.b$)()||(0,se.UG)()}()&&vr()&&!ke()}function rn(){return In()&&"undefined"!=typeof document}function kn(){return(kn=(0,d.Z)(function*(){return!!rn()&&new Promise(L=>{const B=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(B),L(!0)})})})).apply(this,arguments)}const un={LOCAL:"local",NONE:"none",SESSION:"session"},Vn=k.aw,ci="persistence";function cn(L){return er.apply(this,arguments)}function er(){return(er=(0,d.Z)(function*(L){yield L._initializationPromise;const B=It(),q=k.ay(ci,L.config.apiKey,L.name);B&&B.setItem(q,L._getPersistence())})).apply(this,arguments)}function It(){var L;try{return(null===(L=function gn(){return"undefined"!=typeof window?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch(B){return null}}const Xe=k.aw;class _t{constructor(){this.browserResolver=k.ax(k.k),this.cordovaResolver=k.ax(class qn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aA}_initialize(B){var q=this;return(0,d.Z)(function*(){const le=B._key();let Be=q.eventManagers.get(le);return Be||(Be=new rt(B),q.eventManagers.set(le,Be),q.attachCallbackListeners(B,Be)),Be})()}_openPopup(B){(0,k.as)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,q,le,Be){var Ze=this;return(0,d.Z)(function*(){!function ve(L){var B,q,le,Be,Ze,At,st,Lt,En,Gn;const Yt=de();(0,k.aw)("function"==typeof(null===(B=null==Yt?void 0:Yt.universalLinks)||void 0===B?void 0:B.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aw)(void 0!==(null===(q=null==Yt?void 0:Yt.BuildInfo)||void 0===q?void 0:q.packageName),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aw)("function"==typeof(null===(Ze=null===(Be=null===(le=null==Yt?void 0:Yt.cordova)||void 0===le?void 0:le.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===Ze?void 0:Ze.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(Lt=null===(st=null===(At=null==Yt?void 0:Yt.cordova)||void 0===At?void 0:At.plugins)||void 0===st?void 0:st.browsertab)||void 0===Lt?void 0:Lt.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(Gn=null===(En=null==Yt?void 0:Yt.cordova)||void 0===En?void 0:En.InAppBrowser)||void 0===Gn?void 0:Gn.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const At=yield Ze._initialize(B);yield At.initialized(),At.resetRedirect(),(0,k.aB)(),yield Ze._originValidation(B);const st=function Oe(L,B,q=null){return{type:B,eventId:q,urlResponse:null,sessionId:_e(),postBody:null,tenantId:L.tenantId,error:(0,k.av)(L,"no-auth-event")}}(B,le,Be);yield function ut(L,B){return he()._set(ue(L),B)}(B,st);const Lt=yield function W(L,B,q){return K.apply(this,arguments)}(B,st,q),En=yield function Re(L){const{cordova:B}=de();return new Promise(q=>{B.plugins.browsertab.isAvailable(le=>{let Be=null;le?B.plugins.browsertab.openUrl(L):Be=B.InAppBrowser.open(L,(0,k.ao)()?"_blank":"_system","location=yes"),q(Be)})})}(Lt);return function Le(L,B,q){return je.apply(this,arguments)}(B,At,En)})()}_isIframeWebStorageSupported(B,q){throw new Error("Method not implemented.")}_originValidation(B){const q=B._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function ie(L){return Ke.apply(this,arguments)}(B)),this.originValidationPromises[q]}attachCallbackListeners(B,q){const{universalLinks:le,handleOpenURL:Be,BuildInfo:Ze}=de(),At=setTimeout((0,d.Z)(function*(){yield Y(B),q.onEvent(lt())}),500),st=function(){var Gn=(0,d.Z)(function*(Yt){clearTimeout(At);const Lr=yield Y(B);let zr=null;Lr&&(null==Yt?void 0:Yt.url)&&(zr=function re(L,B){var q,le;const Be=function fe(L){const B=Pt(L),q=B.link?decodeURIComponent(B.link):void 0,le=Pt(q).link,Be=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return Pt(Be).link||Be||le||q||L}(B);if(Be.includes("/__/auth/callback")){const Ze=Pt(Be),At=Ze.firebaseError?function Ve(L){try{return JSON.parse(L)}catch(B){return null}}(decodeURIComponent(Ze.firebaseError)):null,st=null===(le=null===(q=null==At?void 0:At.code)||void 0===q?void 0:q.split("auth/"))||void 0===le?void 0:le[1],Lt=st?(0,k.av)(st):null;return Lt?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:Lt,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:Be,postBody:null}}return null}(Lr,Yt.url)),q.onEvent(zr||lt())});return function(Lr){return Gn.apply(this,arguments)}}();void 0!==le&&"function"==typeof le.subscribe&&le.subscribe(null,st);const Lt=Be,En=`${Ze.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var Gn=(0,d.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(En)&&st({url:Yt}),"function"==typeof Lt)try{Lt(Yt)}catch(Lr){console.error(Lr)}});return function(Yt){return Gn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aA}_initialize(B){var q=this;return(0,d.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,q,le,Be){var Ze=this;return(0,d.Z)(function*(){return yield Ze.selectUnderlyingResolver(),Ze.assertedUnderlyingResolver._openPopup(B,q,le,Be)})()}_openRedirect(B,q,le,Be){var Ze=this;return(0,d.Z)(function*(){return yield Ze.selectUnderlyingResolver(),Ze.assertedUnderlyingResolver._openRedirect(B,q,le,Be)})()}_isIframeWebStorageSupported(B,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,q)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return rn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,d.Z)(function*(){if(B.underlyingResolver)return;const q=yield function ct(){return kn.apply(this,arguments)}();B.underlyingResolver=q?B.cordovaResolver:B.browserResolver})()}}function Fr(L){return L.unwrap()}function Ct(L){return tr(L)}function tr(L){const{_tokenResponse:B}=L instanceof se.ZR?L.customData:L;if(!B)return null;if(!(L instanceof se.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return k.P.credentialFromResult(L);const q=B.providerId;if(!q||q===k.o.PASSWORD)return null;let le;switch(q){case k.o.GOOGLE:le=k.N;break;case k.o.FACEBOOK:le=k.M;break;case k.o.GITHUB:le=k.Q;break;case k.o.TWITTER:le=k.V;break;default:const{oauthIdToken:Be,oauthAccessToken:Ze,oauthTokenSecret:At,pendingToken:st,nonce:Lt}=B;return Ze||At||Be||st?st?q.startsWith("saml.")?k.aJ._create(q,st):k.I._fromParams({providerId:q,signInMethod:q,pendingToken:st,idToken:Be,accessToken:Ze}):new k.T(q).credential({idToken:Be,accessToken:Ze,rawNonce:Lt}):null}return L instanceof se.ZR?le.credentialFromError(L):le.credentialFromResult(L)}function dn(L,B){return B.catch(q=>{throw q instanceof se.ZR&&function Xr(L,B){var q;const le=null===(q=B.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===B.code)B.resolver=new Wt(L,k.am(L,B));else if(le){const Be=tr(B),Ze=B;Be&&(Ze.credential=Be,Ze.tenantId=le.tenantId||void 0,Ze.email=le.email||void 0,Ze.phoneNumber=le.phoneNumber||void 0)}}(L,q),q}).then(q=>{const Be=q.user;return{operationType:q.operationType,credential:Ct(q),additionalUserInfo:k.ak(q),user:Te.getOrCreate(Be)}})}function dt(L,B){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(L,B){const q=yield B;return{verificationId:q.verificationId,confirm:le=>dn(L,q.confirm(le))}})).apply(this,arguments)}class Wt{constructor(B,q){this.resolver=q,this.auth=function Gt(L){return L.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return dn(Fr(this.auth),this.resolver.resolveSignIn(B))}}class Te{constructor(B){this._delegate=B,this.multiFactor=k.an(B)}static getOrCreate(B){return Te.USER_MAP.has(B)||Te.USER_MAP.set(B,new Te(B)),Te.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var q=this;return(0,d.Z)(function*(){return dn(q.auth,k.Y(q._delegate,B))})()}linkWithPhoneNumber(B,q){var le=this;return(0,d.Z)(function*(){return dt(le.auth,k.l(le._delegate,B,q))})()}linkWithPopup(B){var q=this;return(0,d.Z)(function*(){return dn(q.auth,k.d(q._delegate,B,_t))})()}linkWithRedirect(B){var q=this;return(0,d.Z)(function*(){return yield cn(k.aC(q.auth)),k.g(q._delegate,B,_t)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var q=this;return(0,d.Z)(function*(){return dn(q.auth,k.Z(q._delegate,B))})()}reauthenticateWithPhoneNumber(B,q){return dt(this.auth,k.r(this._delegate,B,q))}reauthenticateWithPopup(B){return dn(this.auth,k.e(this._delegate,B,_t))}reauthenticateWithRedirect(B){var q=this;return(0,d.Z)(function*(){return yield cn(k.aC(q.auth)),k.h(q._delegate,B,_t)})()}sendEmailVerification(B){return k.aa(this._delegate,B)}unlink(B){var q=this;return(0,d.Z)(function*(){return yield k.aj(q._delegate,B),q})()}updateEmail(B){return k.af(this._delegate,B)}updatePassword(B){return k.ag(this._delegate,B)}updatePhoneNumber(B){return k.u(this._delegate,B)}updateProfile(B){return k.ae(this._delegate,B)}verifyBeforeUpdateEmail(B,q){return k.ab(this._delegate,B,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Te.USER_MAP=new WeakMap;const Ae=k.aw;let it=(()=>{class L{constructor(q,le){if(this.app=q,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=q.options;Ae(Be,"invalid-api-key",{appName:q.name}),Ae(Be,"invalid-api-key",{appName:q.name});const Ze="undefined"!=typeof window?_t:void 0;this._delegate=le.initialize({options:{persistence:en(Be,q.name),popupRedirectResolver:Ze}}),this._delegate._updateErrorMap(k.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Te.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,le){k.E(this._delegate,q,le)}applyActionCode(q){return k.a1(this._delegate,q)}checkActionCode(q){return k.a2(this._delegate,q)}confirmPasswordReset(q,le){return k.a0(this._delegate,q,le)}createUserWithEmailAndPassword(q,le){var Be=this;return(0,d.Z)(function*(){return dn(Be._delegate,k.a4(Be._delegate,q,le))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return k.a9(this._delegate,q)}isSignInWithEmailLink(q){return k.a7(this._delegate,q)}getRedirectResult(){var q=this;return(0,d.Z)(function*(){Ae(bn(),q._delegate,"operation-not-supported-in-this-environment");const le=yield k.j(q._delegate,_t);return le?dn(q._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function nn(L,B){(0,k.aC)(L)._logFramework(B)}(this._delegate,q)}onAuthStateChanged(q,le,Be){const{next:Ze,error:At,complete:st}=Et(q,le,Be);return this._delegate.onAuthStateChanged(Ze,At,st)}onIdTokenChanged(q,le,Be){const{next:Ze,error:At,complete:st}=Et(q,le,Be);return this._delegate.onIdTokenChanged(Ze,At,st)}sendSignInLinkToEmail(q,le){return k.a6(this._delegate,q,le)}sendPasswordResetEmail(q,le){return k.$(this._delegate,q,le||void 0)}setPersistence(q){var le=this;return(0,d.Z)(function*(){let Be;switch(function wt(L,B){Vn(Object.values(un).includes(B),L,"invalid-persistence-type"),(0,se.b$)()?Vn(B!==un.SESSION,L,"unsupported-persistence-type"):(0,se.UG)()?Vn(B===un.NONE,L,"unsupported-persistence-type"):ke()?Vn(B===un.NONE||B===un.LOCAL&&(0,se.hl)(),L,"unsupported-persistence-type"):Vn(B===un.NONE||vr(),L,"unsupported-persistence-type")}(le._delegate,q),q){case un.SESSION:Be=k.a;break;case un.LOCAL:Be=(yield k.ax(k.i)._isAvailable())?k.i:k.b;break;case un.NONE:Be=k.K;break;default:return k.as("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return dn(this._delegate,k.W(this._delegate))}signInWithCredential(q){return dn(this._delegate,k.X(this._delegate,q))}signInWithCustomToken(q){return dn(this._delegate,k._(this._delegate,q))}signInWithEmailAndPassword(q,le){return dn(this._delegate,k.a5(this._delegate,q,le))}signInWithEmailLink(q,le){return dn(this._delegate,k.a8(this._delegate,q,le))}signInWithPhoneNumber(q,le){return dt(this._delegate,k.s(this._delegate,q,le))}signInWithPopup(q){var le=this;return(0,d.Z)(function*(){return Ae(bn(),le._delegate,"operation-not-supported-in-this-environment"),dn(le._delegate,k.c(le._delegate,q,_t))})()}signInWithRedirect(q){var le=this;return(0,d.Z)(function*(){return Ae(bn(),le._delegate,"operation-not-supported-in-this-environment"),yield cn(le._delegate),k.f(le._delegate,q,_t)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return k.a3(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=un,L})();function Et(L,B,q){let le=L;"function"!=typeof L&&({next:le,error:B,complete:q}=L);const Be=le;return{next:At=>Be(At&&Te.getOrCreate(At)),error:B,complete:q}}function en(L,B){const q=function qr(L,B){const q=It();if(!q)return[];const le=k.ay(ci,L,B);switch(q.getItem(le)){case un.NONE:return[k.K];case un.LOCAL:return[k.i,k.a];case un.SESSION:return[k.a];default:return[]}}(L,B);if("undefined"!=typeof self&&!q.includes(k.i)&&q.push(k.i),"undefined"!=typeof window)for(const le of[k.b,k.a])q.includes(le)||q.push(le);return q.includes(k.K)||q.push(k.K),q}class Nt{constructor(){this.providerId="phone",this._delegate=new k.P(Fr(j.Z.auth()))}static credential(B,q){return k.P.credential(B,q)}verifyPhoneNumber(B,q){return this._delegate.verifyPhoneNumber(B,q)}unwrap(){return this._delegate}}Nt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Nt.PROVIDER_ID=k.P.PROVIDER_ID;const Z=k.aw;class G{constructor(B,q,le=j.Z.app()){var Be;Z(null===(Be=le.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new k.R(B,q,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function we(L){L.INTERNAL.registerComponent(new ce.wA("auth-compat",B=>{const q=B.getProvider("app-compat").getImmediate(),le=B.getProvider("auth");return new it(q,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.L,FacebookAuthProvider:k.M,GithubAuthProvider:k.Q,GoogleAuthProvider:k.N,OAuthProvider:k.T,SAMLAuthProvider:k.U,PhoneAuthProvider:Nt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:G,TwitterAuthProvider:k.V,Auth:it,AuthCredential:k.G,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.2.12")}(j.Z)},8306:(vt,Se,V)=>{"use strict";V.d(Se,{y:()=>W});var d=V(2961),j=V(727),k=V(8822),se=V(4671);var ce=V(2416),de=V(576),ge=V(2806);let W=(()=>{class Re{constructor(je){je&&(this._subscribe=je)}lift(je){const ve=new Re;return ve.source=this,ve.operator=je,ve}subscribe(je,ve,ye){const Ue=function Ke(Re){return Re&&Re instanceof d.Lv||function ie(Re){return Re&&(0,de.m)(Re.next)&&(0,de.m)(Re.error)&&(0,de.m)(Re.complete)}(Re)&&(0,j.Nn)(Re)}(je)?je:new d.Hp(je,ve,ye);return(0,ge.x)(()=>{const{operator:$e,source:He}=this;Ue.add($e?$e.call(Ue,He):He?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(je){try{return this._subscribe(je)}catch(ve){je.error(ve)}}forEach(je,ve){return new(ve=K(ve))((ye,Ue)=>{let $e;$e=this.subscribe(He=>{try{je(He)}catch(rt){Ue(rt),null==$e||$e.unsubscribe()}},Ue,ye)})}_subscribe(je){var ve;return null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(je)}[k.L](){return this}pipe(...je){return function Ie(Re){return 0===Re.length?se.y:1===Re.length?Re[0]:function(je){return Re.reduce((ve,ye)=>ye(ve),je)}}(je)(this)}toPromise(je){return new(je=K(je))((ve,ye)=>{let Ue;this.subscribe($e=>Ue=$e,$e=>ye($e),()=>ve(Ue))})}}return Re.create=Le=>new Re(Le),Re})();function K(Re){var Le;return null!==(Le=null!=Re?Re:ce.v.Promise)&&void 0!==Le?Le:Promise}},7579:(vt,Se,V)=>{"use strict";V.d(Se,{x:()=>ce});var d=V(8306),j=V(727);const se=(0,V(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=V(8737),Ie=V(2806);let ce=(()=>{class ge extends d.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const ie=new de(this,this);return ie.operator=K,ie}_throwIfClosed(){if(this.closed)throw new se}next(K){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ie=this.observers.slice();for(const Ke of ie)Ke.next(K)}})}error(K){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:ie}=this;for(;ie.length;)ie.shift().error(K)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:ie,isStopped:Ke,observers:Re}=this;return ie||Ke?j.Lc:(Re.push(K),new j.w0(()=>(0,ae.P)(Re,K)))}_checkFinalizedStatuses(K){const{hasError:ie,thrownError:Ke,isStopped:Re}=this;ie?K.error(Ke):Re&&K.complete()}asObservable(){const K=new d.y;return K.source=this,K}}return ge.create=(W,K)=>new de(W,K),ge})();class de extends ce{constructor(W,K){super(),this.destination=W,this.source=K}next(W){var K,ie;null===(ie=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===ie||ie.call(K,W)}error(W){var K,ie;null===(ie=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===ie||ie.call(K,W)}complete(){var W,K;null===(K=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===K||K.call(W)}_subscribe(W){var K,ie;return null!==(ie=null===(K=this.source)||void 0===K?void 0:K.subscribe(W))&&void 0!==ie?ie:j.Lc}}},2961:(vt,Se,V)=>{"use strict";V.d(Se,{Hp:()=>Ke,Lv:()=>ie});var d=V(576),j=V(727),k=V(2416),se=V(7849);function ae(){}const Ie=ge("C",void 0,void 0);function ge(ye,Ue,$e){return{kind:ye,value:Ue,error:$e}}var W=V(3410),K=V(2806);class ie extends j.w0{constructor(Ue){super(),this.isStopped=!1,Ue?(this.destination=Ue,(0,j.Nn)(Ue)&&Ue.add(this)):this.destination=ve}static create(Ue,$e,He){return new Ke(Ue,$e,He)}next(Ue){this.isStopped?je(function de(ye){return ge("N",ye,void 0)}(Ue),this):this._next(Ue)}error(Ue){this.isStopped?je(function ce(ye){return ge("E",void 0,ye)}(Ue),this):(this.isStopped=!0,this._error(Ue))}complete(){this.isStopped?je(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ue){this.destination.next(Ue)}_error(Ue){try{this.destination.error(Ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ke extends ie{constructor(Ue,$e,He){let rt;if(super(),(0,d.m)(Ue))rt=Ue;else if(Ue){let Oe;({next:rt,error:$e,complete:He}=Ue),this&&k.v.useDeprecatedNextContext?(Oe=Object.create(Ue),Oe.unsubscribe=()=>this.unsubscribe()):Oe=Ue,rt=null==rt?void 0:rt.bind(Oe),$e=null==$e?void 0:$e.bind(Oe),He=null==He?void 0:He.bind(Oe)}this.destination={next:rt?Re(rt):ae,error:Re(null!=$e?$e:Le),complete:He?Re(He):ae}}}function Re(ye,Ue){return(...$e)=>{try{ye(...$e)}catch(He){k.v.useDeprecatedSynchronousErrorHandling?(0,K.O)(He):(0,se.h)(He)}}}function Le(ye){throw ye}function je(ye,Ue){const{onStoppedNotification:$e}=k.v;$e&&W.z.setTimeout(()=>$e(ye,Ue))}const ve={closed:!0,next:ae,error:Le,complete:ae}},727:(vt,Se,V)=>{"use strict";V.d(Se,{Lc:()=>Ie,w0:()=>ae,Nn:()=>ce});var d=V(576);const k=(0,V(3888).d)(ge=>function(K){ge(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((ie,Ke)=>`${Ke+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var se=V(8737);class ae{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Re of K)Re.remove(this);else K.remove(this);const{initialTeardown:ie}=this;if((0,d.m)(ie))try{ie()}catch(Re){W=Re instanceof k?Re.errors:[Re]}const{_teardowns:Ke}=this;if(Ke){this._teardowns=null;for(const Re of Ke)try{de(Re)}catch(Le){W=null!=W?W:[],Le instanceof k?W=[...W,...Le.errors]:W.push(Le)}}if(W)throw new k(W)}}add(W){var K;if(W&&W!==this)if(this.closed)de(W);else{if(W instanceof ae){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._teardowns=null!==(K=this._teardowns)&&void 0!==K?K:[]).push(W)}}_hasParent(W){const{_parentage:K}=this;return K===W||Array.isArray(K)&&K.includes(W)}_addParent(W){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(W),K):K?[K,W]:W}_removeParent(W){const{_parentage:K}=this;K===W?this._parentage=null:Array.isArray(K)&&(0,se.P)(K,W)}remove(W){const{_teardowns:K}=this;K&&(0,se.P)(K,W),W instanceof ae&&W._removeParent(this)}}ae.EMPTY=(()=>{const ge=new ae;return ge.closed=!0,ge})();const Ie=ae.EMPTY;function ce(ge){return ge instanceof ae||ge&&"closed"in ge&&(0,d.m)(ge.remove)&&(0,d.m)(ge.add)&&(0,d.m)(ge.unsubscribe)}function de(ge){(0,d.m)(ge)?ge():ge.unsubscribe()}},2416:(vt,Se,V)=>{"use strict";V.d(Se,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Se,V)=>{"use strict";V.d(Se,{E:()=>j});const j=new(V(8306).y)(ae=>ae.complete())},8996:(vt,Se,V)=>{"use strict";V.d(Se,{D:()=>rt});var d=V(8421),j=V(5363),k=V(9468),Ie=V(8306),de=V(2202),ge=V(576),W=V(9672);function ie(Oe,ut){if(!Oe)throw new Error("Iterable cannot be null");return new Ie.y(Y=>{(0,W.f)(Y,ut,()=>{const yt=Oe[Symbol.asyncIterator]();(0,W.f)(Y,ut,()=>{yt.next().then(re=>{re.done?Y.complete():Y.next(re.value)})},0,!0)})})}var Ke=V(3670),Re=V(8239),Le=V(1144),je=V(6495),ve=V(2206),ye=V(4532),Ue=V(3260);function rt(Oe,ut){return ut?function He(Oe,ut){if(null!=Oe){if((0,Ke.c)(Oe))return function se(Oe,ut){return(0,d.Xf)(Oe).pipe((0,k.R)(ut),(0,j.Q)(ut))}(Oe,ut);if((0,Le.z)(Oe))return function ce(Oe,ut){return new Ie.y(Y=>{let yt=0;return ut.schedule(function(){yt===Oe.length?Y.complete():(Y.next(Oe[yt++]),Y.closed||this.schedule())})})}(Oe,ut);if((0,Re.t)(Oe))return function ae(Oe,ut){return(0,d.Xf)(Oe).pipe((0,k.R)(ut),(0,j.Q)(ut))}(Oe,ut);if((0,ve.D)(Oe))return ie(Oe,ut);if((0,je.T)(Oe))return function K(Oe,ut){return new Ie.y(Y=>{let yt;return(0,W.f)(Y,ut,()=>{yt=Oe[de.h](),(0,W.f)(Y,ut,()=>{let re,_e;try{({value:re,done:_e}=yt.next())}catch(he){return void Y.error(he)}_e?Y.complete():Y.next(re)},0,!0)}),()=>(0,ge.m)(null==yt?void 0:yt.return)&&yt.return()})}(Oe,ut);if((0,Ue.L)(Oe))return function $e(Oe,ut){return ie((0,Ue.Q)(Oe),ut)}(Oe,ut)}throw(0,ye.z)(Oe)}(Oe,ut):(0,d.Xf)(Oe)}},8421:(vt,Se,V)=>{"use strict";V.d(Se,{Xf:()=>Ke});var d=V(5987),j=V(1144),k=V(8239),se=V(8306),ae=V(3670),Ie=V(2206),ce=V(4532),de=V(6495),ge=V(3260),W=V(576),K=V(7849),ie=V(8822);function Ke(He){if(He instanceof se.y)return He;if(null!=He){if((0,ae.c)(He))return function Re(He){return new se.y(rt=>{const Oe=He[ie.L]();if((0,W.m)(Oe.subscribe))return Oe.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,j.z)(He))return function Le(He){return new se.y(rt=>{for(let Oe=0;Oe<He.length&&!rt.closed;Oe++)rt.next(He[Oe]);rt.complete()})}(He);if((0,k.t)(He))return function je(He){return new se.y(rt=>{He.then(Oe=>{rt.closed||(rt.next(Oe),rt.complete())},Oe=>rt.error(Oe)).then(null,K.h)})}(He);if((0,Ie.D)(He))return ye(He);if((0,de.T)(He))return function ve(He){return new se.y(rt=>{for(const Oe of He)if(rt.next(Oe),rt.closed)return;rt.complete()})}(He);if((0,ge.L)(He))return function Ue(He){return ye((0,ge.Q)(He))}(He)}throw(0,ce.z)(He)}function ye(He){return new se.y(rt=>{(function $e(He,rt){var Oe,ut,Y,yt;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,d.KL)(He);!(ut=yield Oe.next()).done;)if(rt.next(ut.value),rt.closed)return}catch(re){Y={error:re}}finally{try{ut&&!ut.done&&(yt=Oe.return)&&(yield yt.call(Oe))}finally{if(Y)throw Y.error}}rt.complete()})})(He,rt).catch(Oe=>rt.error(Oe))})}},6451:(vt,Se,V)=>{"use strict";V.d(Se,{T:()=>Ie});var d=V(8189),j=V(8421),k=V(515),se=V(7669),ae=V(8996);function Ie(...ce){const de=(0,se.yG)(ce),ge=(0,se._6)(ce,1/0),W=ce;return W.length?1===W.length?(0,j.Xf)(W[0]):(0,d.J)(ge)((0,ae.D)(W,de)):k.E}},5403:(vt,Se,V)=>{"use strict";V.d(Se,{Q:()=>j});var d=V(2961);class j extends d.Lv{constructor(se,ae,Ie,ce,de){super(se),this.onFinalize=de,this._next=ae?function(ge){try{ae(ge)}catch(W){se.error(W)}}:super._next,this._error=ce?function(ge){try{ce(ge)}catch(W){se.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(ge){se.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}},4004:(vt,Se,V)=>{"use strict";V.d(Se,{U:()=>k});var d=V(4482),j=V(5403);function k(se,ae){return(0,d.e)((Ie,ce)=>{let de=0;Ie.subscribe(new j.Q(ce,ge=>{ce.next(se.call(ae,ge,de++))}))})}},8189:(vt,Se,V)=>{"use strict";V.d(Se,{J:()=>k});var d=V(5577),j=V(4671);function k(se=1/0){return(0,d.z)(j.y,se)}},5577:(vt,Se,V)=>{"use strict";V.d(Se,{z:()=>de});var d=V(4004),j=V(8421),k=V(4482),se=V(9672),ae=V(5403),ce=V(576);function de(ge,W,K=1/0){return(0,ce.m)(W)?de((ie,Ke)=>(0,d.U)((Re,Le)=>W(ie,Re,Ke,Le))((0,j.Xf)(ge(ie,Ke))),K):("number"==typeof W&&(K=W),(0,k.e)((ie,Ke)=>function Ie(ge,W,K,ie,Ke,Re,Le,je){const ve=[];let ye=0,Ue=0,$e=!1;const He=()=>{$e&&!ve.length&&!ye&&W.complete()},rt=ut=>ye<ie?Oe(ut):ve.push(ut),Oe=ut=>{Re&&W.next(ut),ye++;let Y=!1;(0,j.Xf)(K(ut,Ue++)).subscribe(new ae.Q(W,yt=>{null==Ke||Ke(yt),Re?rt(yt):W.next(yt)},()=>{Y=!0},void 0,()=>{if(Y)try{for(ye--;ve.length&&ye<ie;){const yt=ve.shift();Le?(0,se.f)(W,Le,()=>Oe(yt)):Oe(yt)}He()}catch(yt){W.error(yt)}}))};return ge.subscribe(new ae.Q(W,rt,()=>{$e=!0,He()})),()=>{null==je||je()}}(ie,Ke,ge,K)))}},5363:(vt,Se,V)=>{"use strict";V.d(Se,{Q:()=>se});var d=V(9672),j=V(4482),k=V(5403);function se(ae,Ie=0){return(0,j.e)((ce,de)=>{ce.subscribe(new k.Q(de,ge=>(0,d.f)(de,ae,()=>de.next(ge),Ie),()=>(0,d.f)(de,ae,()=>de.complete(),Ie),ge=>(0,d.f)(de,ae,()=>de.error(ge),Ie)))})}},3099:(vt,Se,V)=>{"use strict";V.d(Se,{B:()=>Ie});var d=V(8996),j=V(5698),k=V(7579),se=V(2961),ae=V(4482);function Ie(de={}){const{connector:ge=(()=>new k.x),resetOnError:W=!0,resetOnComplete:K=!0,resetOnRefCountZero:ie=!0}=de;return Ke=>{let Re=null,Le=null,je=null,ve=0,ye=!1,Ue=!1;const $e=()=>{null==Le||Le.unsubscribe(),Le=null},He=()=>{$e(),Re=je=null,ye=Ue=!1},rt=()=>{const Oe=Re;He(),null==Oe||Oe.unsubscribe()};return(0,ae.e)((Oe,ut)=>{ve++,!Ue&&!ye&&$e();const Y=je=null!=je?je:ge();ut.add(()=>{ve--,0===ve&&!Ue&&!ye&&(Le=ce(rt,ie))}),Y.subscribe(ut),Re||(Re=new se.Hp({next:yt=>Y.next(yt),error:yt=>{Ue=!0,$e(),Le=ce(He,W,yt),Y.error(yt)},complete:()=>{ye=!0,$e(),Le=ce(He,K),Y.complete()}}),(0,d.D)(Oe).subscribe(Re))})(Ke)}}function ce(de,ge,...W){return!0===ge?(de(),null):!1===ge?null:ge(...W).pipe((0,j.q)(1)).subscribe(()=>de())}},9468:(vt,Se,V)=>{"use strict";V.d(Se,{R:()=>j});var d=V(4482);function j(k,se=0){return(0,d.e)((ae,Ie)=>{Ie.add(k.schedule(()=>ae.subscribe(Ie),se))})}},5698:(vt,Se,V)=>{"use strict";V.d(Se,{q:()=>se});var d=V(515),j=V(4482),k=V(5403);function se(ae){return ae<=0?()=>d.E:(0,j.e)((Ie,ce)=>{let de=0;Ie.subscribe(new k.Q(ce,ge=>{++de<=ae&&(ce.next(ge),ae<=de&&ce.complete())}))})}},8505:(vt,Se,V)=>{"use strict";V.d(Se,{b:()=>ae});var d=V(576),j=V(4482),k=V(5403),se=V(4671);function ae(Ie,ce,de){const ge=(0,d.m)(Ie)||ce||de?{next:Ie,error:ce,complete:de}:Ie;return ge?(0,j.e)((W,K)=>{var ie;null===(ie=ge.subscribe)||void 0===ie||ie.call(ge);let Ke=!0;W.subscribe(new k.Q(K,Re=>{var Le;null===(Le=ge.next)||void 0===Le||Le.call(ge,Re),K.next(Re)},()=>{var Re;Ke=!1,null===(Re=ge.complete)||void 0===Re||Re.call(ge),K.complete()},Re=>{var Le;Ke=!1,null===(Le=ge.error)||void 0===Le||Le.call(ge,Re),K.error(Re)},()=>{var Re,Le;Ke&&(null===(Re=ge.unsubscribe)||void 0===Re||Re.call(ge)),null===(Le=ge.finalize)||void 0===Le||Le.call(ge)}))}):se.y}},4408:(vt,Se,V)=>{"use strict";V.d(Se,{o:()=>ae});var d=V(727);class j extends d.w0{constructor(ce,de){super()}schedule(ce,de=0){return this}}const k={setInterval(...Ie){const{delegate:ce}=k;return((null==ce?void 0:ce.setInterval)||setInterval)(...Ie)},clearInterval(Ie){const{delegate:ce}=k;return((null==ce?void 0:ce.clearInterval)||clearInterval)(Ie)},delegate:void 0};var se=V(8737);class ae extends j{constructor(ce,de){super(ce,de),this.scheduler=ce,this.work=de,this.pending=!1}schedule(ce,de=0){if(this.closed)return this;this.state=ce;const ge=this.id,W=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(W,ge,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(W,this.id,de),this}requestAsyncId(ce,de,ge=0){return k.setInterval(ce.flush.bind(ce,this),ge)}recycleAsyncId(ce,de,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return de;k.clearInterval(de)}execute(ce,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ce,de);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,de){let W,ge=!1;try{this.work(ce)}catch(K){ge=!0,W=K||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:ce,scheduler:de}=this,{actions:ge}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ge,this),null!=ce&&(this.id=this.recycleAsyncId(de,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Se,V)=>{"use strict";V.d(Se,{v:()=>k});var d=V(6063);class j{constructor(ae,Ie=j.now){this.schedulerActionCtor=ae,this.now=Ie}schedule(ae,Ie=0,ce){return new this.schedulerActionCtor(this,ae).schedule(ce,Ie)}}j.now=d.l.now;class k extends j{constructor(ae,Ie=j.now){super(ae,Ie),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:Ie}=this;if(this._active)return void Ie.push(ae);let ce;this._active=!0;do{if(ce=ae.execute(ae.state,ae.delay))break}while(ae=Ie.shift());if(this._active=!1,ce){for(;ae=Ie.shift();)ae.unsubscribe();throw ce}}}},4986:(vt,Se,V)=>{"use strict";V.d(Se,{z:()=>k});var d=V(4408);const k=new(V(7565).v)(d.o)},6063:(vt,Se,V)=>{"use strict";V.d(Se,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(vt,Se,V)=>{"use strict";V.d(Se,{z:()=>d});const d={setTimeout(...j){const{delegate:k}=d;return((null==k?void 0:k.setTimeout)||setTimeout)(...j)},clearTimeout(j){const{delegate:k}=d;return((null==k?void 0:k.clearTimeout)||clearTimeout)(j)},delegate:void 0}},2202:(vt,Se,V)=>{"use strict";V.d(Se,{h:()=>j});const j=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Se,V)=>{"use strict";V.d(Se,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(vt,Se,V)=>{"use strict";V.d(Se,{_6:()=>Ie,jO:()=>se,yG:()=>ae});var d=V(576);function k(ce){return ce[ce.length-1]}function se(ce){return(0,d.m)(k(ce))?ce.pop():void 0}function ae(ce){return function j(ce){return ce&&(0,d.m)(ce.schedule)}(k(ce))?ce.pop():void 0}function Ie(ce,de){return"number"==typeof k(ce)?ce.pop():de}},8737:(vt,Se,V)=>{"use strict";function d(j,k){if(j){const se=j.indexOf(k);0<=se&&j.splice(se,1)}}V.d(Se,{P:()=>d})},3888:(vt,Se,V)=>{"use strict";function d(j){const se=j(ae=>{Error.call(ae),ae.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}V.d(Se,{d:()=>d})},2806:(vt,Se,V)=>{"use strict";V.d(Se,{x:()=>k,O:()=>se});var d=V(2416);let j=null;function k(ae){if(d.v.useDeprecatedSynchronousErrorHandling){const Ie=!j;if(Ie&&(j={errorThrown:!1,error:null}),ae(),Ie){const{errorThrown:ce,error:de}=j;if(j=null,ce)throw de}}else ae()}function se(ae){d.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=ae)}},9672:(vt,Se,V)=>{"use strict";function d(j,k,se,ae=0,Ie=!1){const ce=k.schedule(function(){se(),Ie?j.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(j.add(ce),!Ie)return ce}V.d(Se,{f:()=>d})},4671:(vt,Se,V)=>{"use strict";function d(j){return j}V.d(Se,{y:()=>d})},1144:(vt,Se,V)=>{"use strict";V.d(Se,{z:()=>d});const d=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(vt,Se,V)=>{"use strict";V.d(Se,{D:()=>j});var d=V(576);function j(k){return Symbol.asyncIterator&&(0,d.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(vt,Se,V)=>{"use strict";function d(j){return"function"==typeof j}V.d(Se,{m:()=>d})},3670:(vt,Se,V)=>{"use strict";V.d(Se,{c:()=>k});var d=V(8822),j=V(576);function k(se){return(0,j.m)(se[d.L])}},6495:(vt,Se,V)=>{"use strict";V.d(Se,{T:()=>k});var d=V(2202),j=V(576);function k(se){return(0,j.m)(null==se?void 0:se[d.h])}},8239:(vt,Se,V)=>{"use strict";V.d(Se,{t:()=>j});var d=V(576);function j(k){return(0,d.m)(null==k?void 0:k.then)}},3260:(vt,Se,V)=>{"use strict";V.d(Se,{Q:()=>k,L:()=>se});var d=V(5987),j=V(576);function k(ae){return(0,d.FC)(this,arguments,function*(){const ce=ae.getReader();try{for(;;){const{value:de,done:ge}=yield(0,d.qq)(ce.read());if(ge)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(de)}}finally{ce.releaseLock()}})}function se(ae){return(0,j.m)(null==ae?void 0:ae.getReader)}},4482:(vt,Se,V)=>{"use strict";V.d(Se,{A:()=>j,e:()=>k});var d=V(576);function j(se){return(0,d.m)(null==se?void 0:se.lift)}function k(se){return ae=>{if(j(ae))return ae.lift(function(Ie){try{return se(Ie,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(vt,Se,V)=>{"use strict";V.d(Se,{h:()=>k});var d=V(2416),j=V(3410);function k(se){j.z.setTimeout(()=>{const{onUnhandledError:ae}=d.v;if(!ae)throw se;ae(se)})}},4532:(vt,Se,V)=>{"use strict";function d(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Se,{z:()=>d})},5226:function(vt){vt.exports=function(){"use strict";const Se="SweetAlert2:",d=b=>b.charAt(0).toUpperCase()+b.slice(1),j=b=>Array.prototype.slice.call(b),k=b=>{console.warn("".concat(Se," ").concat("object"==typeof b?b.join(" "):b))},se=b=>{console.error("".concat(Se," ").concat(b))},ae=[],ce=(b,C)=>{(b=>{ae.includes(b)||(ae.push(b),k(b))})('"'.concat(b,'" is deprecated and will be removed in the next major release. Please use "').concat(C,'" instead.'))},de=b=>"function"==typeof b?b():b,ge=b=>b&&"function"==typeof b.toPromise,W=b=>ge(b)?b.toPromise():Promise.resolve(b),K=b=>b&&Promise.resolve(b)===b,ie={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ke=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Re={},Le=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],je=b=>Object.prototype.hasOwnProperty.call(ie,b),ve=b=>-1!==Ke.indexOf(b),ye=b=>Re[b],Ue=b=>{je(b)||k('Unknown parameter "'.concat(b,'"'))},$e=b=>{Le.includes(b)&&k('The parameter "'.concat(b,'" is incompatible with toasts'))},He=b=>{ye(b)&&ce(b,ye(b))},ut=b=>{const C={};for(const M in b)C[b[M]]="swal2-"+b[M];return C},Y=ut(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),yt=ut(["success","warning","info","question","error"]),re=()=>document.body.querySelector(".".concat(Y.container)),_e=b=>{const C=re();return C?C.querySelector(b):null},he=b=>_e(".".concat(b)),ue=()=>he(Y.popup),Ve=()=>he(Y.icon),fe=()=>he(Y.title),Pt=()=>he(Y["html-container"]),pn=()=>he(Y.image),qn=()=>he(Y["progress-steps"]),gt=()=>he(Y["validation-message"]),lt=()=>_e(".".concat(Y.actions," .").concat(Y.confirm)),nn=()=>_e(".".concat(Y.actions," .").concat(Y.deny)),lr=()=>_e(".".concat(Y.loader)),Kt=()=>_e(".".concat(Y.actions," .").concat(Y.cancel)),cr=()=>he(Y.actions),_r=()=>he(Y.footer),In=()=>he(Y["timer-progress-bar"]),an=()=>he(Y.close),li=()=>{const b=j(ue().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((M,$)=>{const xe=parseInt(M.getAttribute("tabindex")),ht=parseInt($.getAttribute("tabindex"));return xe>ht?1:xe<ht?-1:0}),C=j(ue().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(M=>"-1"!==M.getAttribute("tabindex"));return(b=>{const C=[];for(let M=0;M<b.length;M++)-1===C.indexOf(b[M])&&C.push(b[M]);return C})(b.concat(C)).filter(M=>Gt(M))},xr=()=>ct(document.body,Y.shown)&&!ct(document.body,Y["toast-shown"])&&!ct(document.body,Y["no-backdrop"]),vr=()=>ue()&&ct(ue(),Y.toast),bn={previousBodyPadding:null},rn=(b,C)=>{if(b.textContent="",C){const $=(new DOMParser).parseFromString(C,"text/html");j($.querySelector("head").childNodes).forEach(xe=>{b.appendChild(xe)}),j($.querySelector("body").childNodes).forEach(xe=>{b.appendChild(xe)})}},ct=(b,C)=>{if(!C)return!1;const M=C.split(/\s+/);for(let $=0;$<M.length;$++)if(!b.classList.contains(M[$]))return!1;return!0},gn=(b,C,M)=>{if(((b,C)=>{j(b.classList).forEach(M=>{!Object.values(Y).includes(M)&&!Object.values(yt).includes(M)&&!Object.values(C.showClass).includes(M)&&b.classList.remove(M)})})(b,C),C.customClass&&C.customClass[M]){if("string"!=typeof C.customClass[M]&&!C.customClass[M].forEach)return k("Invalid type of customClass.".concat(M,'! Expected string or iterable object, got "').concat(typeof C.customClass[M],'"'));wt(b,C.customClass[M])}},un=(b,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return b.querySelector(".".concat(Y.popup," > .").concat(Y[C]));case"checkbox":return b.querySelector(".".concat(Y.popup," > .").concat(Y.checkbox," input"));case"radio":return b.querySelector(".".concat(Y.popup," > .").concat(Y.radio," input:checked"))||b.querySelector(".".concat(Y.popup," > .").concat(Y.radio," input:first-child"));case"range":return b.querySelector(".".concat(Y.popup," > .").concat(Y.range," input"));default:return b.querySelector(".".concat(Y.popup," > .").concat(Y.input))}},Vn=b=>{if(b.focus(),"file"!==b.type){const C=b.value;b.value="",b.value=C}},ci=(b,C,M)=>{!b||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach($=>{Array.isArray(b)?b.forEach(xe=>{M?xe.classList.add($):xe.classList.remove($)}):M?b.classList.add($):b.classList.remove($)}))},wt=(b,C)=>{ci(b,C,!0)},cn=(b,C)=>{ci(b,C,!1)},er=(b,C)=>{const M=j(b.childNodes);for(let $=0;$<M.length;$++)if(ct(M[$],C))return M[$]},qr=(b,C,M)=>{M==="".concat(parseInt(M))&&(M=parseInt(M)),M||0===parseInt(M)?b.style[C]="number"==typeof M?"".concat(M,"px"):M:b.style.removeProperty(C)},It=function(b){b.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Xe=b=>{b.style.display="none"},_t=(b,C,M,$)=>{const xe=b.querySelector(C);xe&&(xe.style[M]=$)},Fr=(b,C,M)=>{C?It(b,M):Xe(b)},Gt=b=>!(!b||!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)),Xr=b=>b.scrollHeight>b.clientHeight,tr=b=>{const C=window.getComputedStyle(b),M=parseFloat(C.getPropertyValue("animation-duration")||"0"),$=parseFloat(C.getPropertyValue("transition-duration")||"0");return M>0||$>0},dn=function(b){let C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const M=In();Gt(M)&&(C&&(M.style.transition="none",M.style.width="100%"),setTimeout(()=>{M.style.transition="width ".concat(b/1e3,"s linear"),M.style.width="0%"},10))},Hn=()=>"undefined"==typeof window||"undefined"==typeof document,Te={},it=b=>new Promise(C=>{if(!b)return C();const M=window.scrollX,$=window.scrollY;Te.restoreFocusTimeout=setTimeout(()=>{Te.previousActiveElement&&Te.previousActiveElement.focus?(Te.previousActiveElement.focus(),Te.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(M,$)}),Et='\n <div aria-labelledby="'.concat(Y.title,'" aria-describedby="').concat(Y["html-container"],'" class="').concat(Y.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Y.close,'"></button>\n   <ul class="').concat(Y["progress-steps"],'"></ul>\n   <div class="').concat(Y.icon,'"></div>\n   <img class="').concat(Y.image,'" />\n   <h2 class="').concat(Y.title,'" id="').concat(Y.title,'"></h2>\n   <div class="').concat(Y["html-container"],'" id="').concat(Y["html-container"],'"></div>\n   <input class="').concat(Y.input,'" />\n   <input type="file" class="').concat(Y.file,'" />\n   <div class="').concat(Y.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Y.select,'"></select>\n   <div class="').concat(Y.radio,'"></div>\n   <label for="').concat(Y.checkbox,'" class="').concat(Y.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(Y.label,'"></span>\n   </label>\n   <textarea class="').concat(Y.textarea,'"></textarea>\n   <div class="').concat(Y["validation-message"],'" id="').concat(Y["validation-message"],'"></div>\n   <div class="').concat(Y.actions,'">\n     <div class="').concat(Y.loader,'"></div>\n     <button type="button" class="').concat(Y.confirm,'"></button>\n     <button type="button" class="').concat(Y.deny,'"></button>\n     <button type="button" class="').concat(Y.cancel,'"></button>\n   </div>\n   <div class="').concat(Y.footer,'"></div>\n   <div class="').concat(Y["timer-progress-bar-container"],'">\n     <div class="').concat(Y["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Nt=()=>{Te.currentInstance.resetValidationMessage()},L=b=>{const C=(()=>{const b=re();return!!b&&(b.remove(),cn([document.documentElement,document.body],[Y["no-backdrop"],Y["toast-shown"],Y["has-column"]]),!0)})();if(Hn())return void se("SweetAlert2 requires document to initialize");const M=document.createElement("div");M.className=Y.container,C&&wt(M,Y["no-transition"]),rn(M,Et);const $=(b=>"string"==typeof b?document.querySelector(b):b)(b.target);$.appendChild(M),(b=>{const C=ue();C.setAttribute("role",b.toast?"alert":"dialog"),C.setAttribute("aria-live",b.toast?"polite":"assertive"),b.toast||C.setAttribute("aria-modal","true")})(b),(b=>{"rtl"===window.getComputedStyle(b).direction&&wt(re(),Y.rtl)})($),(()=>{const b=ue(),C=er(b,Y.input),M=er(b,Y.file),$=b.querySelector(".".concat(Y.range," input")),xe=b.querySelector(".".concat(Y.range," output")),ht=er(b,Y.select),Ln=b.querySelector(".".concat(Y.checkbox," input")),sr=er(b,Y.textarea);C.oninput=Nt,M.onchange=Nt,ht.onchange=Nt,Ln.onchange=Nt,sr.oninput=Nt,$.oninput=()=>{Nt(),xe.value=$.value},$.onchange=()=>{Nt(),$.nextSibling.value=$.value}})()},B=(b,C)=>{b instanceof HTMLElement?C.appendChild(b):"object"==typeof b?q(b,C):b&&rn(C,b)},q=(b,C)=>{b.jquery?le(C,b):rn(C,b.toString())},le=(b,C)=>{if(b.textContent="",0 in C)for(let M=0;M in C;M++)b.appendChild(C[M].cloneNode(!0));else b.appendChild(C.cloneNode(!0))},Be=(()=>{if(Hn())return!1;const b=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const M in C)if(Object.prototype.hasOwnProperty.call(C,M)&&void 0!==b.style[M])return C[M];return!1})(),At=(b,C)=>{const M=cr(),$=lr();C.showConfirmButton||C.showDenyButton||C.showCancelButton?It(M):Xe(M),gn(M,C,"actions"),function st(b,C,M){const $=lt(),xe=nn(),ht=Kt();En($,"confirm",M),En(xe,"deny",M),En(ht,"cancel",M),function Lt(b,C,M,$){if(!$.buttonsStyling)return cn([b,C,M],Y.styled);wt([b,C,M],Y.styled),$.confirmButtonColor&&(b.style.backgroundColor=$.confirmButtonColor,wt(b,Y["default-outline"])),$.denyButtonColor&&(C.style.backgroundColor=$.denyButtonColor,wt(C,Y["default-outline"])),$.cancelButtonColor&&(M.style.backgroundColor=$.cancelButtonColor,wt(M,Y["default-outline"]))}($,xe,ht,M),M.reverseButtons&&(M.toast?(b.insertBefore(ht,$),b.insertBefore(xe,$)):(b.insertBefore(ht,C),b.insertBefore(xe,C),b.insertBefore($,C)))}(M,$,C),rn($,C.loaderHtml),gn($,C,"loader")};function En(b,C,M){Fr(b,M["show".concat(d(C),"Button")],"inline-block"),rn(b,M["".concat(C,"ButtonText")]),b.setAttribute("aria-label",M["".concat(C,"ButtonAriaLabel")]),b.className=Y[C],gn(b,M,"".concat(C,"Button")),wt(b,M["".concat(C,"ButtonClass")])}const zr=(b,C)=>{const M=re();!M||(function Gn(b,C){"string"==typeof C?b.style.background=C:C||wt([document.documentElement,document.body],Y["no-backdrop"])}(M,C.backdrop),function Yt(b,C){C in Y?wt(b,Y[C]):(k('The "position" parameter is not valid, defaulting to "center"'),wt(b,Y.center))}(M,C.position),function Lr(b,C){if(C&&"string"==typeof C){const M="grow-".concat(C);M in Y&&wt(b,Y[M])}}(M,C.grow),gn(M,C,"container"))};var bt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Ko=["input","file","range","select","radio","checkbox","textarea"],Ye=b=>{if(!Ut[b.input])return se('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(b.input,'"'));const C=Mr(b.input),M=Ut[b.input](C,b);It(M),setTimeout(()=>{Vn(M)})},sn=(b,C)=>{const M=un(ue(),b);if(M){(b=>{for(let C=0;C<b.attributes.length;C++){const M=b.attributes[C].name;["type","value","style"].includes(M)||b.removeAttribute(M)}})(M);for(const $ in C)M.setAttribute($,C[$])}},zn=b=>{const C=Mr(b.input);b.customClass&&wt(C,b.customClass.input)},Li=(b,C)=>{(!b.placeholder||C.inputPlaceholder)&&(b.placeholder=C.inputPlaceholder)},Nn=(b,C,M)=>{if(M.inputLabel){b.id=Y.input;const $=document.createElement("label"),xe=Y["input-label"];$.setAttribute("for",b.id),$.className=xe,wt($,M.customClass.inputLabel),$.innerText=M.inputLabel,C.insertAdjacentElement("beforebegin",$)}},Mr=b=>{const C=Y[b]?Y[b]:Y.input;return er(ue(),C)},Ut={};Ut.text=Ut.email=Ut.password=Ut.number=Ut.tel=Ut.url=(b,C)=>("string"==typeof C.inputValue||"number"==typeof C.inputValue?b.value=C.inputValue:K(C.inputValue)||k('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof C.inputValue,'"')),Nn(b,b,C),Li(b,C),b.type=C.input,b),Ut.file=(b,C)=>(Nn(b,b,C),Li(b,C),b),Ut.range=(b,C)=>{const M=b.querySelector("input"),$=b.querySelector("output");return M.value=C.inputValue,M.type=C.input,$.value=C.inputValue,Nn(M,b,C),b},Ut.select=(b,C)=>{if(b.textContent="",C.inputPlaceholder){const M=document.createElement("option");rn(M,C.inputPlaceholder),M.value="",M.disabled=!0,M.selected=!0,b.appendChild(M)}return Nn(b,b,C),b},Ut.radio=b=>(b.textContent="",b),Ut.checkbox=(b,C)=>{const M=un(ue(),"checkbox");M.value="1",M.id=Y.checkbox,M.checked=Boolean(C.inputValue);const $=b.querySelector("span");return rn($,C.inputPlaceholder),b},Ut.textarea=(b,C)=>{b.value=C.inputValue,Li(b,C),Nn(b,b,C);return setTimeout(()=>{if("MutationObserver"in window){const $=parseInt(window.getComputedStyle(ue()).width);new MutationObserver(()=>{const ht=b.offsetWidth+($=>parseInt(window.getComputedStyle($).marginLeft)+parseInt(window.getComputedStyle($).marginRight))(b);ue().style.width=ht>$?"".concat(ht,"px"):null}).observe(b,{attributes:!0,attributeFilter:["style"]})}}),b};const Kn=(b,C)=>{const M=Pt();gn(M,C,"htmlContainer"),C.html?(B(C.html,M),It(M,"block")):C.text?(M.textContent=C.text,It(M,"block")):Xe(M),((b,C)=>{const M=ue(),$=bt.innerParams.get(b),xe=!$||C.input!==$.input;Ko.forEach(ht=>{const Ln=Y[ht],sr=er(M,Ln);sn(ht,C.inputAttributes),sr.className=Ln,xe&&Xe(sr)}),C.input&&(xe&&Ye(C),zn(C))})(b,C)},Ii=(b,C)=>{for(const M in yt)C.icon!==M&&cn(b,yt[M]);wt(b,yt[C.icon]),fs(b,C),yo(),gn(b,C,"icon")},yo=()=>{const b=ue(),C=window.getComputedStyle(b).getPropertyValue("background-color"),M=b.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let $=0;$<M.length;$++)M[$].style.backgroundColor=C},di=(b,C)=>{b.textContent="",rn(b,C.iconHtml?Wr(C.iconHtml):"success"===C.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===C.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Wr({question:"?",warning:"!",info:"i"}[C.icon]))},fs=(b,C)=>{if(C.iconColor){b.style.color=C.iconColor,b.style.borderColor=C.iconColor;for(const M of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])_t(b,M,"backgroundColor",C.iconColor);_t(b,".swal2-success-ring","borderColor",C.iconColor)}},Wr=b=>'<div class="'.concat(Y["icon-content"],'">').concat(b,"</div>"),ti=(b,C)=>{const M=qn();if(!C.progressSteps||0===C.progressSteps.length)return Xe(M);It(M),M.textContent="",C.currentProgressStep>=C.progressSteps.length&&k("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach(($,xe)=>{const ht=(b=>{const C=document.createElement("li");return wt(C,Y["progress-step"]),rn(C,b),C})($);if(M.appendChild(ht),xe===C.currentProgressStep&&wt(ht,Y["active-progress-step"]),xe!==C.progressSteps.length-1){const Ln=(b=>{const C=document.createElement("li");return wt(C,Y["progress-step-line"]),b.progressStepsDistance&&(C.style.width=b.progressStepsDistance),C})(C);M.appendChild(Ln)}})},ps=(b,C)=>{b.className="".concat(Y.popup," ").concat(Gt(b)?C.showClass.popup:""),C.toast?(wt([document.documentElement,document.body],Y["toast-shown"]),wt(b,Y.toast)):wt(b,Y.modal),gn(b,C,"popup"),"string"==typeof C.customClass&&wt(b,C.customClass),C.icon&&wt(b,Y["icon-".concat(C.icon)])},vo=(b,C)=>{((b,C)=>{const M=re(),$=ue();C.toast?(qr(M,"width",C.width),$.style.width="100%",$.insertBefore(lr(),Ve())):qr($,"width",C.width),qr($,"padding",C.padding),C.color&&($.style.color=C.color),C.background&&($.style.background=C.background),Xe(gt()),ps($,C)})(0,C),zr(0,C),ti(0,C),((b,C)=>{const M=bt.innerParams.get(b),$=Ve();M&&C.icon===M.icon?(di($,C),Ii($,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(yt).indexOf(C.icon)?(se('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(C.icon,'"')),Xe($)):(It($),di($,C),Ii($,C),wt($,C.showClass.icon)):Xe($)})(b,C),((b,C)=>{const M=pn();if(!C.imageUrl)return Xe(M);It(M,""),M.setAttribute("src",C.imageUrl),M.setAttribute("alt",C.imageAlt),qr(M,"width",C.imageWidth),qr(M,"height",C.imageHeight),M.className=Y.image,gn(M,C,"image")})(0,C),((b,C)=>{const M=fe();Fr(M,C.title||C.titleText,"block"),C.title&&B(C.title,M),C.titleText&&(M.innerText=C.titleText),gn(M,C,"title")})(0,C),((b,C)=>{const M=an();rn(M,C.closeButtonHtml),gn(M,C,"closeButton"),Fr(M,C.showCloseButton),M.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),Kn(b,C),At(0,C),((b,C)=>{const M=_r();Fr(M,C.footer),C.footer&&B(C.footer,M),gn(M,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(ue())},hr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Au=()=>{j(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},Al=["swal-title","swal-html","swal-footer"],Sl=b=>{const C={};return j(b.querySelectorAll("swal-param")).forEach(M=>{Xi(M,["name","value"]);const $=M.getAttribute("name"),xe=M.getAttribute("value");"boolean"==typeof ie[$]&&"false"===xe&&(C[$]=!1),"object"==typeof ie[$]&&(C[$]=JSON.parse(xe))}),C},Su=b=>{const C={};return j(b.querySelectorAll("swal-button")).forEach(M=>{Xi(M,["type","color","aria-label"]);const $=M.getAttribute("type");C["".concat($,"ButtonText")]=M.innerHTML,C["show".concat(d($),"Button")]=!0,M.hasAttribute("color")&&(C["".concat($,"ButtonColor")]=M.getAttribute("color")),M.hasAttribute("aria-label")&&(C["".concat($,"ButtonAriaLabel")]=M.getAttribute("aria-label"))}),C},xl=b=>{const C={},M=b.querySelector("swal-image");return M&&(Xi(M,["src","width","height","alt"]),M.hasAttribute("src")&&(C.imageUrl=M.getAttribute("src")),M.hasAttribute("width")&&(C.imageWidth=M.getAttribute("width")),M.hasAttribute("height")&&(C.imageHeight=M.getAttribute("height")),M.hasAttribute("alt")&&(C.imageAlt=M.getAttribute("alt"))),C},xu=b=>{const C={},M=b.querySelector("swal-icon");return M&&(Xi(M,["type","color"]),M.hasAttribute("type")&&(C.icon=M.getAttribute("type")),M.hasAttribute("color")&&(C.iconColor=M.getAttribute("color")),C.iconHtml=M.innerHTML),C},$c=b=>{const C={},M=b.querySelector("swal-input");M&&(Xi(M,["type","label","placeholder","value"]),C.input=M.getAttribute("type")||"text",M.hasAttribute("label")&&(C.inputLabel=M.getAttribute("label")),M.hasAttribute("placeholder")&&(C.inputPlaceholder=M.getAttribute("placeholder")),M.hasAttribute("value")&&(C.inputValue=M.getAttribute("value")));const $=b.querySelectorAll("swal-input-option");return $.length&&(C.inputOptions={},j($).forEach(xe=>{Xi(xe,["value"]);const ht=xe.getAttribute("value");C.inputOptions[ht]=xe.innerHTML})),C},wo=(b,C)=>{const M={};for(const $ in C){const xe=C[$],ht=b.querySelector(xe);ht&&(Xi(ht,[]),M[xe.replace(/^swal-/,"")]=ht.innerHTML.trim())}return M},Us=b=>{const C=Al.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);j(b.children).forEach(M=>{const $=M.tagName.toLowerCase();-1===C.indexOf($)&&k("Unrecognized element <".concat($,">"))})},Xi=(b,C)=>{j(b.attributes).forEach(M=>{-1===C.indexOf(M.name)&&k(['Unrecognized attribute "'.concat(M.name,'" on <').concat(b.tagName.toLowerCase(),">."),"".concat(C.length?"Allowed attributes are: ".concat(C.join(", ")):"To set the value, use HTML within the element.")])})};var Yo={email:(b,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(b)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(b,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(b)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function Pu(b){(function Mu(b){b.inputValidator||Object.keys(Yo).forEach(C=>{b.input===C&&(b.inputValidator=Yo[C])})})(b),b.showLoaderOnConfirm&&!b.preConfirm&&k("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Hc(b){(!b.target||"string"==typeof b.target&&!document.querySelector(b.target)||"string"!=typeof b.target&&!b.target.appendChild)&&(k('Target parameter is not valid, defaulting to "body"'),b.target="body")}(b),"string"==typeof b.title&&(b.title=b.title.split("\n").join("<br />")),L(b)}class Gc{constructor(C,M){this.callback=C,this.remaining=M,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(C){const M=this.running;return M&&this.stop(),this.remaining+=C,M&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ml=()=>{null===bn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(bn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(bn.previousBodyPadding+(()=>{const b=document.createElement("div");b.className=Y["scrollbar-measure"],document.body.appendChild(b);const C=b.getBoundingClientRect().width-b.clientWidth;return document.body.removeChild(b),C})(),"px"))},Ou=()=>{const b=navigator.userAgent,C=!!b.match(/iPad/i)||!!b.match(/iPhone/i),M=!!b.match(/WebKit/i);if(C&&M&&!b.match(/CriOS/i)){const xe=44;ue().scrollHeight>window.innerHeight-xe&&(re().style.paddingBottom="".concat(xe,"px"))}},Aa=()=>{const b=re();let C;b.ontouchstart=M=>{C=qc(M)},b.ontouchmove=M=>{C&&(M.preventDefault(),M.stopPropagation())}},qc=b=>{const C=b.target,M=re();return!(Ti(b)||Pl(b)||C!==M&&(Xr(M)||"INPUT"===C.tagName||"TEXTAREA"===C.tagName||Xr(Pt())&&Pt().contains(C)))},Ti=b=>b.touches&&b.touches.length&&"stylus"===b.touches[0].touchType,Pl=b=>b.touches&&b.touches.length>1,Bi=b=>{const C=re(),M=ue();"function"==typeof b.willOpen&&b.willOpen(M);const xe=window.getComputedStyle(document.body).overflowY;ji(C,M,b),setTimeout(()=>{Ol(C,M)},10),xr()&&(fr(C,b.scrollbarPadding,xe),j(document.body.children).forEach(C=>{C===re()||C.contains(re())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!vr()&&!Te.previousActiveElement&&(Te.previousActiveElement=document.activeElement),"function"==typeof b.didOpen&&setTimeout(()=>b.didOpen(M)),cn(C,Y["no-transition"])},Sa=b=>{const C=ue();if(b.target!==C)return;const M=re();C.removeEventListener(Be,Sa),M.style.overflowY="auto"},Ol=(b,C)=>{Be&&tr(C)?(b.style.overflowY="hidden",C.addEventListener(Be,Sa)):b.style.overflowY="auto"},fr=(b,C,M)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ct(document.body,Y.iosfix)){const C=document.body.scrollTop;document.body.style.top="".concat(-1*C,"px"),wt(document.body,Y.iosfix),Aa(),Ou()}})(),C&&"hidden"!==M&&Ml(),setTimeout(()=>{b.scrollTop=0})},ji=(b,C,M)=>{wt(b,M.showClass.backdrop),C.style.setProperty("opacity","0","important"),It(C,"grid"),setTimeout(()=>{wt(C,M.showClass.popup),C.style.removeProperty("opacity")},10),wt([document.documentElement,document.body],Y.shown),M.heightAuto&&M.backdrop&&!M.toast&&wt([document.documentElement,document.body],Y["height-auto"])},Ai=b=>{let C=ue();C||new Bn,C=ue();const M=lr();vr()?Xe(Ve()):xa(C,b),It(M),C.setAttribute("data-loading",!0),C.setAttribute("aria-busy",!0),C.focus()},xa=(b,C)=>{const M=cr(),$=lr();!C&&Gt(lt())&&(C=lt()),It(M),C&&(Xe(C),$.setAttribute("data-button-to-replace",C.className)),$.parentNode.insertBefore($,C),wt([b,M],Y.loading)},Ma=b=>b.checked?1:0,Xo=b=>b.checked?b.value:null,zc=b=>b.files.length?null!==b.getAttribute("multiple")?b.files:b.files[0]:null,Eo=(b,C)=>{const M=ue(),$=xe=>yn[C.input](M,js(xe),C);ge(C.inputOptions)||K(C.inputOptions)?(Ai(lt()),W(C.inputOptions).then(xe=>{b.hideLoading(),$(xe)})):"object"==typeof C.inputOptions?$(C.inputOptions):se("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof C.inputOptions))},Bs=(b,C)=>{const M=b.getInput();Xe(M),W(C.inputValue).then($=>{M.value="number"===C.input?parseFloat($)||0:"".concat($),It(M),M.focus(),b.hideLoading()}).catch($=>{se("Error in inputValue promise: ".concat($)),M.value="",It(M),M.focus(),b.hideLoading()})},yn={select:(b,C,M)=>{const $=er(b,Y.select),xe=(ht,Ln,sr)=>{const jn=document.createElement("option");jn.value=sr,rn(jn,Ln),jn.selected=gs(sr,M.inputValue),ht.appendChild(jn)};C.forEach(ht=>{const Ln=ht[0],sr=ht[1];if(Array.isArray(sr)){const jn=document.createElement("optgroup");jn.label=Ln,jn.disabled=!1,$.appendChild(jn),sr.forEach(Mi=>xe(jn,Mi[1],Mi[0]))}else xe($,sr,Ln)}),$.focus()},radio:(b,C,M)=>{const $=er(b,Y.radio);C.forEach(ht=>{const Ln=ht[0],sr=ht[1],jn=document.createElement("input"),Mi=document.createElement("label");jn.type="radio",jn.name=Y.radio,jn.value=Ln,gs(Ln,M.inputValue)&&(jn.checked=!0);const Pi=document.createElement("span");rn(Pi,sr),Pi.className=Y.label,Mi.appendChild(jn),Mi.appendChild(Pi),$.appendChild(Mi)});const xe=$.querySelectorAll("input");xe.length&&xe[0].focus()}},js=b=>{const C=[];return"undefined"!=typeof Map&&b instanceof Map?b.forEach((M,$)=>{let xe=M;"object"==typeof xe&&(xe=js(xe)),C.push([$,xe])}):Object.keys(b).forEach(M=>{let $=b[M];"object"==typeof $&&($=js($)),C.push([M,$])}),C},gs=(b,C)=>C&&C.toString()===b.toString();function Wn(){const b=bt.innerParams.get(this);if(!b)return;const C=bt.domCache.get(this);Xe(C.loader),vr()?b.icon&&It(Ve()):Co(C),cn([C.popup,C.actions],Y.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const Co=b=>{const C=b.popup.getElementsByClassName(b.loader.getAttribute("data-button-to-replace"));C.length?It(C[0],"inline-block"):!Gt(lt())&&!Gt(nn())&&!Gt(Kt())&&Xe(b.actions)};var nr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ms=()=>lt()&&lt().click(),mn=b=>{b.keydownTarget&&b.keydownHandlerAdded&&(b.keydownTarget.removeEventListener("keydown",b.keydownHandler,{capture:b.keydownListenerCapture}),b.keydownHandlerAdded=!1)},$i=(b,C,M)=>{const $=li();if($.length)return(C+=M)===$.length?C=0:-1===C&&(C=$.length-1),$[C].focus();ue().focus()},Do=["ArrowRight","ArrowDown"],Kr=["ArrowLeft","ArrowUp"],vs=(b,C,M)=>{const $=bt.innerParams.get(b);!$||C.isComposing||229===C.keyCode||($.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?ts(b,C,$):"Tab"===C.key?mt(C,$):[...Do,...Kr].includes(C.key)?ws(C.key):"Escape"===C.key&&ea(C,$,M))},ts=(b,C,M)=>{if(de(M.allowEnterKey)&&C.target&&b.getInput()&&C.target.outerHTML===b.getInput().outerHTML){if(["textarea","file"].includes(M.input))return;ms(),C.preventDefault()}},mt=(b,C)=>{const M=b.target,$=li();let xe=-1;for(let ht=0;ht<$.length;ht++)if(M===$[ht]){xe=ht;break}$i(0,xe,b.shiftKey?-1:1),b.stopPropagation(),b.preventDefault()},ws=b=>{if(![lt(),nn(),Kt()].includes(document.activeElement))return;const xe=Do.includes(b)?"nextElementSibling":"previousElementSibling";let ht=document.activeElement;for(let Ln=0;Ln<cr().children.length;Ln++){if(ht=ht[xe],!ht)return;if(Gt(ht)&&ht instanceof HTMLButtonElement)break}ht instanceof HTMLButtonElement&&ht.focus()},ea=(b,C,M)=>{de(C.allowEscapeKey)&&(b.preventDefault(),M(hr.esc))};function bs(b,C,M,$){vr()?Hs(b,$):(it(M).then(()=>Hs(b,$)),mn(Te)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),xr()&&(null!==bn.previousBodyPadding&&(document.body.style.paddingRight="".concat(bn.previousBodyPadding,"px"),bn.previousBodyPadding=null),(()=>{if(ct(document.body,Y.iosfix)){const b=parseInt(document.body.style.top,10);cn(document.body,Y.iosfix),document.body.style.top="",document.body.scrollTop=-1*b}})(),Au()),function $s(){cn([document.documentElement,document.body],[Y.shown,Y["height-auto"],Y["no-backdrop"],Y["toast-shown"]])}()}function Es(b){b=Ao(b);const C=nr.swalPromiseResolve.get(this),M=Ru(this);this.isAwaitingPromise()?b.isDismissed||(qt(this),C(b)):M&&C(b)}const Ru=b=>{const C=ue();if(!C)return!1;const M=bt.innerParams.get(b);if(!M||ct(C,M.hideClass.popup))return!1;cn(C,M.showClass.popup),wt(C,M.hideClass.popup);const $=re();return cn($,M.showClass.backdrop),wt($,M.hideClass.backdrop),An(b,C,M),!0};const qt=b=>{b.isAwaitingPromise()&&(bt.awaitingPromise.delete(b),bt.innerParams.get(b)||b._destroy())},Ao=b=>void 0===b?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},b),An=(b,C,M)=>{const $=re(),xe=Be&&tr(C);"function"==typeof M.willClose&&M.willClose(C),xe?Cs(b,C,$,M.returnFocus,M.didClose):bs(b,$,M.returnFocus,M.didClose)},Cs=(b,C,M,$,xe)=>{Te.swalCloseEventFinishedCallback=bs.bind(null,b,M,$,xe),C.addEventListener(Be,function(ht){ht.target===C&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback)})},Hs=(b,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(b.params)(),b._destroy()})};function pr(b,C,M){const $=bt.domCache.get(b);C.forEach(xe=>{$[xe].disabled=M})}function Is(b,C){if(!b)return!1;if("radio"===b.type){const $=b.parentNode.parentNode.querySelectorAll("input");for(let xe=0;xe<$.length;xe++)$[xe].disabled=C}else b.disabled=C}const Hi=b=>{const C={};return Object.keys(b).forEach(M=>{ve(M)?C[M]=b[M]:k('Invalid parameter to update: "'.concat(M,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),C};const xo=b=>{zs(b),delete b.params,delete Te.keydownHandler,delete Te.keydownTarget,delete Te.currentInstance},zs=b=>{b.isAwaitingPromise()?(Ds(bt,b),bt.awaitingPromise.set(b,!0)):(Ds(nr,b),Ds(bt,b))},Ds=(b,C)=>{for(const M in b)b[M].delete(C)};var Mo=Object.freeze({hideLoading:Wn,disableLoading:Wn,getInput:function ni(b){const C=bt.innerParams.get(b||this),M=bt.domCache.get(b||this);return M?un(M.popup,C.input):null},close:Es,isAwaitingPromise:function To(){return!!bt.awaitingPromise.get(this)},rejectPromise:function Me(b){const C=nr.swalPromiseReject.get(this);qt(this),C&&C(b)},handleAwaitingPromise:qt,closePopup:Es,closeModal:Es,closeToast:Es,enableButtons:function Gs(){pr(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function ta(){pr(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Pa(){return Is(this.getInput(),!1)},disableInput:function So(){return Is(this.getInput(),!0)},showValidationMessage:function qs(b){const C=bt.domCache.get(this),M=bt.innerParams.get(this);rn(C.validationMessage,b),C.validationMessage.className=Y["validation-message"],M.customClass&&M.customClass.validationMessage&&wt(C.validationMessage,M.customClass.validationMessage),It(C.validationMessage);const $=this.getInput();$&&($.setAttribute("aria-invalid",!0),$.setAttribute("aria-describedby",Y["validation-message"]),Vn($),wt($,Y.inputerror))},resetValidationMessage:function ir(){const b=bt.domCache.get(this);b.validationMessage&&Xe(b.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),cn(C,Y.inputerror))},getProgressSteps:function hi(){return bt.domCache.get(this).progressSteps},update:function na(b){const C=ue(),M=bt.innerParams.get(this);if(!C||ct(C,M.hideClass.popup))return k("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const $=Hi(b),xe=Object.assign({},M,$);vo(this,xe),bt.innerParams.set(this,xe),Object.defineProperties(this,{params:{value:Object.assign({},this.params,b),writable:!1,enumerable:!0}})},_destroy:function Si(){const b=bt.domCache.get(this),C=bt.innerParams.get(this);C?(b.popup&&Te.swalCloseEventFinishedCallback&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback),Te.deferDisposalTimer&&(clearTimeout(Te.deferDisposalTimer),delete Te.deferDisposalTimer),"function"==typeof C.didDestroy&&C.didDestroy(),xo(this)):zs(this)}});const Zs=(b,C)=>{const M=bt.innerParams.get(b);if(!M.input)return se('The "input" parameter is needed to be set when using returnInputValueOn'.concat(d(C)));const $=((b,C)=>{const M=b.getInput();if(!M)return null;switch(C.input){case"checkbox":return Ma(M);case"radio":return Xo(M);case"file":return zc(M);default:return C.inputAutoTrim?M.value.trim():M.value}})(b,M);M.inputValidator?Oa(b,$,C):b.getInput().checkValidity()?"deny"===C?Oo(b,$):ia(b,$):(b.enableButtons(),b.showValidationMessage(M.validationMessage))},Oa=(b,C,M)=>{const $=bt.innerParams.get(b);b.disableInput(),Promise.resolve().then(()=>W($.inputValidator(C,$.validationMessage))).then(ht=>{b.enableButtons(),b.enableInput(),ht?b.showValidationMessage(ht):"deny"===M?Oo(b,C):ia(b,C)})},Oo=(b,C)=>{const M=bt.innerParams.get(b||void 0);M.showLoaderOnDeny&&Ai(nn()),M.preDeny?(bt.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>W(M.preDeny(C,M.validationMessage))).then(xe=>{!1===xe?(b.hideLoading(),qt(b)):b.closePopup({isDenied:!0,value:void 0===xe?C:xe})}).catch(xe=>Ys(b||void 0,xe))):b.closePopup({isDenied:!0,value:C})},Ks=(b,C)=>{b.closePopup({isConfirmed:!0,value:C})},Ys=(b,C)=>{b.rejectPromise(C)},ia=(b,C)=>{const M=bt.innerParams.get(b||void 0);M.showLoaderOnConfirm&&Ai(),M.preConfirm?(b.resetValidationMessage(),bt.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>W(M.preConfirm(C,M.validationMessage))).then(xe=>{Gt(gt())||!1===xe?(b.hideLoading(),qt(b)):Ks(b,void 0===xe?C:xe)}).catch(xe=>Ys(b||void 0,xe))):Ks(b,C)},ku=(b,C,M)=>{C.popup.onclick=()=>{const $=bt.innerParams.get(b);$&&(Qs($)||$.timer||$.input)||M(hr.close)}},Qs=b=>b.showConfirmButton||b.showDenyButton||b.showCancelButton||b.showCloseButton;let Ra=!1;const Rl=b=>{b.popup.onmousedown=()=>{b.container.onmouseup=function(C){b.container.onmouseup=void 0,C.target===b.container&&(Ra=!0)}}},Yn=b=>{b.container.onmousedown=()=>{b.popup.onmouseup=function(C){b.popup.onmouseup=void 0,(C.target===b.popup||b.popup.contains(C.target))&&(Ra=!0)}}},Pr=(b,C,M)=>{C.container.onclick=$=>{const xe=bt.innerParams.get(b);Ra?Ra=!1:$.target===C.container&&de(xe.allowOutsideClick)&&M(hr.backdrop)}},sa=b=>b instanceof Element||(b=>"object"==typeof b&&b.jquery)(b);const Wc=()=>{if(Te.timeout)return(()=>{const b=In(),C=parseInt(window.getComputedStyle(b).width);b.style.removeProperty("transition"),b.style.width="100%";const $=C/parseInt(window.getComputedStyle(b).width)*100;b.style.removeProperty("transition"),b.style.width="".concat($,"%")})(),Te.timeout.stop()},xi=()=>{if(Te.timeout){const b=Te.timeout.start();return dn(b),b}};let oa=!1;const Fa={};const ko=b=>{for(let C=b.target;C&&C!==document;C=C.parentNode)for(const M in Fa){const $=C.getAttribute(M);if($)return void Fa[M].fire({template:$})}};var Zc=Object.freeze({isValidParameter:je,isUpdatableParameter:ve,isDeprecatedParameter:ye,argsToParams:b=>{const C={};return"object"!=typeof b[0]||sa(b[0])?["title","html","icon"].forEach((M,$)=>{const xe=b[$];"string"==typeof xe||sa(xe)?C[M]=xe:void 0!==xe&&se("Unexpected type of ".concat(M,'! Expected "string" or "Element", got ').concat(typeof xe))}):Object.assign(C,b[0]),C},isVisible:()=>Gt(ue()),clickConfirm:ms,clickDeny:()=>nn()&&nn().click(),clickCancel:()=>Kt()&&Kt().click(),getContainer:re,getPopup:ue,getTitle:fe,getHtmlContainer:Pt,getImage:pn,getIcon:Ve,getInputLabel:()=>he(Y["input-label"]),getCloseButton:an,getActions:cr,getConfirmButton:lt,getDenyButton:nn,getCancelButton:Kt,getLoader:lr,getFooter:_r,getTimerProgressBar:In,getFocusableElements:li,getValidationMessage:gt,isLoading:()=>ue().hasAttribute("data-loading"),fire:function ka(){const b=this;for(var C=arguments.length,M=new Array(C),$=0;$<C;$++)M[$]=arguments[$];return new b(...M)},mixin:function Fu(b){return class C extends(this){_main($,xe){return super._main($,Object.assign({},b,xe))}}},showLoading:Ai,enableLoading:Ai,getTimerLeft:()=>Te.timeout&&Te.timeout.getTimerLeft(),stopTimer:Wc,resumeTimer:xi,toggleTimer:()=>{const b=Te.timeout;return b&&(b.running?Wc():xi())},increaseTimer:b=>{if(Te.timeout){const C=Te.timeout.increase(b);return dn(C,!0),C}},isTimerRunning:()=>Te.timeout&&Te.timeout.isRunning(),bindClickHandler:function Sn(){Fa[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,oa||(document.body.addEventListener("click",ko),oa=!0)}});let La;class fi{constructor(){if("undefined"==typeof window)return;La=this;for(var C=arguments.length,M=new Array(C),$=0;$<C;$++)M[$]=arguments[$];const xe=Object.freeze(this.constructor.argsToParams(M));Object.defineProperties(this,{params:{value:xe,writable:!1,enumerable:!0,configurable:!0}});const ht=this._main(this.params);bt.promise.set(this,ht)}_main(C){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(b=>{!b.backdrop&&b.allowOutsideClick&&k('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in b)Ue(C),b.toast&&$e(C),He(C)})(Object.assign({},M,C)),Te.currentInstance&&(Te.currentInstance._destroy(),xr()&&Au()),Te.currentInstance=this;const $=No(C,M);Pu($),Object.freeze($),Te.timeout&&(Te.timeout.stop(),delete Te.timeout),clearTimeout(Te.restoreFocusTimeout);const xe=Va(this);return vo(this,$),bt.innerParams.set(this,$),aa(this,xe,$)}then(C){return bt.promise.get(this).then(C)}finally(C){return bt.promise.get(this).finally(C)}}const aa=(b,C,M)=>new Promise(($,xe)=>{const ht=Ln=>{b.closePopup({isDismissed:!0,dismiss:Ln})};nr.swalPromiseResolve.set(b,$),nr.swalPromiseReject.set(b,xe),C.confirmButton.onclick=()=>(b=>{const C=bt.innerParams.get(b);b.disableButtons(),C.input?Zs(b,"confirm"):ia(b,!0)})(b),C.denyButton.onclick=()=>(b=>{const C=bt.innerParams.get(b);b.disableButtons(),C.returnInputValueOnDeny?Zs(b,"deny"):Oo(b,!1)})(b),C.cancelButton.onclick=()=>((b,C)=>{b.disableButtons(),C(hr.cancel)})(b,ht),C.closeButton.onclick=()=>ht(hr.close),((b,C,M)=>{bt.innerParams.get(b).toast?ku(b,C,M):(Rl(C),Yn(C),Pr(b,C,M))})(b,C,ht),((b,C,M,$)=>{mn(C),M.toast||(C.keydownHandler=xe=>vs(b,xe,$),C.keydownTarget=M.keydownListenerCapture?window:ue(),C.keydownListenerCapture=M.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(b,Te,M,ht),((b,C)=>{"select"===C.input||"radio"===C.input?Eo(b,C):["text","email","number","tel","textarea"].includes(C.input)&&(ge(C.inputValue)||K(C.inputValue))&&(Ai(lt()),Bs(b,C))})(b,M),Bi(M),_h(Te,M,ht),Kc(C,M),setTimeout(()=>{C.container.scrollTop=0})}),No=(b,C)=>{const M=(b=>{const C="string"==typeof b.template?document.querySelector(b.template):b.template;if(!C)return{};const M=C.content;return Us(M),Object.assign(Sl(M),Su(M),xl(M),xu(M),$c(M),wo(M,Al))})(b),$=Object.assign({},ie,C,M,b);return $.showClass=Object.assign({},ie.showClass,$.showClass),$.hideClass=Object.assign({},ie.hideClass,$.hideClass),$},Va=b=>{const C={popup:ue(),container:re(),actions:cr(),confirmButton:lt(),denyButton:nn(),cancelButton:Kt(),loader:lr(),closeButton:an(),validationMessage:gt(),progressSteps:qn()};return bt.domCache.set(b,C),C},_h=(b,C,M)=>{const $=In();Xe($),C.timer&&(b.timeout=new Gc(()=>{M("timer"),delete b.timeout},C.timer),C.timerProgressBar&&(It($),gn($,C,"timerProgressBar"),setTimeout(()=>{b.timeout&&b.timeout.running&&dn(C.timer)})))},Kc=(b,C)=>{if(!C.toast){if(!de(C.allowEnterKey))return Un();Ua(b,C)||$i(0,-1,1)}},Ua=(b,C)=>C.focusDeny&&Gt(b.denyButton)?(b.denyButton.focus(),!0):C.focusCancel&&Gt(b.cancelButton)?(b.cancelButton.focus(),!0):!(!C.focusConfirm||!Gt(b.confirmButton)||(b.confirmButton.focus(),0)),Un=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(fi.prototype,Mo),Object.assign(fi,Zc),Object.keys(Mo).forEach(b=>{fi[b]=function(){if(La)return La[b](...arguments)}}),fi.DismissReason=hr,fi.version="11.4.7";const Bn=fi;return Bn.default=Bn,Bn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Se,V){var d=Se.createElement("style");if(Se.getElementsByTagName("head")[0].appendChild(d),d.styleSheet)d.styleSheet.disabled||(d.styleSheet.cssText=V);else try{d.innerHTML=V}catch(j){d.innerText=V}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},5987:(vt,Se,V)=>{"use strict";function de(re,_e,he,ue){return new(he||(he=Promise))(function(fe,Pt){function pn(lt){try{gt(ue.next(lt))}catch(nn){Pt(nn)}}function qn(lt){try{gt(ue.throw(lt))}catch(nn){Pt(nn)}}function gt(lt){lt.done?fe(lt.value):function Ve(fe){return fe instanceof he?fe:new he(function(Pt){Pt(fe)})}(lt.value).then(pn,qn)}gt((ue=ue.apply(re,_e||[])).next())})}function ve(re){return this instanceof ve?(this.v=re,this):new ve(re)}function ye(re,_e,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,ue=he.apply(re,_e||[]),fe=[];return Ve={},Pt("next"),Pt("throw"),Pt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function Pt(wn){ue[wn]&&(Ve[wn]=function(lr){return new Promise(function(Kt,cr){fe.push([wn,lr,Kt,cr])>1||pn(wn,lr)})})}function pn(wn,lr){try{!function qn(wn){wn.value instanceof ve?Promise.resolve(wn.value.v).then(gt,lt):nn(fe[0][2],wn)}(ue[wn](lr))}catch(Kt){nn(fe[0][3],Kt)}}function gt(wn){pn("next",wn)}function lt(wn){pn("throw",wn)}function nn(wn,lr){wn(lr),fe.shift(),fe.length&&pn(fe[0][0],fe[0][1])}}function $e(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,_e=re[Symbol.asyncIterator];return _e?_e.call(re):(re=function ie(re){var _e="function"==typeof Symbol&&Symbol.iterator,he=_e&&re[_e],ue=0;if(he)return he.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&ue>=re.length&&(re=void 0),{value:re&&re[ue++],done:!re}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),he={},ue("next"),ue("throw"),ue("return"),he[Symbol.asyncIterator]=function(){return this},he);function ue(fe){he[fe]=re[fe]&&function(Pt){return new Promise(function(pn,qn){!function Ve(fe,Pt,pn,qn){Promise.resolve(qn).then(function(gt){fe({value:gt,done:pn})},Pt)}(pn,qn,(Pt=re[fe](Pt)).done,Pt.value)})}}}V.d(Se,{mG:()=>de,qq:()=>ve,FC:()=>ye,KL:()=>$e})},5e3:(vt,Se,V)=>{"use strict";V.d(Se,{deG:()=>Ha,tb:()=>Pb,AFp:()=>Lc,ip1:()=>Zf,CZH:()=>Fc,hGG:()=>dh,z2F:()=>Vc,sBO:()=>lv,Sil:()=>Kf,_Vd:()=>Kd,EJc:()=>kb,SBq:()=>Ar,qLn:()=>$h,vpe:()=>Ia,tBr:()=>Vr,XFs:()=>ct,OlP:()=>Cn,zs3:()=>Yi,ZZ4:()=>fm,aQg:()=>pm,soG:()=>oh,YKP:()=>lb,h0i:()=>Tc,PXZ:()=>$b,R0b:()=>ui,FiY:()=>xn,Lbi:()=>Q_,g9A:()=>Y_,Qsj:()=>_l,FYo:()=>Rg,JOm:()=>ya,tp0:()=>xs,Rgc:()=>Vf,dDg:()=>um,q4F:()=>vl,GfV:()=>kf,s_b:()=>Uf,ifc:()=>It,eFA:()=>Gb,G48:()=>uv,Gpc:()=>K,X6Q:()=>oD,_c5:()=>Ev,VLi:()=>nv,c2e:()=>Rb,zSh:()=>gy,wAp:()=>Tt,vHH:()=>Le,cg1:()=>Df,kL8:()=>o_,dqk:()=>Ct,sIi:()=>df,CqO:()=>$r,QGY:()=>sl,F4k:()=>m0,RDi:()=>zc,AaK:()=>de,qOj:()=>Rd,TTD:()=>es,_Bn:()=>Of,xp6:()=>eu,uIk:()=>ff,ekj:()=>yc,Suo:()=>Zg,Xpm:()=>Nt,lG2:()=>le,Yz7:()=>Kt,cJS:()=>_r,oAB:()=>L,Yjl:()=>Be,Y36:()=>mf,_UZ:()=>Vy,qZA:()=>Rt,TgZ:()=>mr,n5z:()=>ja,LFG:()=>ee,$8M:()=>gr,$Z:()=>Ly,NdJ:()=>Uy,CRH:()=>$f,oxw:()=>jd,Q6J:()=>Zt,s9C:()=>pc,WLB:()=>T_,iGM:()=>Pc,MAs:()=>xy,LSH:()=>x,YNc:()=>Sy,_uU:()=>gu,Oqu:()=>ll,hij:()=>bg});var d=V(7579),j=V(727),k=V(8306),se=V(6451),ae=V(3099);function Ie(i){for(let s in i)if(i[s]===Ie)return s;throw Error("Could not find renamed property on target object.")}function ce(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ge(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const W=Ie({__forward_ref__:Ie});function K(i){return i.__forward_ref__=K,i.toString=function(){return de(this())},i}function ie(i){return Ke(i)?i():i}function Ke(i){return"function"==typeof i&&i.hasOwnProperty(W)&&i.__forward_ref__===K}class Le extends Error{constructor(s,a){super(function je(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function ve(i){return"string"==typeof i?i:null==i?"":String(i)}function ye(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ve(i)}function rt(i,s){const a=s?` in ${s}`:"";throw new Le(-201,`No provider for ${ye(i)} found${a}`)}function gt(i,s){null==i&&function lt(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Kt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function _r(i){return{providers:i.providers||[],imports:i.imports||[]}}function In(i){return an(i,vr)||an(i,bn)}function an(i,s){return i.hasOwnProperty(s)?i[s]:null}function xr(i){return i&&(i.hasOwnProperty(ke)||i.hasOwnProperty(rn))?i[ke]:null}const vr=Ie({\u0275prov:Ie}),ke=Ie({\u0275inj:Ie}),bn=Ie({ngInjectableDef:Ie}),rn=Ie({ngInjectorDef:Ie});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let kn;function un(i){const s=kn;return kn=i,s}function Vn(i,s,a){const l=In(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ct.Optional?null:void 0!==s?s:void rt(de(i),"Injector")}function wt(i){return{toString:i}.toString()}var cn=(()=>((cn=cn||{})[cn.OnPush=0]="OnPush",cn[cn.Default=1]="Default",cn))(),It=(()=>{return(i=It||(It={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",It;var i})();const Xe="undefined"!=typeof globalThis&&globalThis,_t="undefined"!=typeof window&&window,Fr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct=Xe||"undefined"!=typeof global&&global||_t||Fr,dn={},dt=[],Hn=Ie({\u0275cmp:Ie}),Wt=Ie({\u0275dir:Ie}),Te=Ie({\u0275pipe:Ie}),Ae=Ie({\u0275mod:Ie}),it=Ie({\u0275fac:Ie}),Et=Ie({__NG_ELEMENT_ID__:Ie});let en=0;function Nt(i){return wt(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||dt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||It.Emulated,id:"c",styles:i.styles||dt,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,p=i.features,y=i.pipes;return l.id+=en++,l.inputs=q(i.inputs,a),l.outputs=q(i.outputs),p&&p.forEach(v=>v(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(G):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(Q):null,l})}function G(i){return Ze(i)||function At(i){return i[Wt]||null}(i)}function Q(i){return function st(i){return i[Te]||null}(i)}const we={};function L(i){return wt(()=>{const s={type:i.type,bootstrap:i.bootstrap||dt,declarations:i.declarations||dt,imports:i.imports||dt,exports:i.exports||dt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(we[i.id]=i.type),s})}function q(i,s){if(null==i)return dn;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),a[c]=l,s&&(s[c]=p)}return a}const le=Nt;function Be(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ze(i){return i[Hn]||null}function Lt(i,s){const a=i[Ae]||null;if(!a&&!0===s)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return a}function ti(i){return Array.isArray(i)&&"object"==typeof i[1]}function Di(i){return Array.isArray(i)&&!0===i[1]}function dr(i){return 0!=(8&i.flags)}function ps(i){return 2==(2&i.flags)}function vo(i){return 1==(1&i.flags)}function hr(i){return null!==i.template}function Tl(i){return 0!=(512&i[2])}function Ti(i,s){return i.hasOwnProperty(it)?i[it]:null}class Pl{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function es(){return Ui}function Ui(i){return i.type.prototype.ngOnChanges&&(i.setInput=Sa),Bi}function Bi(){const i=fr(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===dn)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Sa(i,s,a,l){const c=fr(i)||function ji(i,s){return i[Ol]=s}(i,{previous:dn,current:null}),p=c.current||(c.current={}),y=c.previous,v=this.declaredInputs[a],I=y[v];p[v]=new Pl(I&&I.currentValue,s,y===dn),i[l]=s}es.ngInherit=!0;const Ol="__ngSimpleChanges__";function fr(i){return i[Ol]||null}let Xo;function zc(i){Xo=i}function yn(i){return!!i.listen}const js={createRenderer:(i,s)=>function Eo(){return void 0!==Xo?Xo:"undefined"!=typeof document?document:void 0}()};function Wn(i){for(;Array.isArray(i);)i=i[0];return i}function nr(i,s){return Wn(s[i])}function Er(i,s){return Wn(s[i.index])}function Io(i,s){return i.data[s]}function mn(i,s){const a=s[i];return ti(a)?a:a[0]}function _s(i){return 4==(4&i[2])}function $i(i){return 128==(128&i[2])}function Kr(i,s){return null==s?null:i[s]}function vs(i){i[18]=0}function ts(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const mt={lFrame:ia(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Es(){return mt.bindingsEnabled}function Me(){return mt.lFrame.lView}function qt(){return mt.lFrame.tView}function An(){let i=Cs();for(;null!==i&&64===i.type;)i=i.parent;return i}function Cs(){return mt.lFrame.currentTNode}function pr(i,s){const a=mt.lFrame;a.currentTNode=i,a.isParent=s}function Is(){return mt.lFrame.isParent}function So(){return mt.isInCheckNoChangesMode}function qs(i){mt.isInCheckNoChangesMode=i}function Hi(){return mt.lFrame.bindingIndex++}function Ds(i,s){const a=mt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Po(s)}function Po(i){mt.lFrame.currentDirectiveIndex=i}function ra(){return mt.lFrame.currentQueryIndex}function Zs(i){mt.lFrame.currentQueryIndex=i}function Oa(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Oo(i,s,a){if(a&ct.SkipSelf){let c=s,p=i;for(;!(c=c.parent,null!==c||a&ct.Host||(c=Oa(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;s=c,i=p}const l=mt.lFrame=Ys();return l.currentTNode=s,l.lView=i,!0}function Ks(i){const s=Ys(),a=i[1];mt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Ys(){const i=mt.lFrame,s=null===i?null:i.child;return null===s?ia(i):s}function ia(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Ro(){const i=mt.lFrame;return mt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ku=Ro;function Qs(){const i=Ro();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Yn(){return mt.lFrame.selectedIndex}function Pr(i){mt.lFrame.selectedIndex=i}function Fn(){const i=mt.lFrame;return Io(i.tView,i.selectedIndex)}function xi(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:P}=p;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=P&&(i.destroyHooks||(i.destroyHooks=[])).push(a,P)}}function Na(i,s,a){oa(i,s,3,a)}function Js(i,s,a,l){(3&i[2])===a&&oa(i,s,a,l)}function Lu(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function oa(i,s,a,l){const p=null!=l?l:-1,y=s.length-1;let v=0;for(let I=void 0!==l?65535&i[18]:0;I<y;I++)if("number"==typeof s[I+1]){if(v=s[I],null!=l&&v>=l)break}else s[I]<0&&(i[18]+=65536),(v<p||-1==p)&&(Fa(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function Fa(i,s,a,l){const c=a[l]<0,p=a[l+1],v=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(v)}finally{}}}else try{p.call(v)}finally{}}class ko{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ua(i,s,a){const l=yn(i);let c=0;for(;c<a.length;){const p=a[c];if("number"==typeof p){if(0!==p)break;c++;const y=a[c++],v=a[c++],I=a[c++];l?i.setAttribute(s,v,I,y):s.setAttributeNS(y,v,I)}else{const y=p,v=a[++c];Bn(y)?l&&i.setProperty(s,y,v):l?i.setAttribute(s,y,v):s.setAttribute(y,v),c++}}return c}function Un(i){return 3===i||4===i||6===i}function Bn(i){return 64===i.charCodeAt(0)}function b(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||C(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function C(i,s,a,l,c){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const v=i[p++];if("number"==typeof v){if(v===s){y=-1;break}if(v>s){y=p-1;break}}}for(;p<i.length;){const v=i[p];if("number"==typeof v)break;if(v===a){if(null===l)return void(null!==c&&(i[p+1]=c));if(l===i[p+1])return void(i[p+2]=c)}p++,null!==l&&p++,null!==c&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==c&&i.splice(p++,0,c)}function M(i){return-1!==i}function $(i){return 32767&i}function ht(i,s){let a=function xe(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let Ln=!0;function sr(i){const s=Ln;return Ln=i,s}let Jt=0;function Ba(i,s){const a=Xs(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,ua(l.data,i),ua(s,null),ua(l.blueprint,null));const c=Or(i,s),p=i.injectorIndex;if(M(c)){const y=$(c),v=ht(c,s),I=v[1].data;for(let S=0;S<8;S++)s[p+S]=v[y+S]|I[y+S]}return s[p+8]=c,p}function ua(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Xs(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Or(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){const p=c[1],y=p.type;if(l=2===y?p.declTNode:1===y?c[6]:null,null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Ts(i,s,a){!function vh(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Et)&&(l=a[Et]),null==l&&(l=a[Et]=Jt++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function ns(i,s,a){if(a&ct.Optional)return i;rt(s,"NodeInjector")}function Vu(i,s,a,l){if(a&ct.Optional&&void 0===l&&(l=null),0==(a&(ct.Self|ct.Host))){const c=i[9],p=un(void 0);try{return c?c.get(s,l,a&ct.Optional):Vn(s,l,a&ct.Optional)}finally{un(p)}}return ns(l,s,a)}function Nl(i,s,a,l=ct.Default,c){if(null!==i){const p=function bh(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Et)?i[Et]:void 0;return"number"==typeof s?s>=0?255&s:la:s}(a);if("function"==typeof p){if(!Oo(s,i,l))return l&ct.Host?ns(c,a,l):Vu(s,a,l,c);try{const y=p(l);if(null!=y||l&ct.Optional)return y;rt(a)}finally{ku()}}else if("number"==typeof p){let y=null,v=Xs(i,s),I=-1,S=l&ct.Host?s[16][6]:null;for((-1===v||l&ct.SkipSelf)&&(I=-1===v?Or(i,s):s[v+8],-1!==I&&Fl(l,!1)?(y=s[1],v=$(I),s=ht(I,s)):v=-1);-1!==v;){const P=s[1];if(Gi(p,v,P.data)){const U=wh(v,s,a,y,l,S);if(U!==Fo)return U}I=s[v+8],-1!==I&&Fl(l,s[1].data[v+8]===S)&&Gi(p,v,s)?(y=P,v=$(I),s=ht(I,s)):v=-1}}}return Vu(s,a,l,c)}const Fo={};function la(){return new tn(An(),Me())}function wh(i,s,a,l,c,p){const y=s[1],v=y.data[i+8],P=Oi(v,y,a,null==l?ps(v)&&Ln:l!=y&&0!=(3&v.type),c&ct.Host&&p===v);return null!==P?rs(s,y,P,v):Fo}function Oi(i,s,a,l,c){const p=i.providerIndexes,y=s.data,v=1048575&p,I=i.directiveStart,P=p>>20,z=c?v+P:i.directiveEnd;for(let te=l?v:v+P;te<z;te++){const me=y[te];if(te<I&&a===me||te>=I&&me.type===a)return te}if(c){const te=y[I];if(te&&hr(te)&&te.type===a)return I}return null}function rs(i,s,a,l){let c=i[a];const p=s.data;if(function Zc(i){return i instanceof ko}(c)){const y=c;y.resolving&&function Ue(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Le(-200,`Circular dependency in DI detected for ${i}${a}`)}(ye(p[a]));const v=sr(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?un(y.injectImpl):null;Oo(i,l,ct.Default);try{c=i[a]=y.factory(void 0,p,i,l),s.firstCreatePass&&a>=l.directiveStart&&function Wc(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:p}=s.type.prototype;if(l){const y=Ui(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==I&&un(I),sr(v),y.resolving=!1,ku()}}return c}function Gi(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Fl(i,s){return!(i&ct.Self||i&ct.Host&&s)}class tn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Nl(this._tNode,this._lView,s,l,a)}}function ja(i){return wt(()=>{const s=i.prototype.constructor,a=s[it]||$a(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const p=c[it]||$a(c);if(p&&p!==a)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function $a(i){return Ke(i)?()=>{const s=$a(ie(i));return s&&s()}:Ti(i)}function gr(i){return function Yc(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const p=a[c];if(Un(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(p===s)return a[c+1];c+=2}}}return null}(An(),i)}const qi="__parameters__";function Cr(i,s,a){return wt(()=>{const l=function zi(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...p){if(this instanceof c)return l.apply(this,p),this;const y=new c(...p);return v.annotation=y,v;function v(I,S,P){const U=I.hasOwnProperty(qi)?I[qi]:Object.defineProperty(I,qi,{value:[]})[qi];for(;U.length<=P;)U.push(null);return(U[P]=U[P]||[]).push(y),I}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Cn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Kt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ha=new Cn("AnalyzeForEntryComponents");function pi(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),pi(l,s)):s!==i&&s.push(l)}return s}function ss(i,s){i.forEach(a=>Array.isArray(a)?ss(a,s):s(a))}function Uu(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ga(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function St(i,s,a){let l=gi(i,s);return l>=0?i[1|l]=a:(l=~l,function Ll(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function qa(i,s){const a=gi(i,s);if(a>=0)return i[1|a]}function gi(i,s){return function Vl(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const p=l+(c-l>>1),y=i[p<<a];if(s===y)return p<<a;y>s?c=p:l=p+1}return~(c<<a)}(i,s,1)}const ar={},$u="__NG_DI_FLAG__",ga="ngTempTokenPath",td=/\n/gm,jl="__source",D=Ie({provide:String,useValue:Ie});let T;function O(i){const s=T;return T=i,s}function H(i,s=ct.Default){if(void 0===T)throw new Le(203,"");return null===T?Vn(i,void 0,s):T.get(i,s&ct.Optional?null:void 0,s)}function ee(i,s=ct.Default){return(function gn(){return kn}()||H)(ie(i),s)}function ot(i){const s=[];for(let a=0;a<i.length;a++){const l=ie(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Le(900,"");let c,p=ct.Default;for(let y=0;y<l.length;y++){const v=l[y],I=kt(v);"number"==typeof I?-1===I?c=v.token:p|=I:c=v}s.push(ee(c,p))}else s.push(ee(l))}return s}function Dt(i,s){return i[$u]=s,i.prototype[$u]=s,i}function kt(i){return i[$u]}const Vr=Dt(Cr("Inject",i=>({token:i})),-1),xn=Dt(Cr("Optional"),8),xs=Dt(Cr("SkipSelf"),4);class ld{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function io(i){return i instanceof ld?i.changingThisBreaksApplicationSecurity:i}const Om=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var f=(()=>((f=f||{})[f.NONE=0]="NONE",f[f.HTML=1]="HTML",f[f.STYLE=2]="STYLE",f[f.SCRIPT=3]="SCRIPT",f[f.URL=4]="URL",f[f.RESOURCE_URL=5]="RESOURCE_URL",f))();function x(i){const s=function Dr(){const i=Me();return i&&i[12]}();return s?s.sanitize(f.URL,i)||"":function ql(i,s){const a=function Am(i){return i instanceof ld&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?io(i):function hd(i){return(i=String(i)).match(Om)||i.match(qu)?i:"unsafe:"+i}(ve(i))}const Zu="__ngContext__";function Ur(i,s){i[Zu]=s}function gd(i){const s=function Qa(i){return i[Zu]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Nm(i){return i.ngOriginalError}function jh(i,...s){i.error(...s)}class $h{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function WE(i){return i&&i.ngErrorLogger||jh}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Nm(s);for(;a&&Nm(a);)a=Nm(a);return a||null}}const Qv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ct))();function Ja(i){return i instanceof Function?i():i}var ya=(()=>((ya=ya||{})[ya.Important=1]="Important",ya[ya.DashCase=2]="DashCase",ya))();function Vm(i,s){return undefined(i,s)}function Jl(i){const s=i[3];return Di(s)?s[3]:s}function Um(i){return Bm(i[13])}function Hh(i){return Bm(i[4])}function Bm(i){for(;null!==i&&!Di(i);)i=i[4];return i}function _d(i,s,a,l,c){if(null!=l){let p,y=!1;Di(l)?p=l:ti(l)&&(y=!0,l=l[0]);const v=Wn(l);0===i&&null!==a?null==c?Ku(s,a,v):vd(s,a,v,c||null,!0):1===i&&null!==a?vd(s,a,v,c||null,!0):2===i?function cw(i,s,a){const l=Ap(i,s);l&&function hC(i,s,a,l){yn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,v,y):3===i&&s.destroyNode(v),null!=p&&function fC(i,s,a,l,c){const p=a[7];p!==Wn(a)&&_d(s,i,l,p,c);for(let v=10;v<a.length;v++){const I=a[v];Gh(I[1],I,i,s,l,p)}}(s,i,p,a,c)}}function $m(i,s,a){return yn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function Xl(i,s){const a=i[9],l=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,ts(c,-1)),a.splice(l,1)}function qm(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&Xl(c,l),s>0&&(i[a-1][4]=l[4]);const p=Ga(i,10+s);!function lC(i,s){Gh(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=p[19];null!==y&&y.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function rw(i,s){if(!(256&s[2])){const a=s[11];yn(a)&&a.destroyNode&&Gh(i,s,a,3,null,null),function Ip(i){let s=i[13];if(!s)return Dp(i[1],i);for(;s;){let a=null;if(ti(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)ti(s)&&Dp(s[1],s),s=s[3];null===s&&(s=i),ti(s)&&Dp(s[1],s),a=s&&s[4]}s=a}}(s)}}function Dp(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function iw(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof ko)){const p=a[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const v=c[p[y]],I=p[y+1];try{I.call(v)}finally{}}else try{p.call(c)}finally{}}}}(i,s),function dC(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],v="function"==typeof y?y(s):Wn(s[y]),I=l[c=a[p+2]],S=a[p+3];"boolean"==typeof S?v.removeEventListener(a[p],I,S):S>=0?l[c=S]():l[c=-S].unsubscribe(),p+=2}else{const y=l[c=a[p+1]];a[p].call(y)}if(null!==l){for(let p=c+1;p<l.length;p++)l[p]();s[7]=null}}(i,s),1===s[1].type&&yn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Di(s[3])){a!==s[3]&&Xl(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function zm(i,s,a){return function Tp(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===It.None||c===It.Emulated)return null}return Er(l,a)}(i,s.parent,a)}function vd(i,s,a,l,c){yn(i)?i.insertBefore(s,a,l,c):s.insertBefore(a,l,c)}function Ku(i,s,a){yn(i)?i.appendChild(s,a):s.appendChild(a)}function Wm(i,s,a,l,c){null!==l?vd(i,s,a,l,c):Ku(i,s,a)}function Ap(i,s){return yn(i)?i.parentNode(s):s.parentNode}let uw=function aw(i,s,a){return 40&i.type?Er(i,a):null};function xp(i,s,a,l){const c=zm(i,l,s),p=s[11],v=function ow(i,s,a){return uw(i,s,a)}(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let I=0;I<a.length;I++)Wm(p,c,a[I],v,!1);else Wm(p,c,a,v,!1)}function Mp(i,s){if(null!==s){const a=s.type;if(3&a)return Er(s,i);if(4&a)return Zm(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Mp(i,l);{const c=i[s.index];return Di(c)?Zm(-1,c):Wn(c)}}if(32&a)return Vm(s,i)()||Wn(i[s.index]);{const l=Pp(i,s);return null!==l?Array.isArray(l)?l[0]:Mp(Jl(i[16]),l):Mp(i,s.next)}}return null}function Pp(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Zm(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return Mp(l,c)}return s[7]}function Op(i,s,a,l,c,p,y){for(;null!=a;){const v=l[a.index],I=a.type;if(y&&0===s&&(v&&Ur(Wn(v),l),a.flags|=4),64!=(64&a.flags))if(8&I)Op(i,s,a.child,l,c,p,!1),_d(s,i,c,v,p);else if(32&I){const S=Vm(a,l);let P;for(;P=S();)_d(s,i,c,P,p);_d(s,i,c,v,p)}else 16&I?dw(i,s,l,a,c,p):_d(s,i,c,v,p);a=y?a.projectionNext:a.next}}function Gh(i,s,a,l,c,p){Op(a,l,i.firstChild,s,c,p,!1)}function dw(i,s,a,l,c,p){const y=a[16],I=y[6].projection[l.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)_d(s,i,c,I[S],p);else Op(i,s,I,y[3],c,p,!0)}function hw(i,s,a){yn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Km(i,s,a){yn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function fw(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const p=s.length;if(c+p===l||i.charCodeAt(c+p)<=32)return c}a=c+1}}const pw="ng-template";function gC(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==fw(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function gw(i){return 4===i.type&&i.value!==pw}function mC(i,s,a){return s===(4!==i.type||a?i.value:pw)}function De(i,s,a){let l=4;const c=i.attrs||[],p=function Ym(i){for(let s=0;s<i.length;s++)if(Un(i[s]))return s;return i.length}(c);let y=!1;for(let v=0;v<s.length;v++){const I=s[v];if("number"!=typeof I){if(!y)if(4&l){if(l=2|1&l,""!==I&&!mC(i,I,a)||""===I&&1===s.length){if(Bo(l))return!1;y=!0}}else{const S=8&l?I:s[++v];if(8&l&&null!==i.attrs){if(!gC(i.attrs,S,a)){if(Bo(l))return!1;y=!0}continue}const U=mw(8&l?"class":I,c,gw(i),a);if(-1===U){if(Bo(l))return!1;y=!0;continue}if(""!==S){let z;z=U>p?"":c[U+1].toLowerCase();const te=8&l?z:null;if(te&&-1!==fw(te,S,0)||2&l&&S!==z){if(Bo(l))return!1;y=!0}}}}else{if(!y&&!Bo(l)&&!Bo(I))return!1;if(y&&Bo(I))continue;y=!1,l=I|1&l}}return Bo(l)||y}function Bo(i){return 0==(1&i)}function mw(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let p=!1;for(;c<s.length;){const y=s[c];if(y===i)return c;if(3===y||6===y)p=!0;else{if(1===y||2===y){let v=s[++c];for(;"string"==typeof v;)v=s[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=p?1:2}return-1}return function yC(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function yw(i,s,a=!1){for(let l=0;l<s.length;l++)if(De(i,s[l],a))return!0;return!1}function ao(i,s){return i?":not("+s.trim()+")":s}function AT(i){let s=i[0],a=1,l=2,c="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const v=i[++a];c+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!Bo(y)&&(s+=ao(p,c),c=""),l=y,p=p||!Bo(l);a++}return""!==c&&(s+=ao(p,c)),s}const $t={};function eu(i){on(qt(),Me(),Yn()+i,So())}function on(i,s,a,l){if(!l)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Na(s,p,a)}else{const p=i.preOrderHooks;null!==p&&Js(s,p,0,a)}Pr(a)}function uo(i,s){return i<<17|s<<2}function et(i){return i>>17&32767}function wd(i){return 2|i}function jo(i){return(131068&i)>>2}function ec(i,s){return-131069&i|s<<2}function qh(i){return 1|i}function mi(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],p=a[l+1];if(-1!==p){const y=i.data[p];Zs(c),y.contentQueries(2,s[p],p)}}}function nu(i,s,a,l,c,p,y,v,I,S){const P=s.blueprint.slice();return P[0]=c,P[2]=140|l,vs(P),P[3]=P[15]=i,P[8]=a,P[10]=y||i&&i[10],P[11]=v||i&&i[11],P[12]=I||i&&i[12]||null,P[9]=S||i&&i[9]||null,P[6]=p,P[16]=2==s.type?i[16]:P,P}function bd(i,s,a,l,c){let p=i.data[s];if(null===p)p=function ty(i,s,a,l,c){const p=Cs(),y=Is(),I=i.data[s]=function ry(i,s,a,l,c,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}(i,s,a,l,c),function xo(){return mt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=c;const y=function Hs(){const i=mt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return pr(p,!0),p}function ru(i,s,a,l){if(0===a)return-1;const c=s.length;for(let p=0;p<a;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function Qu(i,s,a){Ks(s);try{const l=i.viewQuery;null!==l&&Wp(1,l,a);const c=i.template;null!==c&&Up(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&mi(i,s),i.staticViewQueries&&Wp(2,i.viewQuery,a);const p=i.components;null!==p&&function AC(i,s){for(let a=0;a<s.length;a++)jw(i,s[a])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Qs()}}function Ju(i,s,a,l){const c=s[2];if(256==(256&c))return;Ks(s);const p=So();try{vs(s),function na(i){return mt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Up(i,s,a,2,l);const y=3==(3&c);if(!p)if(y){const S=i.preOrderCheckHooks;null!==S&&Na(s,S,null)}else{const S=i.preOrderHooks;null!==S&&Js(s,S,0,null),Lu(s,0)}if(function nc(i){for(let s=Um(i);null!==s;s=Hh(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],p=c[3];0==(1024&c[2])&&ts(p,1),c[2]|=1024}}}(s),function NC(i){for(let s=Um(i);null!==s;s=Hh(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];$i(l)&&Ju(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&mi(i,s),!p)if(y){const S=i.contentCheckHooks;null!==S&&Na(s,S)}else{const S=i.contentHooks;null!==S&&Js(s,S,1),Lu(s,1)}!function TC(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)Pr(~c);else{const p=c,y=a[++l],v=a[++l];Ds(y,p),v(2,s[p])}}}finally{Pr(-1)}}(i,s);const v=i.components;null!==v&&function Yh(i,s){for(let a=0;a<s.length;a++)Bw(i,s[a])}(s,v);const I=i.viewQuery;if(null!==I&&Wp(2,I,l),!p)if(y){const S=i.viewCheckHooks;null!==S&&Na(s,S)}else{const S=i.viewHooks;null!==S&&Js(s,S,2),Lu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ts(s[3],-1))}finally{Qs()}}function ny(i,s,a,l){const c=s[10],p=!So(),y=_s(s);try{p&&!y&&c.begin&&c.begin(),y&&Qu(i,s,l),Ju(i,s,a,l)}finally{p&&!y&&c.end&&c.end()}}function Up(i,s,a,l,c){const p=Yn(),y=2&l;try{Pr(-1),y&&s.length>20&&on(i,s,20,So()),a(l,c)}finally{Pr(p)}}function jp(i,s,a){!Es()||(function Fw(i,s,a,l){const c=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||Ba(a,s),Ur(l,s);const y=a.initialInputs;for(let v=c;v<p;v++){const I=i.data[v],S=hr(I);S&&Vw(s,a,I);const P=rs(s,i,v,a);Ur(P,s),null!==y&&RC(0,v-c,P,I,0,y),S&&(mn(a.index,s)[8]=P)}}(i,s,a,Er(a,s)),128==(128&a.flags)&&function PC(i,s,a){const l=a.directiveStart,c=a.directiveEnd,y=a.index,v=function Mo(){return mt.lFrame.currentDirectiveIndex}();try{Pr(y);for(let I=l;I<c;I++){const S=i.data[I],P=s[I];Po(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Xh(S,P)}}finally{Pr(-1),Po(v)}}(i,s,a))}function $p(i,s,a=Er){const l=s.localNames;if(null!==l){let c=s.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],v=-1===y?a(s,i):i[y];i[c++]=v}}}function Pw(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Qh(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Qh(i,s,a,l,c,p,y,v,I,S){const P=20+l,U=P+c,z=function Ow(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:$t);return a}(P,U),te="function"==typeof S?S():S;return z[1]={type:i,blueprint:z,template:a,queries:null,viewQuery:v,declTNode:s,data:z.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:te,incompleteFirstPass:!1}}function Gp(i,s,a,l){const c=Kp(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&Yp(i).push(l,c.length-1))}function qp(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function ki(i,s,a,l,c,p,y,v){const I=Er(s,a);let P,S=s.inputs;!v&&null!=S&&(P=S[l])?(hy(i,a,P,l,c),ps(s)&&function iy(i,s){const a=mn(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function yi(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=y?y(c,s.value||"",l):c,yn(p)?p.setProperty(I,l,c):Bn(l)||(I.setProperty?I.setProperty(l,c):I[l]=c))}function Jh(i,s,a,l){let c=!1;if(Es()){const p=function ay(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let p=0;p<l.length;p++){const y=l[p];yw(a,y.selectors,!1)&&(c||(c=[]),Ts(Ba(a,s),i,y.type),hr(y)?(zp(i,a),c.unshift(y)):c.push(y))}return c}(i,s,a),y=null===l?null:{"":-1};if(null!==p){c=!0,Ed(a,i.data.length,p.length);for(let P=0;P<p.length;P++){const U=p[P];U.providersResolver&&U.providersResolver(U)}let v=!1,I=!1,S=ru(i,s,p.length,null);for(let P=0;P<p.length;P++){const U=p[P];a.mergedAttrs=b(a.mergedAttrs,U.hostAttrs),uy(i,a,s,S,U),OC(S,U,y),null!==U.contentQueries&&(a.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(a.flags|=128);const z=U.type.prototype;!v&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!I&&(z.ngOnChanges||z.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),S++}!function ii(i,s){const l=s.directiveEnd,c=i.data,p=s.attrs,y=[];let v=null,I=null;for(let S=s.directiveStart;S<l;S++){const P=c[S],U=P.inputs,z=null===p||gw(s)?null:kC(U,p);y.push(z),v=qp(U,S,v),I=qp(P.outputs,S,I)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=v,s.outputs=I}(i,a)}y&&function Lw(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const p=a[s[c+1]];if(null==p)throw new Le(-301,`Export of name '${s[c+1]}' not found!`);l.push(s[c],p)}}}(a,l,y)}return a.mergedAttrs=b(a.mergedAttrs,a.attrs),c}function Nw(i,s,a,l,c,p){const y=p.hostBindings;if(y){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const I=~s.index;(function oy(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=I&&v.push(I),v.push(l,c,y)}}function Xh(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function zp(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function OC(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;hr(s)&&(a[""]=i)}}function Ed(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function uy(i,s,a,l,c){i.data[l]=c;const p=c.factory||(c.factory=Ti(c.type)),y=new ko(p,hr(c),null);i.blueprint[l]=y,a[l]=y,Nw(i,s,0,l,ru(i,a,c.hostVars,$t),c)}function Vw(i,s,a){const l=Er(s,i),c=Pw(a),p=i[10],y=nf(i,nu(i,c,null,a.onPush?64:16,l,s,p,p.createRenderer(l,a),null,null));i[s.index]=y}function $o(i,s,a,l,c,p){const y=Er(i,s);!function Cd(i,s,a,l,c,p,y){if(null==p)yn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const v=null==y?ve(p):y(p,l||"",c);yn(i)?i.setAttribute(s,c,v,a):a?s.setAttributeNS(a,c,v):s.setAttribute(c,v)}}(s[11],y,p,i.value,a,l,c)}function RC(i,s,a,l,c,p){const y=p[s];if(null!==y){const v=l.setInput;for(let I=0;I<y.length;){const S=y[I++],P=y[I++],U=y[I++];null!==v?l.setInput(a,U,S,P):a[P]=U}}}function kC(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Uw(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function Bw(i,s){const a=mn(s,i);if($i(a)){const l=a[1];80&a[2]?Ju(l,a,l.template,a[8]):a[5]>0&&Id(a)}}function Id(i){for(let l=Um(i);null!==l;l=Hh(l))for(let c=10;c<l.length;c++){const p=l[c];if(1024&p[2]){const y=p[1];Ju(y,p,y.template,p[8])}else p[5]>0&&Id(p)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=mn(a[l],i);$i(c)&&c[5]>0&&Id(c)}}function jw(i,s){const a=mn(s,i),l=a[1];(function tf(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Qu(l,a,a[8])}function nf(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function _i(i){for(;i;){i[2]|=64;const s=Jl(i);if(Tl(i)&&!s)return i;i=s}return null}function Dd(i,s,a){const l=s[10];l.begin&&l.begin();try{Ju(i,s,i.template,a)}catch(c){throw Td(s,c),c}finally{l.end&&l.end()}}function ly(i){!function rc(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=gd(a),c=l[1];ny(c,l,c.template,a)}}(i[8])}function Wp(i,s,a){Zs(0),s(i,a)}const dy=(()=>Promise.resolve(null))();function Kp(i){return i[7]||(i[7]=[])}function Yp(i){return i.cleanup||(i.cleanup=[])}function Td(i,s){const a=i[9],l=a?a.get($h,null):null;l&&l.handleError(s)}function hy(i,s,a,l,c){for(let p=0;p<a.length;){const y=a[p++],v=a[p++],I=s[y],S=i.data[y];null!==S.setInput?S.setInput(I,c,l,v):I[v]=c}}function iu(i,s,a){const l=nr(s,i);!function tw(i,s,a){yn(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function Ad(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const v=s[y];"number"==typeof v?p=v:1==p?c=ge(c,v):2==p&&(l=ge(l,v+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}const Jp=new Cn("INJECTOR",-1);class py{get(s,a=ar){if(a===ar){const l=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw l.name="NullInjectorError",l}return a}}const gy=new Cn("Set Injector scope."),su={},Gw={};let Sd;function xd(){return void 0===Sd&&(Sd=new py),Sd}function Xu(i,s=null,a=null,l){const c=Xp(i,s,a,l);return c._resolveInjectorDefTypes(),c}function Xp(i,s=null,a=null,l){return new LC(i,a,s||xd(),l)}class LC{constructor(s,a,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&ss(a,v=>this.processProvider(v,s,a)),ss([s],v=>this.processInjectorType(v,[],p)),this.records.set(Jp,ic(void 0,this));const y=this.records.get(gy);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof s?null:de(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ar,l=ct.Default){this.assertNotDestroyed();const c=O(this),p=un(void 0);try{if(!(l&ct.SkipSelf)){let v=this.records.get(s);if(void 0===v){const I=function ur(i){return"function"==typeof i||"object"==typeof i&&i instanceof Cn}(s)&&In(s);v=I&&this.injectableDefInScope(I)?ic(sf(s),su):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(l&ct.Self?xd():this.parent).get(s,a=l&ct.Optional&&a===ar?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[ga]=y[ga]||[]).unshift(de(s)),c)throw y;return function hn(i,s,a,l){const c=i[ga];throw s[jl]&&c.unshift(s[jl]),i.message=function Ft(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=de(s);if(Array.isArray(s))c=s.map(de).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let v=s[y];p.push(y+":"+("string"==typeof v?JSON.stringify(v):de(v)))}c=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(td,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[ga]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{un(p),O(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,c)=>s.push(de(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,"")}processInjectorType(s,a,l){if(!(s=ie(s)))return!1;let c=xr(s);const p=null==c&&s.ngModule||void 0,y=void 0===p?s:p,v=-1!==l.indexOf(y);if(void 0!==p&&(c=xr(p)),null==c)return!1;if(null!=c.imports&&!v){let P;l.push(y);try{ss(c.imports,U=>{this.processInjectorType(U,a,l)&&(void 0===P&&(P=[]),P.push(U))})}finally{}if(void 0!==P)for(let U=0;U<P.length;U++){const{ngModule:z,providers:te}=P[U];ss(te,me=>this.processProvider(me,z,te||dt))}}this.injectorDefTypes.add(y);const I=Ti(y)||(()=>new y);this.records.set(y,ic(I,su));const S=c.providers;if(null!=S&&!v){const P=s;ss(S,U=>this.processProvider(U,P,S))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,l){let c=au(s=ie(s))?s:ie(s&&s.provide);const p=function my(i,s,a){return qw(i)?ic(void 0,i.useValue):ic(el(i),su)}(s);if(au(s)||!0!==s.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=ic(void 0,su,!0),y.factory=()=>ot(y.multi),this.records.set(c,y)),c=s,y.multi.push(s)}this.records.set(c,p)}hydrate(s,a){return a.value===su&&(a.value=Gw,a.value=a.factory()),"object"==typeof a.value&&a.value&&function zw(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ie(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function sf(i){const s=In(i),a=null!==s?s.factory:Ti(i);if(null!==a)return a;if(i instanceof Cn)throw new Le(204,"");if(i instanceof Function)return function Md(i){const s=i.length;if(s>0)throw function Lo(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new Le(204,"");const a=function Dn(i){const s=i&&(i[vr]||i[bn]);if(s){const a=function li(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Le(204,"")}function el(i,s,a){let l;if(au(i)){const c=ie(i);return Ti(c)||sf(c)}if(qw(i))l=()=>ie(i.useValue);else if(function ou(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...ot(i.deps||[]));else if(function sc(i){return!(!i||!i.useExisting)}(i))l=()=>ee(ie(i.useExisting));else{const c=ie(i&&(i.useClass||i.provide));if(!function tg(i){return!!i.deps}(i))return Ti(c)||sf(c);l=()=>new c(...ot(i.deps))}return l}function ic(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function qw(i){return null!==i&&"object"==typeof i&&D in i}function au(i){return"function"==typeof i}let Yi=(()=>{class i{static create(a,l){var c;if(Array.isArray(a))return Xu({name:""},l,a,"");{const p=null!==(c=a.name)&&void 0!==c?c:"";return Xu({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=ar,i.NULL=new py,i.\u0275prov=Kt({token:i,providedIn:"any",factory:()=>ee(Jp)}),i.__NG_ELEMENT_ID__=-1,i})();function GC(i,s){xi(gd(i)[1],An())}function Rd(i){let s=function n0(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(hr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Le(903,"");c=s.\u0275dir}if(c){if(a){l.push(c);const y=i;y.inputs=kd(i.inputs),y.declaredInputs=kd(i.declaredInputs),y.outputs=kd(i.outputs);const v=c.hostBindings;v&&uf(i,v);const I=c.viewQuery,S=c.contentQueries;if(I&&Ey(i,I),S&&r0(i,S),ce(i.inputs,c.inputs),ce(i.declaredInputs,c.declaredInputs),ce(i.outputs,c.outputs),hr(c)&&c.data.animation){const P=i.data;P.animation=(P.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let y=0;y<p.length;y++){const v=p[y];v&&v.ngInherit&&v(i),v===Rd&&(a=!1)}}s=Object.getPrototypeOf(s)}!function af(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=b(c.hostAttrs,a=b(a,c.hostAttrs))}}(l)}function kd(i){return i===dn?{}:i===dt?[]:i}function Ey(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function r0(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,p)=>{s(l,c,p),a(l,c,p)}:s}function uf(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let cf=null;function Nd(){if(!cf){const i=Ct.Symbol;if(i&&i.iterator)cf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(cf=l)}}}return cf}function df(i){return!!ig(i)&&(Array.isArray(i)||!(i instanceof Map)&&Nd()in i)}function ig(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function vi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function ff(i,s,a,l){const c=Me();return vi(c,Hi(),s)&&(qt(),$o(Fn(),c,i,s,a,l)),ff}function oc(i,s,a,l){return vi(i,Hi(),a)?s+ve(a)+l:$t}function Sy(i,s,a,l,c,p,y,v){const I=Me(),S=qt(),P=i+20,U=S.firstCreatePass?function lc(i,s,a,l,c,p,y,v,I){const S=s.consts,P=bd(s,i,4,y||null,Kr(S,v));Jh(s,a,P,Kr(S,I)),xi(s,P);const U=P.tViews=Qh(2,P,l,c,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,P),U.queries=s.queries.embeddedTView(P)),P}(P,S,I,s,a,l,c,p,y):S.data[P];pr(U,!1);const z=I[11].createComment("");xp(S,I,z,U),Ur(z,I),nf(I,I[P]=Uw(z,I,z,U)),vo(U)&&jp(S,I,U),null!=y&&$p(I,U,v)}function xy(i){return function ys(i,s){return i[s]}(function Pa(){return mt.lFrame.contextLView}(),20+i)}function mf(i,s=ct.Default){const a=Me();return null===a?ee(i,s):Nl(An(),a,ie(i),s)}function Ly(){throw new Error("invalid")}function Zt(i,s,a){const l=Me();return vi(l,Hi(),s)&&ki(qt(),Fn(),l,i,s,l[11],a,!1),Zt}function il(i,s,a,l,c){const y=c?"class":"style";hy(i,a,s.inputs[y],y,l)}function mr(i,s,a,l){const c=Me(),p=qt(),y=20+i,v=c[11],I=c[y]=$m(v,s,function kl(){return mt.lFrame.currentNamespace}()),S=p.firstCreatePass?function p0(i,s,a,l,c,p,y){const v=s.consts,S=bd(s,i,2,c,Kr(v,p));return Jh(s,a,S,Kr(v,y)),null!==S.attrs&&Ad(S,S.attrs,!1),null!==S.mergedAttrs&&Ad(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(y,p,c,0,s,a,l):p.data[y];pr(S,!0);const P=S.mergedAttrs;null!==P&&Ua(v,I,P);const U=S.classes;null!==U&&Km(v,I,U);const z=S.styles;null!==z&&hw(v,I,z),64!=(64&S.flags)&&xp(p,c,I,S),0===function ea(){return mt.lFrame.elementDepthCount}()&&Ur(I,c),function bs(){mt.lFrame.elementDepthCount++}(),vo(S)&&(jp(p,c,S),function Bp(i,s,a){if(dr(s)){const c=s.directiveEnd;for(let p=s.directiveStart;p<c;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}(p,S,c)),null!==l&&$p(c,S)}function Rt(){let i=An();Is()?function Gs(){mt.lFrame.isParent=!1}():(i=i.parent,pr(i,!1));const s=i;!function $s(){mt.lFrame.elementDepthCount--}();const a=qt();a.firstCreatePass&&(xi(a,i),dr(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function No(i){return 0!=(16&i.flags)}(s)&&il(a,s,Me(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Va(i){return 0!=(32&i.flags)}(s)&&il(a,s,Me(),s.stylesWithoutHost,!1)}function Vy(i,s,a,l){mr(i,s,a,l),Rt()}function sl(i){return!!i&&"function"==typeof i.then}function m0(i){return!!i&&"function"==typeof i.subscribe}const $r=m0;function Uy(i,s,a,l){const c=Me(),p=qt(),y=An();return function ol(i,s,a,l,c,p,y,v){const I=vo(l),P=i.firstCreatePass&&Yp(i),U=s[8],z=Kp(s);let te=!0;if(3&l.type||v){const Je=Er(l,s),at=v?v(Je):Je,Pe=z.length,Mt=v?fn=>v(Wn(fn[l.index])):l.index;if(yn(a)){let fn=null;if(!v&&I&&(fn=function Tr(i,s,a,l){const c=i.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const y=c[p];if(y===a&&c[p+1]===l){const v=s[7],I=c[p+2];return v.length>I?v[I]:null}"string"==typeof y&&(p+=2)}return null}(i,s,c,l.index)),null!==fn)(fn.__ngLastListenerFn__||fn).__ngNextListenerFn__=p,fn.__ngLastListenerFn__=p,te=!1;else{p=dg(l,s,U,p,!1);const Pn=a.listen(at,c,p);z.push(p,Pn),P&&P.push(c,Mt,Pe,Pe+1)}}else p=dg(l,s,U,p,!0),at.addEventListener(c,p,y),z.push(p),P&&P.push(c,Mt,Pe,y)}else p=dg(l,s,U,p,!1);const me=l.outputs;let qe;if(te&&null!==me&&(qe=me[c])){const Je=qe.length;if(Je)for(let at=0;at<Je;at+=2){const ks=s[qe[at]][qe[at+1]].subscribe(p),Uc=z.length;z.push(p,ks),P&&P.push(c,l.index,Uc,-(Uc+1))}}}(p,c,c[11],y,i,s,!!a,l),Uy}function cg(i,s,a,l){try{return!1!==a(l)}catch(c){return Td(i,c),!1}}function dg(i,s,a,l,c){return function p(y){if(y===Function)return l;const v=2&i.flags?mn(i.index,s):s;0==(32&s[2])&&_i(v);let I=cg(s,0,l,y),S=p.__ngNextListenerFn__;for(;S;)I=cg(s,0,S,y)&&I,S=S.__ngNextListenerFn__;return c&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function jd(i=1){return function Ra(i){return(mt.lFrame.contextLView=function Rl(i,s){for(;i>0;)s=s[15],i--;return s}(i,mt.lFrame.contextLView))[8]}(i)}function pc(i,s,a){return hg(i,"",s,"",a),pc}function hg(i,s,a,l,c){const p=Me(),y=oc(p,s,a,l);return y!==$t&&ki(qt(),Fn(),p,i,y,p[11],c,!1),hg}function fg(i,s,a,l,c){const p=i[a+1],y=null===s;let v=l?et(p):jo(p),I=!1;for(;0!==v&&(!1===I||y);){const P=i[v+1];_f(i[v],s)&&(I=!0,i[v+1]=l?qh(P):wd(P)),v=l?et(P):jo(P)}I&&(i[a+1]=l?wd(p):qh(p))}function _f(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&gi(i,s)>=0}function yc(i,s){return function zo(i,s,a,l){const c=Me(),p=qt(),y=function Si(i){const s=mt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function v0(i,s,a,l){const c=i.data;if(null===c[a+1]){const p=c[Yn()],y=function ul(i,s){return s>=i.expandoStartIndex}(i,a);(function C0(i,s){return 0!=(i.flags&(s?16:32))})(p,l)&&null===s&&!y&&(s=!1),s=function bf(i,s,a,l){const c=function Ws(i){const s=mt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=kr(a=vg(null,i,s,a,l),s.attrs,l),p=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==c)if(a=vg(c,i,s,a,l),null===p){let I=function yg(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==jo(l))return i[et(l)]}(i,s,l);void 0!==I&&Array.isArray(I)&&(I=vg(null,i,s,I[1],l),I=kr(I,s.attrs,l),function _g(i,s,a,l){i[et(a?s.classBindings:s.styleBindings)]=l}(i,s,l,I))}else p=function w0(i,s,a){let l;const c=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<c;p++)l=kr(l,i[p].hostAttrs,a);return kr(l,s.attrs,a)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),a}(c,p,s,l),function Hy(i,s,a,l,c,p){let y=p?s.classBindings:s.styleBindings,v=et(y),I=jo(y);i[l]=a;let P,S=!1;if(Array.isArray(a)){const U=a;P=U[1],(null===P||gi(U,P)>0)&&(S=!0)}else P=a;if(c)if(0!==I){const z=et(i[v+1]);i[l+1]=uo(z,v),0!==z&&(i[z+1]=ec(i[z+1],l)),i[v+1]=function zt(i,s){return 131071&i|s<<17}(i[v+1],l)}else i[l+1]=uo(v,0),0!==v&&(i[v+1]=ec(i[v+1],l)),v=l;else i[l+1]=uo(I,0),0===v?v=l:i[I+1]=ec(i[I+1],l),I=l;S&&(i[l+1]=wd(i[l+1])),fg(i,P,l,!0),fg(i,P,l,!1),function gc(i,s,a,l,c){const p=c?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&gi(p,s)>=0&&(a[l+1]=qh(a[l+1]))}(s,P,i,l,p),y=uo(v,I),p?s.classBindings=y:s.styleBindings=y}(c,p,s,a,y,l)}}(p,i,y,l),s!==$t&&vi(c,y,s)&&function Wy(i,s,a,l,c,p,y,v){if(!(3&s.type))return;const I=i.data,S=I[v+1];wg(function vw(i){return 1==(1&i)}(S)?E0(I,s,a,c,jo(S),y):void 0)||(wg(p)||function Rp(i){return 2==(2&i)}(S)&&(p=E0(I,null,a,c,v,y)),function pC(i,s,a,l,c){const p=yn(i);if(s)c?p?i.addClass(a,l):a.classList.add(l):p?i.removeClass(a,l):a.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:ya.DashCase;if(null==c)p?i.removeStyle(a,l,y):a.style.removeProperty(l);else{const v="string"==typeof c&&c.endsWith("!important");v&&(c=c.slice(0,-10),y|=ya.Important),p?i.setStyle(a,l,c,y):a.style.setProperty(l,c,v?"important":"")}}}(l,y,nr(Yn(),a),c,p))}(p,p.data[Yn()],c,c[11],i,c[y+1]=function aI(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=de(io(i)))),i}(s,a),l,y)}(i,s,null,!0),yc}function vg(i,s,a,l,c){let p=null;const y=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<y&&(p=s[v],l=kr(l,p.hostAttrs,c),p!==i);)v++;return null!==i&&(a.directiveStylingLast=v),l}function kr(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?c=y:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),St(i,y,!!a||s[++p]))}return void 0===i?null:i}function E0(i,s,a,l,c,p){const y=null===s;let v;for(;c>0;){const I=i[c],S=Array.isArray(I),P=S?I[1]:I,U=null===P;let z=a[c+1];z===$t&&(z=U?dt:void 0);let te=U?qa(z,l):P===l?z:void 0;if(S&&!wg(te)&&(te=qa(I,l)),wg(te)&&(v=te,y))return v;const me=i[c+1];c=y?et(me):jo(me)}if(null!==s){let I=p?s.residualClasses:s.residualStyles;null!=I&&(v=qa(I,l))}return v}function wg(i){return void 0!==i}function gu(i,s=""){const a=Me(),l=qt(),c=i+20,p=l.firstCreatePass?bd(l,c,1,s,null):l.data[c],y=a[c]=function jm(i,s){return yn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);xp(l,a,y,p),pr(p,!1)}function ll(i){return bg("",i,""),ll}function bg(i,s,a){const l=Me(),c=oc(l,i,s,a);return c!==$t&&iu(l,Yn(),c),bg}const bc=void 0;var Ig=["en",[["a","p"],["AM","PM"],bc],[["AM","PM"],bc,bc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bc,"{1} 'at' {0}",bc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gr(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let mu={};function Df(i){const s=function O0(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=a_(s);if(a)return a;const l=s.split("-")[0];if(a=a_(l),a)return a;if("en"===l)return Ig;throw new Error(`Missing locale data for the locale "${i}".`)}function o_(i){return Df(i)[Tt.PluralCase]}function a_(i){return i in mu||(mu[i]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[i]),mu[i]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const hl="en-US";let l_=hl;function b_(i,s,a,l,c){if(i=ie(i),Array.isArray(i))for(let p=0;p<i.length;p++)b_(i[p],s,a,l,c);else{const p=qt(),y=Me();let v=au(i)?i:ie(i.provide),I=el(i);const S=An(),P=1048575&S.providerIndexes,U=S.directiveStart,z=S.providerIndexes>>20;if(au(i)||!i.multi){const te=new ko(I,c,mf),me=Pg(v,s,c?P:P+z,U);-1===me?(Ts(Ba(S,y),p,v),Mg(p,i,s.length),s.push(v),S.directiveStart++,S.directiveEnd++,c&&(S.providerIndexes+=1048576),a.push(te),y.push(te)):(a[me]=te,y[me]=te)}else{const te=Pg(v,s,P+z,U),me=Pg(v,s,P,P+z),qe=te>=0&&a[te],Je=me>=0&&a[me];if(c&&!Je||!c&&!qe){Ts(Ba(S,y),p,v);const at=function be(i,s,a,l,c){const p=new ko(i,a,mf);return p.multi=[],p.index=s,p.componentProviders=0,eb(p,c,l&&!a),p}(c?tb:NI,a.length,c,l,I);!c&&Je&&(a[me].providerFactory=at),Mg(p,i,s.length,0),s.push(v),S.directiveStart++,S.directiveEnd++,c&&(S.providerIndexes+=1048576),a.push(at),y.push(at)}else Mg(p,i,te>-1?te:me,eb(a[c?me:te],I,!c&&l));!c&&l&&Je&&a[me].componentProviders++}}}function Mg(i,s,a,l){const c=au(s),p=function eg(i){return!!i.useClass}(s);if(c||p){const I=(p?ie(s.useClass):s).prototype.ngOnDestroy;if(I){const S=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const P=S.indexOf(a);-1===P?S.push(a,[l,I]):S[P+1].push(l,I)}else S.push(a,I)}}}function eb(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Pg(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function NI(i,s,a,l){return Og(this.multi,[])}function tb(i,s,a,l){const c=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=rs(a,a[1],this.providerFactory.index,l);p=v.slice(0,y),Og(c,p);for(let I=y;I<v.length;I++)p.push(v[I])}else p=[],Og(c,p);return p}function Og(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Of(i,s=[]){return a=>{a.providersResolver=(l,c)=>function kI(i,s,a){const l=qt();if(l.firstCreatePass){const c=hr(i);b_(a,l.data,l.blueprint,c,!0),b_(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class nb{}class Cc{resolveComponentFactory(s){throw function Rf(i){const s=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Kd=(()=>{class i{}return i.NULL=new Cc,i})();function E_(){return Ic(An(),Me())}function Ic(i,s){return new Ar(Er(i,s))}let Ar=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=E_,i})();function C_(i){return i instanceof Ar?i.nativeElement:i}class Rg{}let _l=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function FI(){const i=Me(),a=mn(An().index,i);return function ib(i){return i[11]}(ti(a)?a:i)}(),i})(),sb=(()=>{class i{}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:()=>null}),i})();class kf{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const vl=new kf("13.1.3"),vu={};function wu(i,s,a,l,c=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&l.push(Wn(p)),Di(p))for(let v=10;v<p.length;v++){const I=p[v],S=I[1].firstChild;null!==S&&wu(I[1],I,S,l)}const y=a.type;if(8&y)wu(i,s,a.child,l);else if(32&y){const v=Vm(a,s);let I;for(;I=v();)l.push(I)}else if(16&y){const v=Pp(s,a);if(Array.isArray(v))l.push(...v);else{const I=Jl(s[16]);wu(I[1],I,v,l,!0)}}a=c?a.projectionNext:a.next}return l}class bu{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return wu(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Di(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(qm(s,l),Ga(a,l))}this._attachedToViewContainer=!1}rw(this._lView[1],this._lView)}onDestroy(s){Gp(this._lView[1],this._lView,null,s)}markForCheck(){_i(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function cy(i,s,a){qs(!0);try{Dd(i,s,a)}finally{qs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Le(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cC(i,s){Gh(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Le(902,"");this._appRef=s}}class ob extends bu{constructor(s){super(s),this._view=s}detectChanges(){ly(this._view)}checkNoChanges(){!function Hw(i){qs(!0);try{ly(i)}finally{qs(!1)}}(this._view)}get context(){return null}}class kg extends Kd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Ze(s);return new Fg(a,this.ngModule)}}function Ng(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const LI=new Cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Qv});class Fg extends nb{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function vC(i){return i.map(AT).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Ng(this.componentDef.inputs)}get outputs(){return Ng(this.componentDef.outputs)}create(s,a,l,c){const p=(c=c||this.ngModule)?function ub(i,s){return{get:(a,l,c)=>{const p=i.get(a,vu,c);return p!==vu||l===vu?p:s.get(a,l,c)}}}(s,c.injector):s,y=p.get(Rg,js),v=p.get(sb,null),I=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",P=l?function Rw(i,s,a){if(yn(i))return i.selectRootElement(s,a===It.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(I,l,this.componentDef.encapsulation):$m(y.createRenderer(null,this.componentDef),S,function ab(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(S)),U=this.componentDef.onPush?576:528,z=function rg(i,s){return{components:[],scheduler:i||Qv,clean:dy,playerHandler:s||null,flags:0}}(),te=Qh(0,null,null,1,0,null,null,null,null,null),me=nu(null,te,z,U,null,null,y,I,v,p);let qe,Je;Ks(me);try{const at=function wy(i,s,a,l,c,p){const y=a[1];a[20]=i;const I=bd(y,20,2,"#host",null),S=I.mergedAttrs=s.hostAttrs;null!==S&&(Ad(I,S,!0),null!==i&&(Ua(c,i,S),null!==I.classes&&Km(c,i,I.classes),null!==I.styles&&hw(c,i,I.styles)));const P=l.createRenderer(i,s),U=nu(a,Pw(s),null,s.onPush?64:16,a[20],I,l,P,p||null,null);return y.firstCreatePass&&(Ts(Ba(I,a),y,s.type),zp(y,I),Ed(I,a.length,1)),nf(a,U),a[20]=U}(P,this.componentDef,me,y,I);if(P)if(l)Ua(I,P,["ng-version",vl.full]);else{const{attrs:Pe,classes:Mt}=function Xa(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===c?""!==p&&s.push(p,i[++l]):8===c&&a.push(p);else{if(!Bo(c))break;c=p}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Pe&&Ua(I,P,Pe),Mt&&Mt.length>0&&Km(I,P,Mt.join(" "))}if(Je=Io(te,20),void 0!==a){const Pe=Je.projection=[];for(let Mt=0;Mt<this.ngContentSelectors.length;Mt++){const fn=a[Mt];Pe.push(null!=fn?Array.from(fn):null)}}qe=function by(i,s,a,l,c){const p=a[1],y=function sy(i,s,a){const l=An();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),uy(i,l,s,ru(i,s,1,null),a));const c=rs(s,i,l.directiveStart,l);Ur(c,s);const p=Er(l,s);return p&&Ur(p,s),c}(p,a,s);if(l.components.push(y),i[8]=y,c&&c.forEach(I=>I(y,s)),s.contentQueries){const I=An();s.contentQueries(1,y,I.directiveStart)}const v=An();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Pr(v.index),Nw(a[1],v,0,v.directiveStart,v.directiveEnd,s),Xh(s,y)),y}(at,this.componentDef,me,z,[GC]),Qu(te,me,null)}finally{Qs()}return new Dc(this.componentType,qe,Ic(Je,me),me,Je)}}class Dc extends class Wo{}{constructor(s,a,l,c,p){super(),this.location=l,this._rootLView=c,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new ob(c),this.componentType=s}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Tc{}class lb{}const Yd=new Map;class cb extends Tc{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new kg(this);const l=Lt(s);this._bootstrapComponents=Ja(l.bootstrap),this._r3Injector=Xp(s,a,[{provide:Tc,useValue:this},{provide:Kd,useValue:this.componentFactoryResolver}],de(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Yi.THROW_IF_NOT_FOUND,l=ct.Default){return s===Yi||s===Tc||s===Jp?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Nf extends lb{constructor(s){super(),this.moduleType=s,null!==Lt(s)&&function wl(i){const s=new Set;!function a(l){const c=Lt(l,!0),p=c.id;null!==p&&(function Qd(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${de(s)} vs ${de(s.name)}`)}(p,Yd.get(p),l),Yd.set(p,l));const y=Ja(c.imports);for(const v of y)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new cb(this.moduleType,s)}}function T_(i,s,a,l,c){return function Eu(i,s,a,l,c,p,y){const v=s+a;return function Qi(i,s,a,l){const c=vi(i,s,a);return vi(i,s+1,l)||c}(i,v,c,p)?function Ho(i,s,a){return i[s]=a}(i,v+2,y?l.call(y,c,p):l(c,p)):function Ac(i,s){const a=i[s];return a===$t?void 0:a}(i,v+2)}(Me(),function ir(){const i=mt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,a,l,c)}function M_(i){return s=>{setTimeout(i,void 0,s)}}const Ia=class jI extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var c,p,y;let v=s,I=a||(()=>null),S=l;if(s&&"object"==typeof s){const U=s;v=null===(c=U.next)||void 0===c?void 0:c.bind(U),I=null===(p=U.error)||void 0===p?void 0:p.bind(U),S=null===(y=U.complete)||void 0===y?void 0:y.bind(U)}this.__isAsync&&(I=M_(I),v&&(v=M_(v)),S&&(S=M_(S)));const P=super.subscribe({next:v,error:I,complete:S});return s instanceof j.w0&&s.add(P),P}};function jg(){return this._results[Nd()]()}class $g{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Nd(),l=$g.prototype;l[a]||(l[a]=jg)}get changes(){return this._changes||(this._changes=new Ia)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=pi(s);(this._changesDetected=!function Eh(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],p=s[l];if(a&&(c=a(c),p=a(p)),p!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Vf=(()=>{class i{}return i.__NG_ELEMENT_ID__=Mc,i})();const $I=Vf,gb=class extends $I{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=nu(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(a)),Qu(a,l,s),new bu(l)}};function Mc(){return Cl(An(),Me())}function Cl(i,s){return 4&i.type?new gb(s,i,Ic(i,s)):null}let Uf=(()=>{class i{}return i.__NG_ELEMENT_ID__=mb,i})();function mb(){return th(An(),Me())}const HI=Uf,P_=class extends HI{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Ic(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){const s=Or(this._hostTNode,this._hostLView);if(M(s)){const a=ht(s,this._hostLView),l=$(s);return new tn(a[1].data[l+8],a)}return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Hg(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const c=s.createEmbeddedView(a||{});return this.insert(c,l),c}createComponent(s,a,l,c,p){const y=s&&!function fa(i){return"function"==typeof i}(s);let v;if(y)v=a;else{const U=a||{};v=U.index,l=U.injector,c=U.projectableNodes,p=U.ngModuleRef}const I=y?s:new Fg(Ze(s)),S=l||this.parentInjector;if(!p&&null==I.ngModule&&S){const U=S.get(Tc,null);U&&(p=U)}const P=I.create(S,c,void 0,p);return this.insert(P.hostView,v),P}insert(s,a){const l=s._lView,c=l[1];if(function Do(i){return Di(i[3])}(l)){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const U=l[3],z=new P_(U,U[6],U[3]);z.detach(z.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function Hm(i,s,a,l){const c=10+l,p=a.length;l>0&&(a[c-1][4]=s),l<p-10?(s[4]=a[c],Uu(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function Gm(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(c,l,y,p);const v=Zm(p,y),I=l[11],S=Ap(I,y[7]);return null!==S&&function Os(i,s,a,l,c,p){l[0]=c,l[6]=s,Gh(i,l,a,1,c,p)}(c,y[6],I,l,S,v),s.attachToViewContainerRef(),Uu(Bf(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Hg(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=qm(this._lContainer,a);l&&(Ga(Bf(this._lContainer),a),rw(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=qm(this._lContainer,a);return l&&null!=Ga(Bf(this._lContainer),a)?new bu(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Hg(i){return i[8]}function Bf(i){return i[8]||(i[8]=[])}function th(i,s){let a;const l=s[i.index];if(Di(l))a=l;else{let c;if(8&i.type)c=Wn(l);else{const p=s[11];c=p.createComment("");const y=Er(i,s);vd(p,Ap(p,y),c,function sw(i,s){return yn(i)?i.nextSibling(s):s.nextSibling}(p,y),!1)}s[i.index]=a=Uw(l,s,c,i),nf(s,a)}return new P_(a,i,s)}class jf{constructor(s){this.queryList=s,this.matches=null}clone(){return new jf(this.queryList)}setDirty(){this.queryList.setDirty()}}class qg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let p=0;p<l;p++){const y=a.getByIndex(p);c.push(this.queries[y.indexInDeclarationView].clone())}return new qg(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Kg(s,a).matches&&this.queries[a].setDirty()}}class yb{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class zg{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(s,c);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new zg(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Wg{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Wg(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const p=l[c];this.matchTNodeWithReadOption(s,a,R_(a,p)),this.matchTNodeWithReadOption(s,a,Oi(a,s,p,!1,!1))}else l===Vf?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Oi(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Ar||c===Uf||c===Vf&&4&a.type)this.addMatch(a.index,-2);else{const p=Oi(a,s,c,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function R_(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function _b(i,s,a,l){return-1===a?function GI(i,s){return 11&i.type?Ic(i,s):4&i.type?Cl(i,s):null}(s,i):-2===a?function qI(i,s,a){return a===Ar?Ic(s,i):a===Vf?Cl(s,i):a===Uf?th(s,i):void 0}(i,s,l):rs(i,i[1],a,s)}function k_(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const p=i.data,y=a.matches,v=[];for(let I=0;I<y.length;I+=2){const S=y[I];v.push(S<0?null:_b(s,p[S],y[I+1],a.metadata.read))}c.matches=v}return c.matches}function N_(i,s,a,l){const c=i.queries.getByIndex(a),p=c.matches;if(null!==p){const y=k_(i,s,c,a);for(let v=0;v<p.length;v+=2){const I=p[v];if(I>0)l.push(y[v/2]);else{const S=p[v+1],P=s[-I];for(let U=10;U<P.length;U++){const z=P[U];z[17]===z[3]&&N_(z[1],z,S,l)}if(null!==P[9]){const U=P[9];for(let z=0;z<U.length;z++){const te=U[z];N_(te[1],te,S,l)}}}}}return l}function Pc(i){const s=Me(),a=qt(),l=ra();Zs(l+1);const c=Kg(a,l);if(i.dirty&&_s(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const p=c.crossesNgTemplate?N_(a,s,l,[]):k_(a,s,c,l);i.reset(p,C_),i.notifyOnChanges()}return!0}return!1}function Zg(i,s,a,l){const c=qt();if(c.firstCreatePass){const p=An();(function L_(i,s,a){null===i.queries&&(i.queries=new zg),i.queries.track(new Wg(s,a))})(c,new yb(s,a,l),p.index),function zI(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function F_(i,s,a){const l=new $g(4==(4&a));Gp(i,s,l,l.destroy),null===s[19]&&(s[19]=new qg),s[19].queries.push(new jf(l))}(c,Me(),a)}function $f(){return function vb(i,s){return i[19].queries[s].queryList}(Me(),ra())}function Kg(i,s){return i.queries.getByIndex(s)}function sh(...i){}const Zf=new Cn("Application Initializer");let Fc=(()=>{class i{constructor(a){this.appInits=a,this.resolve=sh,this.reject=sh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(sl(p))a.push(p);else if($r(p)){const y=new Promise((v,I)=>{p.subscribe({complete:v,error:I})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(ee(Zf,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const Lc=new Cn("AppId"),nD={provide:Lc,useFactory:function Z_(){return`${K_()}${K_()}${K_()}`},deps:[]};function K_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Y_=new Cn("Platform Initializer"),Q_=new Cn("Platform ID"),Pb=new Cn("appBootstrapListener");let Rb=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const oh=new Cn("LocaleId"),kb=new Cn("DefaultCurrencyCode");class Lb{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Kf=(()=>{class i{compileModuleSync(a){return new Nf(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=Ja(Lt(a).declarations).reduce((y,v)=>{const I=Ze(v);return I&&y.push(new Fg(I)),y},[]);return new Lb(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const ah=(()=>Promise.resolve(0))();function Da(i){"undefined"==typeof Zone?ah.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ui{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ia(!1),this.onMicrotaskEmpty=new Ia(!1),this.onStable=new Ia(!1),this.onError=new Ia(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function X_(){let i=Ct.requestAnimationFrame,s=Ct.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function rD(i){const s=()=>{!function lh(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ct,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,ev(i),i.isCheckStableRunning=!0,sm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),ev(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,p,y,v)=>{try{return om(i),a.invokeTask(c,p,y,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),am(i)}},onInvoke:(a,l,c,p,y,v,I)=>{try{return om(i),a.invoke(c,p,y,v,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),am(i)}},onHasTask:(a,l,c,p)=>{a.hasTask(c,p),l===c&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,ev(i),sm(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,c,p)=>(a.handleError(c,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ui.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ui.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+c,s,uh,sh,sh);try{return p.runTask(y,a,l)}finally{p.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const uh={};function sm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function ev(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function om(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function am(i){i._nesting--,sm(i)}class tv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ia,this.onMicrotaskEmpty=new Ia,this.onStable=new Ia,this.onError=new Ia}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}let um=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ui.assertNotInAngularZone(),Da(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Da(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(ee(ui))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),Ub=(()=>{class i{constructor(){this._applications=new Map,Yf.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Yf.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();class iD{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function nv(i){Yf=i}let Zo,Yf=new iD;const rv=new Cn("AllowMultipleToken");class $b{constructor(s,a){this.name=s,this.token=a}}function Gb(i,s,a=[]){const l=`Platform: ${s}`,c=new Cn(l);return(p=[])=>{let y=qb();if(!y||y.injector.get(rv,!1))if(i)i(a.concat(p).concat({provide:c,useValue:!0}));else{const v=a.concat(p).concat({provide:c,useValue:!0},{provide:gy,useValue:"platform"});!function Hb(i){if(Zo&&!Zo.destroyed&&!Zo.injector.get(rv,!1))throw new Le(400,"");Zo=i.get(lm);const s=i.get(Y_,null);s&&s.forEach(a=>a())}(Yi.create({providers:v,name:l}))}return function sD(i){const s=qb();if(!s)throw new Le(401,"");return s}()}}function qb(){return Zo&&!Zo.destroyed?Zo:null}let lm=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const v=function iv(i,s){let a;return a="noop"===i?new tv:("zone.js"===i?void 0:i)||new ui({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),I=[{provide:ui,useValue:v}];return v.run(()=>{const S=Yi.create({providers:I,parent:this.injector,name:a.moduleType.name}),P=a.create(S),U=P.injector.get($h,null);if(!U)throw new Le(402,"");return v.runOutsideAngular(()=>{const z=v.onError.subscribe({next:te=>{U.handleError(te)}});P.onDestroy(()=>{ov(this._modules,P),z.unsubscribe()})}),function sv(i,s,a){try{const l=a();return sl(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(U,v,()=>{const z=P.injector.get(Fc);return z.runInitializers(),z.donePromise.then(()=>(function fl(i){gt(i,"Expected localeId to be defined"),"string"==typeof i&&(l_=i.toLowerCase().replace(/_/g,"-"))}(P.injector.get(oh,hl)||hl),this._moduleDoBootstrap(P),P))})})}bootstrapModule(a,l=[]){const c=zb({},l);return function Bb(i,s,a){const l=new Nf(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(a){const l=a.injector.get(Vc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Le(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(ee(Yi))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();function zb(i,s){return Array.isArray(s)?s.reduce(zb,i):Object.assign(Object.assign({},i),s)}let Vc=(()=>{class i{constructor(a,l,c,p,y){this._zone=a,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new k.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),I=new k.y(S=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{ui.assertNotInAngularZone(),Da(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{ui.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{P.unsubscribe(),U.unsubscribe()}});this.isStable=(0,se.T)(v,I.pipe((0,ae.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Le(405,"");let c;c=a instanceof nb?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const p=function jb(i){return i.isBoundToModule}(c)?void 0:this._injector.get(Tc),v=c.create(Yi.NULL,[],l||c.selector,p),I=v.location.nativeElement,S=v.injector.get(um,null),P=S&&v.injector.get(Ub);return S&&P&&P.registerApplication(I,S),v.onDestroy(()=>{this.detachView(v.hostView),ov(this.components,v),P&&P.unregisterApplication(I)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Le(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;ov(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Pb,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(ee(ui),ee(Yi),ee($h),ee(Kd),ee(Fc))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();function ov(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let dm=!0,av=!1;function oD(){return av=!0,dm}function uv(){if(av)throw new Error("Cannot enable prod mode after platform setup.");dm=!1}let lv=(()=>{class i{}return i.__NG_ELEMENT_ID__=aD,i})();function aD(i){return function cv(i,s,a){if(ps(i)&&!a){const l=mn(i.index,s);return new bu(l,l)}return 47&i.type?new bu(s[16],s):null}(An(),Me(),16==(16&i))}class sE{constructor(){}supports(s){return df(s)}create(s){return new gv(s)}}const pv=(i,s)=>s;class gv{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||pv}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,p=null;for(;a||l;){const y=!l||a&&a.currentIndex<_v(l,c,p)?a:l,v=_v(y,c,p),I=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)c++;else{p||(p=[]);const S=v-c,P=I-c;if(S!=P){for(let z=0;z<S;z++){const te=z<p.length?p[z]:p[z]=0,me=te+z;P<=me&&me<S&&(p[z]=te+1)}p[y.previousIndex]=P-S}}v!==I&&s(y,v,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!df(s))throw new Le(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,p,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)p=s[v],y=this._trackByFn(v,p),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,p,y,v)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,v),l=!0),a=a._next}else c=0,function s0(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Nd()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,v=>{y=this._trackByFn(c,v),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,v,y,c)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,y,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,c)):s=this._addAfter(new mv(a,l),p,c),s}_verifyReinsertion(s,a,l,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,p=s._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new yv),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class mv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class yv{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new fD,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _v(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class oE{constructor(){}supports(s){return s instanceof Map||ig(s)}create(){return new vv}}class vv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||ig(s)))throw new Le(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const p=c._prev,y=c._next;return p&&(p._next=y),y&&(y._prev=p),c._next=null,c._prev=null,c}const l=new aE(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class aE{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ep(){return new fm([new sE])}let fm=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||ep()),deps:[[i,new xs,new xn]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new Le(901,"")}}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:ep}),i})();function uE(){return new pm([new oE])}let pm=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||uE()),deps:[[i,new xs,new xn]]}}find(a){const l=this.factories.find(p=>p.supports(a));if(l)return l;throw new Le(901,"")}}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:uE}),i})();const lE=[new oE],cE=new fm([new sE]),bv=new pm(lE),Ev=Gb(null,"core",[{provide:Q_,useValue:"unknown"},{provide:lm,deps:[Yi]},{provide:Ub,deps:[]},{provide:Rb,deps:[]}]),fE=[{provide:Vc,useClass:Vc,deps:[ui,Yi,$h,Kd,Fc]},{provide:LI,deps:[ui],useFactory:function Dv(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Fc,useClass:Fc,deps:[[new xn,Zf]]},{provide:Kf,useClass:Kf,deps:[]},nD,{provide:fm,useFactory:function gm(){return cE},deps:[]},{provide:pm,useFactory:function Cv(){return bv},deps:[]},{provide:oh,useFactory:function hE(i){return i||function Iv(){return"undefined"!=typeof $localize&&$localize.locale||hl}()},deps:[[new Vr(oh),new xn,new xs]]},{provide:kb,useValue:"USD"}];let dh=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(ee(Vc))},i.\u0275mod=L({type:i}),i.\u0275inj=_r({providers:fE}),i})()},3942:(vt,Se,V)=>{"use strict";V.d(Se,{Z:()=>Le});var d=V(2090),j=V(4859),k=V(9681),se=V(1877);class ae{constructor(ve,ye){this._delegate=ve,this.firebase=ye,(0,k._addComponent)(ve,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ve,ye=k._DEFAULT_ENTRY_NAME){var Ue;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(ve);return!$e.isInitialized()&&"EXPLICIT"===(null===(Ue=$e.getComponent())||void 0===Ue?void 0:Ue.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:ye})}_removeServiceInstance(ve,ye=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ye)}_addComponent(ve){(0,k._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,k._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ge(){const je=function de(je){const ve={},ye={__esModule:!0,initializeApp:function He(Y,yt={}){const re=k.initializeApp(Y,yt);if((0,d.r3)(ve,re.name))return ve[re.name];const _e=new je(re,ye);return ve[re.name]=_e,_e},app:$e,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Oe(Y){const yt=Y.name,re=yt.replace("-compat","");if(k._registerComponent(Y)&&"PUBLIC"===Y.type){const _e=(he=$e())=>{if("function"!=typeof he[re])throw ce.create("invalid-app-argument",{appName:yt});return he[re]()};void 0!==Y.serviceProps&&(0,d.ZB)(_e,Y.serviceProps),ye[re]=_e,je.prototype[re]=function(...he){return this._getService.bind(this,yt).apply(this,Y.multipleInstances?he:[])}}return"PUBLIC"===Y.type?ye[re]:null},removeApp:function Ue(Y){delete ve[Y]},useAsService:function ut(Y,yt){return"serverAuth"===yt?null:yt},modularAPIs:k}};function $e(Y){if(!(0,d.r3)(ve,Y=Y||k._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:Y});return ve[Y]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function rt(){return Object.keys(ve).map(Y=>ve[Y])}}),$e.App=je,ye}(ae);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function ve(ye){(0,d.ZB)(je,ye)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),je}(),K=new se.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=W;!function Re(je){(0,k.registerVersion)("@firebase/app-compat","0.1.22",je)}()},9681:(vt,Se,V)=>{"use strict";V.r(Se),V.d(Se,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>xr,_DEFAULT_ENTRY_NAME:()=>qn,_addComponent:()=>wn,_addOrOverwriteComponent:()=>lr,_apps:()=>lt,_clearComponents:()=>In,_components:()=>nn,_getProvider:()=>cr,_registerComponent:()=>Kt,_removeServiceInstance:()=>_r,deleteApp:()=>rn,getApp:()=>ke,getApps:()=>bn,initializeApp:()=>vr,onLog:()=>gn,registerVersion:()=>kn,setLogLevel:()=>un});var d=V(5861),j=V(4859),k=V(1877),se=V(2090);class ae{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function Ie(Te){const Ae=Te.getComponent();return"VERSION"===(null==Ae?void 0:Ae.type)}(it)){const Et=it.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(it=>it).join(" ")}}const ce="@firebase/app",ge=new k.Yd("@firebase/app"),qn="[DEFAULT]",gt={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lt=new Map,nn=new Map;function wn(Te,Ae){try{Te.container.addComponent(Ae)}catch(it){ge.debug(`Component ${Ae.name} failed to register with FirebaseApp ${Te.name}`,it)}}function lr(Te,Ae){Te.container.addOrOverwriteComponent(Ae)}function Kt(Te){const Ae=Te.name;if(nn.has(Ae))return ge.debug(`There were multiple attempts to register component ${Ae}.`),!1;nn.set(Ae,Te);for(const it of lt.values())wn(it,Te);return!0}function cr(Te,Ae){const it=Te.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),Te.container.getProvider(Ae)}function _r(Te,Ae,it=qn){cr(Te,Ae).clearInstance(it)}function In(){nn.clear()}const Dn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class li{constructor(Ae,it,Et){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}const xr="9.6.11";function vr(Te,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const it=Object.assign({name:qn,automaticDataCollectionEnabled:!1},Ae),Et=it.name;if("string"!=typeof Et||!Et)throw Dn.create("bad-app-name",{appName:String(Et)});const en=lt.get(Et);if(en){if((0,se.vZ)(Te,en.options)&&(0,se.vZ)(it,en.config))return en;throw Dn.create("duplicate-app",{appName:Et})}const Nt=new j.H0(Et);for(const G of nn.values())Nt.addComponent(G);const Z=new li(Te,it,Nt);return lt.set(Et,Z),Z}function ke(Te=qn){const Ae=lt.get(Te);if(!Ae)throw Dn.create("no-app",{appName:Te});return Ae}function bn(){return Array.from(lt.values())}function rn(Te){return ct.apply(this,arguments)}function ct(){return(ct=(0,d.Z)(function*(Te){const Ae=Te.name;lt.has(Ae)&&(lt.delete(Ae),yield Promise.all(Te.container.getProviders().map(it=>it.delete())),Te.isDeleted=!0)})).apply(this,arguments)}function kn(Te,Ae,it){var Et;let en=null!==(Et=gt[Te])&&void 0!==Et?Et:Te;it&&(en+=`-${it}`);const Nt=en.match(/\s|\//),Z=Ae.match(/\s|\//);if(Nt||Z){const G=[`Unable to register library "${en}" with version "${Ae}":`];return Nt&&G.push(`library name "${en}" contains illegal characters (whitespace or "/")`),Nt&&Z&&G.push("and"),Z&&G.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void ge.warn(G.join(" "))}Kt(new j.wA(`${en}-version`,()=>({library:en,version:Ae}),"VERSION"))}function gn(Te,Ae){if(null!==Te&&"function"!=typeof Te)throw Dn.create("invalid-log-argument");(0,k.Am)(Te,Ae)}function un(Te){(0,k.Ub)(Te)}const wt="firebase-heartbeat-store";let cn=null;function er(){return cn||(cn=(0,se.X3)("firebase-heartbeat-database",1,(Te,Ae)=>{0===Ae&&Te.createObjectStore(wt)}).catch(Te=>{throw Dn.create("storage-open",{originalErrorMessage:Te.message})})),cn}function It(){return(It=(0,d.Z)(function*(Te){try{return(yield er()).transaction(wt).objectStore(wt).get(Fr(Te))}catch(Ae){throw Dn.create("storage-get",{originalErrorMessage:Ae.message})}})).apply(this,arguments)}function Xe(Te,Ae){return _t.apply(this,arguments)}function _t(){return(_t=(0,d.Z)(function*(Te,Ae){try{const Et=(yield er()).transaction(wt,"readwrite");return yield Et.objectStore(wt).put(Ae,Fr(Te)),Et.complete}catch(it){throw Dn.create("storage-set",{originalErrorMessage:it.message})}})).apply(this,arguments)}function Fr(Te){return`${Te.name}!${Te.options.appId}`}class Xr{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new dt(it),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Ae=this;return(0,d.Z)(function*(){const Et=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),en=tr();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==en&&!Ae._heartbeatsCache.heartbeats.some(Nt=>Nt.date===en))return Ae._heartbeatsCache.heartbeats.push({date:en,agent:Et}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Nt=>{const Z=new Date(Nt.date).valueOf();return Date.now()-Z<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,d.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const it=tr(),{heartbeatsToSend:Et,unsentEntries:en}=function dn(Te,Ae=1024){const it=[];let Et=Te.slice();for(const en of Te){const Nt=it.find(Z=>Z.agent===en.agent);if(Nt){if(Nt.dates.push(en.date),Hn(it)>Ae){Nt.dates.pop();break}}else if(it.push({agent:en.agent,dates:[en.date]}),Hn(it)>Ae){it.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:it,unsentEntries:Et}}(Ae._heartbeatsCache.heartbeats),Nt=(0,se.L)(JSON.stringify({version:2,heartbeats:Et}));return Ae._heartbeatsCache.lastSentHeartbeatDate=it,en.length>0?(Ae._heartbeatsCache.heartbeats=en,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Nt})()}}function tr(){return(new Date).toISOString().substring(0,10)}class dt{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,d.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function qr(Te){return It.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var it=this;return(0,d.Z)(function*(){var Et;if(yield it._canUseIndexedDBPromise){const Nt=yield it.read();return Xe(it.app,{lastSentHeartbeatDate:null!==(Et=Ae.lastSentHeartbeatDate)&&void 0!==Et?Et:Nt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var it=this;return(0,d.Z)(function*(){var Et;if(yield it._canUseIndexedDBPromise){const Nt=yield it.read();return Xe(it.app,{lastSentHeartbeatDate:null!==(Et=Ae.lastSentHeartbeatDate)&&void 0!==Et?Et:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...Ae.heartbeats]})}})()}}function Hn(Te){return(0,se.L)(JSON.stringify({version:2,heartbeats:Te})).length}!function Wt(Te){Kt(new j.wA("platform-logger",Ae=>new ae(Ae),"PRIVATE")),Kt(new j.wA("heartbeat",Ae=>new Xr(Ae),"PRIVATE")),kn(ce,"0.7.21",Te),kn(ce,"0.7.21","esm2017"),kn("fire-js","")}("")},4859:(vt,Se,V)=>{"use strict";V.d(Se,{wA:()=>k,H0:()=>de});var d=V(5861),j=V(2090);class k{constructor(W,K,ie){this.name=W,this.instanceFactory=K,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const se="[DEFAULT]";class ae{constructor(W,K){this.name=W,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const K=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(K)){const ie=new j.BH;if(this.instancesDeferred.set(K,ie),this.isInitialized(K)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:K});Ke&&ie.resolve(Ke)}catch(Ke){}}return this.instancesDeferred.get(K).promise}getImmediate(W){var K;const ie=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),Ke=null!==(K=null==W?void 0:W.optional)&&void 0!==K&&K;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Re){if(Ke)return null;throw Re}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function ce(ge){return"EAGER"===ge.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:se})}catch(K){}for(const[K,ie]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(K);try{const Re=this.getOrInitializeService({instanceIdentifier:Ke});ie.resolve(Re)}catch(Re){}}}}clearInstance(W=se){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,d.Z)(function*(){const K=Array.from(W.instances.values());yield Promise.all([...K.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...K.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=se){return this.instances.has(W)}getOptions(W=se){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:K={}}=W,ie=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:ie,options:K});for(const[Re,Le]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Re)&&Le.resolve(Ke);return Ke}onInit(W,K){var ie;const Ke=this.normalizeInstanceIdentifier(K),Re=null!==(ie=this.onInitCallbacks.get(Ke))&&void 0!==ie?ie:new Set;Re.add(W),this.onInitCallbacks.set(Ke,Re);const Le=this.instances.get(Ke);return Le&&W(Le,Ke),()=>{Re.delete(W)}}invokeOnInitCallbacks(W,K){const ie=this.onInitCallbacks.get(K);if(ie)for(const Ke of ie)try{Ke(W,K)}catch(Re){}}getOrInitializeService({instanceIdentifier:W,options:K={}}){let ie=this.instances.get(W);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=W,ge===se?void 0:ge),options:K}),this.instances.set(W,ie),this.instancesOptions.set(W,K),this.invokeOnInitCallbacks(ie,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ie)}catch(Ke){}var ge;return ie||null}normalizeInstanceIdentifier(W=se){return this.component?this.component.multipleInstances?W:se:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const K=this.getProvider(W.name);if(K.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);K.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const K=new ae(W,this);return this.providers.set(W,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Se,V)=>{"use strict";V.d(Se,{in:()=>j,Yd:()=>ce,Ub:()=>de,Am:()=>ge});const d=[];var j=(()=>{return(W=j||(j={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",j;var W})();const k={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},se=j.INFO,ae={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},Ie=(W,K,...ie)=>{if(K<W.logLevel)return;const Ke=(new Date).toISOString(),Re=ae[K];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Re](`[${Ke}]  ${W.name}:`,...ie)};class ce{constructor(K){this.name=K,this._logLevel=se,this._logHandler=Ie,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in j))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?k[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...K),this._logHandler(this,j.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...K),this._logHandler(this,j.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,j.INFO,...K),this._logHandler(this,j.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,j.WARN,...K),this._logHandler(this,j.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...K),this._logHandler(this,j.ERROR,...K)}}function de(W){d.forEach(K=>{K.setLogLevel(W)})}function ge(W,K){for(const ie of d){let Ke=null;K&&K.level&&(Ke=k[K.level]),ie.userLogHandler=null===W?null:(Re,Le,...je)=>{const ve=je.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch(Ue){return null}}).filter(ye=>ye).join(" ");Le>=(null!=Ke?Ke:Re.logLevel)&&W({level:j[Le].toLowerCase(),message:ve,args:je,type:Re.name})}}}},5861:(vt,Se,V)=>{"use strict";function d(k,se,ae,Ie,ce,de,ge){try{var W=k[de](ge),K=W.value}catch(ie){return void ae(ie)}W.done?se(K):Promise.resolve(K).then(Ie,ce)}function j(k){return function(){var se=this,ae=arguments;return new Promise(function(Ie,ce){var de=k.apply(se,ae);function ge(K){d(de,Ie,ce,ge,W,"next",K)}function W(K){d(de,Ie,ce,ge,W,"throw",K)}ge(void 0)})}}V.d(Se,{Z:()=>j})}},vt=>{vt(vt.s=1026)}]);