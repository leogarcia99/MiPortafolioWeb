(self.webpackChunkportafolioWeb=self.webpackChunkportafolioWeb||[]).push([[179],{2011:(vt,Se,V)=>{"use strict";V.d(Se,{hO:()=>Ke,xv:()=>ge,Dh:()=>de,GT:()=>Ee,cc:()=>Re,on:()=>z,pX:()=>ae});var d=V(5e3),j=V(127),k=V(5813);vt=V.hmd(vt);const oe=["ngOnDestroy"],ae=(ye,Ue,$e,He={})=>new Proxy(ye,{get:(rt,Pe)=>$e.runOutsideAngular(()=>{var at;if(ye[Pe])return(null===(at=null==He?void 0:He.spy)||void 0===at?void 0:at.get)&&He.spy.get(Pe,ye[Pe]),ye[Pe];if(oe.indexOf(Pe)>-1)return()=>{};const Y=Ue.toPromise().then(yt=>{const ne=yt&&yt[Pe];return"function"==typeof ne?ne.bind(yt):ne&&ne.then?ne.then(_e=>$e.run(()=>_e)):$e.run(()=>ne)});return new Proxy(()=>{},{get:(yt,ne)=>Y[ne],apply:(yt,ne,_e)=>Y.then(he=>{var ue;const Ve=he&&he(..._e);return(null===(ue=null==He?void 0:He.spy)||void 0===ue?void 0:ue.apply)&&He.spy.apply(Pe,_e,Ve),Ve})})})}),Ee=(ye,Ue)=>{Ue.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(He=>{Object.defineProperty(ye.prototype,He,Object.getOwnPropertyDescriptor($e.prototype||$e,He))})})};class ce{constructor(Ue){return Ue}}const de=new d.OlP("angularfire2.app.options"),ge=new d.OlP("angularfire2.app.name");function z(ye,Ue,$e){const rt="object"==typeof $e&&$e||{};rt.name=rt.name||"string"==typeof $e&&$e||"[DEFAULT]";const at=j.Z.apps.filter(Y=>Y&&Y.name===rt.name)[0]||Ue.runOutsideAngular(()=>j.Z.initializeApp(ye,rt));try{JSON.stringify(ye)!==JSON.stringify(at.options)&&K("error",`${at.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Y){}return new ce(at)}const K=(ye,...Ue)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ye](...Ue)},se={provide:ce,useFactory:z,deps:[de,d.R0b,[new d.FiY,ge]]};let Ke=(()=>{class ye{constructor($e){j.Z.registerVersion("angularfire",k.q4.full,"core"),j.Z.registerVersion("angularfire",k.q4.full,"app-compat"),j.Z.registerVersion("angular",d.q4F.full,$e.toString())}static initializeApp($e,He){return{ngModule:ye,providers:[{provide:de,useValue:$e},{provide:ge,useValue:He}]}}}return ye.\u0275fac=function($e){return new($e||ye)(d.LFG(d.Lbi))},ye.\u0275mod=d.oAB({type:ye}),ye.\u0275inj=d.cJS({providers:[se]}),ye})();function Re(ye,Ue,$e,He,rt){const[,Pe,at]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===ye)||[];if(Pe)return function Le(ye,Ue){try{return ye.toString()===Ue.toString()}catch($e){return ye===Ue}}(rt,at)||(ve("error",`${Ue} was already initialized on the ${$e} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:rt,was:at})),Pe;{const Y=He();return globalThis.\u0275AngularfireInstanceCache.push([ye,Y,rt]),Y}}const je=!!vt.hot,ve=(ye,...Ue)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ye](...Ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(vt,Se,V)=>{"use strict";V.d(Se,{q4:()=>ju,iC:()=>Ka,HU:()=>wa,vb:()=>Oh,JM:()=>Mh,u3:()=>Ll});var d=V(5e3),j=V(5867),k=V(5861),oe=V(9681),ae=V(2090),Ee=V(4859),ce=V(1877);const de="@firebase/installations",K="w:0.5.7",se="FIS_v2",ye=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ue(D){return D instanceof ae.ZR&&D.code.includes("request-failed")}function $e({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function He(D){return{token:D.token,requestStatus:2,expiresIn:_e(D.expiresIn),creationTime:Date.now()}}function rt(D,T){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,k.Z)(function*(D,T){const H=(yield T.json()).error;return ye.create("request-failed",{requestName:D,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function at({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Y(D,{refreshToken:T}){const P=at(D);return P.append("Authorization",function he(D){return`${se} ${D}`}(T)),P}function yt(D){return ne.apply(this,arguments)}function ne(){return(ne=(0,k.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function _e(D){return Number(D.replace("s","000"))}function ue(D,T){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:P}){const H=$e(D),ee=at(D),te=T.getImmediate({optional:!0});if(te){const Ft=yield te.getHeartbeatsHeader();Ft&&ee.append("x-firebase-client",Ft)}const ot={method:"POST",headers:ee,body:JSON.stringify({fid:P,authVersion:se,appId:D.appId,sdkVersion:K})},Tt=yield yt(()=>fetch(H,ot));if(Tt.ok){const Ft=yield Tt.json();return{fid:Ft.fid||P,registrationStatus:2,refreshToken:Ft.refreshToken,authToken:He(Ft.authToken)}}throw yield rt("Create Installation",Tt)})).apply(this,arguments)}function fe(D){return new Promise(T=>{setTimeout(T,D)})}const mn=/^[cdef][\w-]{21}$/;function gt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const P=function ut(D){return function Ot(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return mn.test(P)?P:""}catch(D){return""}}function rn(D){return`${D.appName}!${D.appId}`}const En=new Map;function dr(D,T){const P=rn(D);vr(P,T),function Tn(D,T){const P=function An(){return!ln&&"BroadcastChannel"in self&&(ln=new BroadcastChannel("[Firebase] FID Change"),ln.onmessage=D=>{vr(D.data.key,D.data.fid)}),ln}();P&&P.postMessage({key:D,fid:T}),function di(){0===En.size&&ln&&(ln.close(),ln=null)}()}(P,T)}function vr(D,T){const P=En.get(D);if(P)for(const H of P)H(T)}let ln=null;const ke="firebase-installations-store";let Cn=null;function sn(){return Cn||(Cn=(0,ae.X3)("firebase-installations-database",1,(D,T)=>{0===T&&D.createObjectStore(ke)})),Cn}function lt(D,T){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,k.Z)(function*(D,T){const P=rn(D),ee=(yield sn()).transaction(ke,"readwrite"),te=ee.objectStore(ke),Fe=yield te.get(P);return yield te.put(T,P),yield ee.complete,(!Fe||Fe.fid!==T.fid)&&dr(D,T.fid),T})).apply(this,arguments)}function yn(D){return cn.apply(this,arguments)}function cn(){return(cn=(0,k.Z)(function*(D){const T=rn(D),H=(yield sn()).transaction(ke,"readwrite");yield H.objectStore(ke).delete(T),yield H.complete})).apply(this,arguments)}function Bn(D,T){return hi.apply(this,arguments)}function hi(){return(hi=(0,k.Z)(function*(D,T){const P=rn(D),ee=(yield sn()).transaction(ke,"readwrite"),te=ee.objectStore(ke),Fe=yield te.get(P),ot=T(Fe);return void 0===ot?yield te.delete(P):yield te.put(ot,P),yield ee.complete,ot&&(!Fe||Fe.fid!==ot.fid)&&dr(D,ot.fid),ot})).apply(this,arguments)}function wt(D){return dn.apply(this,arguments)}function dn(){return(dn=(0,k.Z)(function*(D){let T;const P=yield Bn(D.appConfig,H=>{const ee=er(H),te=Gr(D,ee);return T=te.registrationPromise,te.installationEntry});return""===P.fid?{installationEntry:yield T}:{installationEntry:P,registrationPromise:T}})).apply(this,arguments)}function er(D){return Ct(D||{fid:gt(),registrationStatus:0})}function Gr(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ye.create("app-offline"))};const P={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},H=function Dt(D,T){return Xe.apply(this,arguments)}(D,P);return{installationEntry:P,registrationPromise:H}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:_t(D)}:{installationEntry:T}}function Xe(){return(Xe=(0,k.Z)(function*(D,T){try{const P=yield ue(D,T);return lt(D.appConfig,P)}catch(P){throw Ue(P)&&409===P.customData.serverCode?yield yn(D.appConfig):yield lt(D.appConfig,{fid:T.fid,registrationStatus:0}),P}})).apply(this,arguments)}function _t(D){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,k.Z)(function*(D){let T=yield qt(D.appConfig);for(;1===T.registrationStatus;)yield fe(100),T=yield qt(D.appConfig);if(0===T.registrationStatus){const{installationEntry:P,registrationPromise:H}=yield wt(D);return H||P}return T})).apply(this,arguments)}function qt(D){return Bn(D,T=>{if(!T)throw ye.create("installation-not-found");return Ct(T)})}function Ct(D){return function Jr(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function tr(D,T){return hn.apply(this,arguments)}function hn(){return(hn=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:T},P){const H=ct(D,P),ee=Y(D,P),te=T.getImmediate({optional:!0});if(te){const Ft=yield te.getHeartbeatsHeader();Ft&&ee.append("x-firebase-client",Ft)}const ot={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:K,appId:D.appId}})},Tt=yield yt(()=>fetch(H,ot));if(Tt.ok)return He(yield Tt.json());throw yield rt("Generate Auth Token",Tt)})).apply(this,arguments)}function ct(D,{fid:T}){return`${$e(D)}/${T}/authTokens:generate`}function qn(D){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,k.Z)(function*(D,T=!1){let P;const H=yield Bn(D.appConfig,te=>{if(!Lt(te))throw ye.create("not-registered");const Fe=te.authToken;if(!T&&Z(Fe))return te;if(1===Fe.requestStatus)return P=Te(D,T),te;{if(!navigator.onLine)throw ye.create("app-offline");const ot=Q(te);return P=Et(D,ot),ot}});return P?yield P:H.authToken})).apply(this,arguments)}function Te(D,T){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,k.Z)(function*(D,T){let P=yield it(D.appConfig);for(;1===P.authToken.requestStatus;)yield fe(100),P=yield it(D.appConfig);const H=P.authToken;return 0===H.requestStatus?qn(D,T):H})).apply(this,arguments)}function it(D){return Bn(D,T=>{if(!Lt(T))throw ye.create("not-registered");return function we(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Et(D,T){return en.apply(this,arguments)}function en(){return(en=(0,k.Z)(function*(D,T){try{const P=yield tr(D,T),H=Object.assign(Object.assign({},T),{authToken:P});return yield lt(D.appConfig,H),P}catch(P){if(!Ue(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const H=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield lt(D.appConfig,H)}else yield yn(D.appConfig);throw P}})).apply(this,arguments)}function Lt(D){return void 0!==D&&2===D.registrationStatus}function Z(D){return 2===D.requestStatus&&!function G(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function Q(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function B(){return(B=(0,k.Z)(function*(D){const T=D,{installationEntry:P,registrationPromise:H}=yield wt(T);return H?H.catch(console.error):qn(T).catch(console.error),P.fid})).apply(this,arguments)}function le(){return(le=(0,k.Z)(function*(D,T=!1){const P=D;return yield Be(P),(yield qn(P,T)).token})).apply(this,arguments)}function Be(D){return We.apply(this,arguments)}function We(){return(We=(0,k.Z)(function*(D){const{registrationPromise:T}=yield wt(D);T&&(yield T)})).apply(this,arguments)}function bt(D){return ye.create("missing-app-config-values",{valueName:D})}const ta="installations",Qe=D=>{const T=D.getProvider("app").getImmediate(),P=function qr(D){if(!D||!D.options)throw bt("App Configuration");if(!D.name)throw bt("App Name");const T=["projectId","apiKey","appId"];for(const P of T)if(!D.options[P])throw bt(P);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:P,heartbeatServiceProvider:(0,oe._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Bt=D=>{const T=D.getProvider("app").getImmediate(),P=(0,oe._getProvider)(T,ta).getImmediate();return{getId:()=>function L(D){return B.apply(this,arguments)}(P),getToken:ee=>function q(D){return le.apply(this,arguments)}(P,ee)}};(function on(){(0,oe._registerComponent)(new Ee.wA(ta,Qe,"PUBLIC")),(0,oe._registerComponent)(new Ee.wA("installations-internal",Bt,"PRIVATE"))})(),(0,oe.registerVersion)(de,"0.5.7"),(0,oe.registerVersion)(de,"0.5.7","esm2017");const Zn="@firebase/remote-config",Qn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class El{constructor(T,P,H,ee){this.client=T,this.storage=P,this.storageCache=H,this.logger=ee}isCachedDataFresh(T,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-P,ee=H<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ee}.`),ee}fetch(T){var P=this;return(0,k.Z)(function*(){const[H,ee]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(ee&&P.isCachedDataFresh(T.cacheMaxAgeMillis,H))return ee;T.eTag=ee&&ee.eTag;const te=yield P.client.fetch(T),Fe=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Fe.push(P.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Fe),te})()}}function Au(D=navigator){return D.languages&&D.languages[0]||D.language}class Cl{constructor(T,P,H,ee,te,Fe){this.firebaseInstallations=T,this.sdkVersion=P,this.namespace=H,this.projectId=ee,this.apiKey=te,this.appId=Fe}fetch(T){var P=this;return(0,k.Z)(function*(){const[H,ee]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Tt={sdk_version:P.sdkVersion,app_instance_id:H,app_instance_id_token:ee,app_id:P.appId,language_code:Au()},Ft={method:"POST",headers:ot,body:JSON.stringify(Tt)},fn=fetch(Fe,Ft),Vt=new Promise((oo,as)=>{T.signal.addEventListener(()=>{const us=new Error("The operation was aborted.");us.name="AbortError",as(us)})});let Lr;try{yield Promise.race([fn,Vt]),Lr=yield fn}catch(oo){let as="fetch-client-network";throw"AbortError"===oo.name&&(as="fetch-timeout"),Qn.create(as,{originalErrorMessage:oo.message})}let On=Lr.status;const Ki=Lr.headers.get("ETag")||void 0;let xs,Yi;if(200===Lr.status){let oo;try{oo=yield Lr.json()}catch(as){throw Qn.create("fetch-client-parse",{originalErrorMessage:as.message})}xs=oo.entries,Yi=oo.state}if("INSTANCE_STATE_UNSPECIFIED"===Yi?On=500:"NO_CHANGE"===Yi?On=304:("NO_TEMPLATE"===Yi||"EMPTY_CONFIG"===Yi)&&(xs={}),304!==On&&200!==On)throw Qn.create("fetch-status",{httpStatus:On});return{status:On,eTag:Ki,config:xs}})()}}class Su{constructor(T,P){this.client=T,this.storage=P}fetch(T){var P=this;return(0,k.Z)(function*(){const H=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(T,H)})()}attemptFetch(T,{throttleEndTimeMillis:P,backoffCount:H}){var ee=this;return(0,k.Z)(function*(){yield function Er(D,T){return new Promise((P,H)=>{const ee=Math.max(T-Date.now(),0),te=setTimeout(P,ee);D.addEventListener(()=>{clearTimeout(te),H(Qn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,P);try{const te=yield ee.client.fetch(T);return yield ee.storage.deleteThrottleMetadata(),te}catch(te){if(!function Il(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(te))throw te;const Fe={throttleEndTimeMillis:Date.now()+(0,ae.$s)(H),backoffCount:H+1};return yield ee.storage.setThrottleMetadata(Fe),ee.attemptFetch(T,Fe)}})()}}class kc{constructor(T,P,H,ee,te){this.app=T,this._client=P,this._storageCache=H,this._storage=ee,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Co(D,T){const P=D.target.error||void 0;return Qn.create(T,{originalErrorMessage:P&&P.message})}const $s="app_namespace_store";class Nc{constructor(T,P,H,ee=function Mu(){return new Promise((D,T)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=H=>{T(Co(H,"storage-open"))},P.onsuccess=H=>{D(H.target.result)},P.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore($s,{keyPath:"compositeKey"})}}catch(P){T(Qn.create("storage-open",{originalErrorMessage:P}))}})}()){this.appId=T,this.appName=P,this.namespace=H,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var P=this;return(0,k.Z)(function*(){const H=yield P.openDbPromise;return new Promise((ee,te)=>{const ot=H.transaction([$s],"readonly").objectStore($s),Tt=P.createCompositeKey(T);try{const Ft=ot.get(Tt);Ft.onerror=fn=>{te(Co(fn,"storage-get"))},Ft.onsuccess=fn=>{const Vt=fn.target.result;ee(Vt?Vt.value:void 0)}}catch(Ft){te(Qn.create("storage-get",{originalErrorMessage:Ft&&Ft.message}))}})})()}set(T,P){var H=this;return(0,k.Z)(function*(){const ee=yield H.openDbPromise;return new Promise((te,Fe)=>{const Tt=ee.transaction([$s],"readwrite").objectStore($s),Ft=H.createCompositeKey(T);try{const fn=Tt.put({compositeKey:Ft,value:P});fn.onerror=Vt=>{Fe(Co(Vt,"storage-set"))},fn.onsuccess=()=>{te()}}catch(fn){Fe(Qn.create("storage-set",{originalErrorMessage:fn&&fn.message}))}})})()}delete(T){var P=this;return(0,k.Z)(function*(){const H=yield P.openDbPromise;return new Promise((ee,te)=>{const ot=H.transaction([$s],"readwrite").objectStore($s),Tt=P.createCompositeKey(T);try{const Ft=ot.delete(Tt);Ft.onerror=fn=>{te(Co(fn,"storage-delete"))},Ft.onsuccess=()=>{ee()}}catch(Ft){te(Qn.create("storage-delete",{originalErrorMessage:Ft&&Ft.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ou{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const P=T.storage.getLastFetchStatus(),H=T.storage.getLastSuccessfulFetchTimestampMillis(),ee=T.storage.getActiveConfig(),te=yield P;te&&(T.lastFetchStatus=te);const Fe=yield H;Fe&&(T.lastSuccessfulFetchTimestampMillis=Fe);const ot=yield ee;ot&&(T.activeConfig=ot)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Io(){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,k.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Fc(){(0,oe._registerComponent)(new Ee.wA("remote-config",function D(T,{instanceIdentifier:P}){const H=T.getProvider("app").getImmediate(),ee=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Qn.create("registration-window");if(!(0,ae.hl)())throw Qn.create("indexed-db-unavailable");const{projectId:te,apiKey:Fe,appId:ot}=H.options;if(!te)throw Qn.create("registration-project-id");if(!Fe)throw Qn.create("registration-api-key");if(!ot)throw Qn.create("registration-app-id");const Tt=new Nc(ot,H.name,P=P||"firebase"),Ft=new Ou(Tt),fn=new ce.Yd(Zn);fn.logLevel=ce.in.ERROR;const Vt=new Cl(ee,oe.SDK_VERSION,P,te,Fe,ot),Lr=new Su(Vt,Tt),On=new El(Lr,Tt,Ft,fn),Ki=new kc(H,On,Ft,Tt,fn);return function zr(D){const T=(0,ae.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ki),Ki},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Zn,"0.3.6"),(0,oe.registerVersion)(Zn,"0.3.6","esm2017")}();const xa="/firebase-messaging-sw.js",Lc="/firebase-cloud-messaging-push-scope",xi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ts="google.c.a.c_id",ji="google.c.a.c_l",$i="google.c.a.ts",Ma="google.c.a.e";var gr=(()=>{return(D=gr||(gr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",gr;var D})();function Hi(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mi(D){const P=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(P),ee=new Uint8Array(H.length);for(let te=0;te<H.length;++te)ee[te]=H.charCodeAt(te);return ee}const Oa="fcm_token_details_db",ia="fcm_token_object_Store";function Pa(D){return sa.apply(this,arguments)}function sa(){return sa=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(Oa))return null;let T=null;return(yield(0,ae.X3)(Oa,5,function(){var H=(0,k.Z)(function*(ee,te,Fe,ot){var Tt;if(te<2||!ee.objectStoreNames.contains(ia))return;const Ft=ot.objectStore(ia),fn=yield Ft.index("fcmSenderId").get(D);if(yield Ft.clear(),fn)if(2===te){const Vt=fn;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;T={token:Vt.fcmToken,createTime:null!==(Tt=Vt.createTime)&&void 0!==Tt?Tt:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:Hi(Vt.vapidKey)}}}else if(3===te){const Vt=fn;T={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:Hi(Vt.auth),p256dh:Hi(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:Hi(Vt.vapidKey)}}}else if(4===te){const Vt=fn;T={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:Hi(Vt.auth),p256dh:Hi(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:Hi(Vt.vapidKey)}}}});return function(ee,te,Fe,ot){return H.apply(this,arguments)}}())).close(),yield(0,ae.Lj)(Oa),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),Vc(T)?T:null}),sa.apply(this,arguments)}function Vc(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const vn="firebase-messaging-store";let Gs=null;function gs(){return Gs||(Gs=(0,ae.X3)("firebase-messaging-database",1,(D,T)=>{0===T&&D.createObjectStore(vn)})),Gs}function Kn(D){return To.apply(this,arguments)}function To(){return(To=(0,k.Z)(function*(D){const T=Ao(D),H=yield(yield gs()).transaction(vn).objectStore(vn).get(T);if(H)return H;{const ee=yield Pa(D.appConfig.senderId);if(ee)return yield ti(D,ee),ee}})).apply(this,arguments)}function ti(D,T){return nr.apply(this,arguments)}function nr(){return(nr=(0,k.Z)(function*(D,T){const P=Ao(D),ee=(yield gs()).transaction(vn,"readwrite");return yield ee.objectStore(vn).put(T,P),yield ee.complete,T})).apply(this,arguments)}function Cr(D){return ms.apply(this,arguments)}function ms(){return(ms=(0,k.Z)(function*(D){const T=Ao(D),H=(yield gs()).transaction(vn,"readwrite");yield H.objectStore(vn).delete(T),yield H.complete})).apply(this,arguments)}function Ao({appConfig:D}){return D.appId}const _n=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _s(D,T){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,k.Z)(function*(D,T){const P=yield ws(D),H=bs(T),ee={method:"POST",headers:P,body:JSON.stringify(H)};let te;try{te=yield(yield fetch(mt(D.appConfig),ee)).json()}catch(Fe){throw _n.create("token-subscribe-failed",{errorInfo:Fe})}if(te.error)throw _n.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw _n.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function So(D,T){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,k.Z)(function*(D,T){const P=yield ws(D),H=bs(T.subscriptionOptions),ee={method:"PATCH",headers:P,body:JSON.stringify(H)};let te;try{te=yield(yield fetch(`${mt(D.appConfig)}/${T.token}`,ee)).json()}catch(Fe){throw _n.create("token-update-failed",{errorInfo:Fe})}if(te.error)throw _n.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw _n.create("token-update-no-token");return te.token})).apply(this,arguments)}function vs(D,T){return ns.apply(this,arguments)}function ns(){return(ns=(0,k.Z)(function*(D,T){const H={method:"DELETE",headers:yield ws(D)};try{const te=yield(yield fetch(`${mt(D.appConfig)}/${T}`,H)).json();if(te.error)throw _n.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(ee){throw _n.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function mt({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function ws(D){return oa.apply(this,arguments)}function oa(){return(oa=(0,k.Z)(function*({appConfig:D,installations:T}){const P=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function bs({p256dh:D,auth:T,endpoint:P,vapidKey:H}){const ee={web:{endpoint:P,auth:T,p256dh:D}};return H!==xi&&(ee.web.applicationPubKey=H),ee}const qs=6048e5;function Es(D){return xo.apply(this,arguments)}function xo(){return(xo=(0,k.Z)(function*(D){const T=yield zs(D.swRegistration,D.vapidKey),P={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:Hi(T.getKey("auth")),p256dh:Hi(T.getKey("p256dh"))},H=yield Kn(D.firebaseDependencies);if(H){if(Is(H.subscriptionOptions,P))return Date.now()>=H.createTime+qs?zt(D,{token:H.token,createTime:Date.now(),subscriptionOptions:P}):H.token;try{yield vs(D.firebaseDependencies,H.token)}catch(ee){console.warn(ee)}return xn(D.firebaseDependencies,P)}return xn(D.firebaseDependencies,P)})).apply(this,arguments)}function Ru(D){return Me.apply(this,arguments)}function Me(){return(Me=(0,k.Z)(function*(D){const T=yield Kn(D.firebaseDependencies);T&&(yield vs(D.firebaseDependencies,T.token),yield Cr(D.firebaseDependencies));const P=yield D.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function zt(D,T){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,k.Z)(function*(D,T){try{const P=yield So(D.firebaseDependencies,T),H=Object.assign(Object.assign({},T),{token:P,createTime:Date.now()});return yield ti(D.firebaseDependencies,H),P}catch(P){throw yield Ru(D),P}})).apply(this,arguments)}function xn(D,T){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,k.Z)(function*(D,T){const H={token:yield _s(D,T),createTime:Date.now(),subscriptionOptions:T};return yield ti(D,H),H.token})).apply(this,arguments)}function zs(D,T){return mr.apply(this,arguments)}function mr(){return(mr=(0,k.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Mi(T)})})).apply(this,arguments)}function Is(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function Ws(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function aa(D,T){if(!T.notification)return;D.notification={};const P=T.notification.title;P&&(D.notification.title=P);const H=T.notification.body;H&&(D.notification.body=H);const ee=T.notification.image;ee&&(D.notification.image=ee)}(T,D),function Ra(D,T){!T.data||(D.data=T.data)}(T,D),function Oo(D,T){if(!T.fcmOptions)return;D.fcmOptions={};const P=T.fcmOptions.link;P&&(D.fcmOptions.link=P);const H=T.fcmOptions.analytics_label;H&&(D.fcmOptions.analyticsLabel=H)}(T,D),T}function Zs(D){return"object"==typeof D&&!!D&&ts in D}function or(D,T){const P=[];for(let H=0;H<D.length;H++)P.push(D.charAt(H)),H<T.length&&P.push(T.charAt(H));return P.join("")}function ua(D){return _n.create("missing-app-config-values",{valueName:D})}or("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),or("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qi{constructor(T,P,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function pi(D){if(!D||!D.options)throw ua("App Configuration Object");if(!D.name)throw ua("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:P}=D;for(const H of T)if(!P[H])throw ua(H);return{appName:D.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ee,installations:P,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Oi(D){return Po.apply(this,arguments)}function Po(){return(Po=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(xa,{scope:Lc}),D.swRegistration.update().catch(()=>{})}catch(T){throw _n.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Ks(D,T){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,k.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield Oi(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw _n.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function Ro(D,T){return ko.apply(this,arguments)}function ko(){return(ko=(0,k.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=xi)})).apply(this,arguments)}function la(){return(la=(0,k.Z)(function*(D,T){if(!navigator)throw _n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _n.create("permission-blocked");return yield Ro(D,null==T?void 0:T.vapidKey),yield Ks(D,null==T?void 0:T.serviceWorkerRegistration),Es(D)})).apply(this,arguments)}function Qs(D,T,P){return ka.apply(this,arguments)}function ka(){return(ka=(0,k.Z)(function*(D,T,P){const H=No(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:P[ts],message_name:P[ji],message_time:P[$i],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function No(D){switch(D){case gr.NOTIFICATION_CLICKED:return"notification_open";case gr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xs(){return(Xs=(0,k.Z)(function*(D,T){const P=T.data;if(!P.isFirebaseMessaging)return;D.onMessageHandler&&P.messageType===gr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ws(P)):D.onMessageHandler.next(Ws(P)));const H=P.data;Zs(H)&&"1"===H[Ma]&&(yield Qs(D,P.messageType,H))})).apply(this,arguments)}const ca="@firebase/messaging",ku=D=>{const T=new qi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function Js(D,T){return Xs.apply(this,arguments)}(T,P)),T},eo=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:H=>function Ys(D,T){return la.apply(this,arguments)}(T,H)}};function xl(){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,k.Z)(function*(){try{yield(0,ae.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Na(){(0,oe._registerComponent)(new Ee.wA("messaging",ku,"PUBLIC")),(0,oe._registerComponent)(new Ee.wA("messaging-internal",eo,"PRIVATE")),(0,oe.registerVersion)(ca,"0.9.11"),(0,oe.registerVersion)(ca,"0.9.11","esm2017")}();const Pi="analytics",La="firebase_id",ha="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Va="https://www.googletagmanager.com/gtag/js",Mn=new ce.Yd("@firebase/analytics");function Lo(D){return Promise.all(D.map(T=>T.catch(P=>P)))}function Bc(D,T){const P=document.createElement("script");P.src=`${Va}?l=${D}&id=${T}`,P.async=!0,document.head.appendChild(P)}function gi(D,T,P,H,ee,te){return fa.apply(this,arguments)}function fa(){return(fa=(0,k.Z)(function*(D,T,P,H,ee,te){const Fe=H[ee];try{if(Fe)yield T[Fe];else{const Tt=(yield Lo(P)).find(Ft=>Ft.measurementId===ee);Tt&&(yield T[Tt.appId])}}catch(ot){Mn.error(ot)}D("config",ee,te)})).apply(this,arguments)}function Vo(D,T,P,H,ee){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,k.Z)(function*(D,T,P,H,ee){try{let te=[];if(ee&&ee.send_to){let Fe=ee.send_to;Array.isArray(Fe)||(Fe=[Fe]);const ot=yield Lo(P);for(const Tt of Fe){const Ft=ot.find(Vt=>Vt.measurementId===Tt),fn=Ft&&T[Ft.appId];if(!fn){te=[];break}te.push(fn)}}0===te.length&&(te=Object.values(T)),yield Promise.all(te),D("event",H,ee||{})}catch(te){Mn.error(te)}})).apply(this,arguments)}function ja(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Va))return T;return null}const $n=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),$=new class M{constructor(T={},P=1e3){this.throttleMetadata=T,this.intervalMillis=P}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,P){this.throttleMetadata[T]=P}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function xe(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function dt(D){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,k.Z)(function*(D){var T;const{appId:P,apiKey:H}=D,ee={method:"GET",headers:xe(H)},te=ha.replace("{app-id}",P),Fe=yield fetch(te,ee);if(200!==Fe.status&&304!==Fe.status){let ot="";try{const Tt=yield Fe.json();(null===(T=Tt.error)||void 0===T?void 0:T.message)&&(ot=Tt.error.message)}catch(Tt){}throw $n.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:ot})}return Fe.json()})).apply(this,arguments)}function ar(D){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,k.Z)(function*(D,T=$,P){const{appId:H,apiKey:ee,measurementId:te}=D.options;if(!H)throw $n.create("no-app-id");if(!ee){if(te)return{measurementId:te,appId:H};throw $n.create("no-api-key")}const Fe=T.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ot=new $a;return setTimeout((0,k.Z)(function*(){ot.abort()}),void 0!==P?P:6e4),Ri({appId:H,apiKey:ee,measurementId:te},Fe,ot,T)})).apply(this,arguments)}function Ri(D,T,P){return ki.apply(this,arguments)}function ki(){return(ki=(0,k.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:P},H,ee=$){const{appId:te,measurementId:Fe}=D;try{yield Qt(H,T)}catch(ot){if(Fe)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${ot.message}]`),{appId:te,measurementId:Fe};throw ot}try{const ot=yield dt(D);return ee.deleteThrottleMetadata(te),ot}catch(ot){if(!Dh(ot)){if(ee.deleteThrottleMetadata(te),Fe)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${ot.message}]`),{appId:te,measurementId:Fe};throw ot}const Tt=503===Number(ot.customData.httpStatus)?(0,ae.$s)(P,ee.intervalMillis,30):(0,ae.$s)(P,ee.intervalMillis),Ft={throttleEndTimeMillis:Date.now()+Tt,backoffCount:P+1};return ee.setThrottleMetadata(te,Ft),Mn.debug(`Calling attemptFetch again in ${Tt} millis`),Ri(D,Ft,H,ee)}})).apply(this,arguments)}function Qt(D,T){return new Promise((P,H)=>{const ee=Math.max(T-Date.now(),0),te=setTimeout(P,ee);D.addEventListener(()=>{clearTimeout(te),H($n.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Dh(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class $a{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function pa(){return no.apply(this,arguments)}function no(){return(no=(0,k.Z)(function*(){if(!(0,ae.hl)())return Mn.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(D){return Mn.warn($n.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Ts(){return(Ts=(0,k.Z)(function*(D,T,P,H,ee,te,Fe){var ot;const Tt=ar(D);Tt.then(On=>{P[On.measurementId]=On.appId,D.options.measurementId&&On.measurementId!==D.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${On.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(On=>Mn.error(On)),T.push(Tt);const Ft=pa().then(On=>{if(On)return H.getId()}),[fn,Vt]=yield Promise.all([Tt,Ft]);ja()||Bc(te,fn.measurementId),ee("js",new Date);const Lr=null!==(ot=null==Fe?void 0:Fe.config)&&void 0!==ot?ot:{};return Lr.origin="firebase",Lr.update=!0,null!=Vt&&(Lr[La]=Vt),ee("config",fn.measurementId,Lr),fn.measurementId})).apply(this,arguments)}class $c{constructor(T){this.app=T}_delete(){return delete rs[this.app.options.appId],Promise.resolve()}}let rs={},Vu=[];const Ol={};let Th,Ni,Uo="dataLayer",is=!1;function Pl(D,T,P){!function zi(){const D=[];if((0,ae.ru)()&&D.push("This is a browser extension environment."),(0,ae.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((H,ee)=>`(${ee+1}) ${H}`).join(" "),P=$n.create("invalid-analytics-context",{errorInfo:T});Mn.warn(P.message)}}();const H=D.options.appId;if(!H)throw $n.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw $n.create("no-api-key");Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rs[H])throw $n.create("already-exists",{id:H});if(!is){!function Ua(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(Uo);const{wrappedGtag:te,gtagCore:Fe}=function jc(D,T,P,H,ee){let te=function(...Fe){window[H].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(te=window[ee]),window[ee]=function Ih(D,T,P,H){function te(){return(te=(0,k.Z)(function*(Fe,ot,Tt){try{"event"===Fe?yield Vo(D,T,P,ot,Tt):"config"===Fe?yield gi(D,T,P,H,ot,Tt):D("set",ot)}catch(Ft){Mn.error(Ft)}})).apply(this,arguments)}return function ee(Fe,ot,Tt){return te.apply(this,arguments)}}(te,D,T,P),{gtagCore:te,wrappedGtag:window[ee]}}(rs,Vu,Ol,Uo,"gtag");Ni=te,Th=Fe,is=!0}return rs[H]=function Or(D,T,P,H,ee,te,Fe){return Ts.apply(this,arguments)}(D,Vu,Ol,T,Th,Uo,P),new $c(D)}function Ha(){return(Ha=(0,k.Z)(function*(D,T,P,H,ee){if(ee&&ee.global)D("event",P,H);else{const te=yield T;D("event",P,Object.assign(Object.assign({},H),{send_to:te}))}})).apply(this,arguments)}function Dn(){return qa.apply(this,arguments)}function qa(){return(qa=(0,k.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(D){return!1}})).apply(this,arguments)}const ni="@firebase/analytics";!function io(){(0,oe._registerComponent)(new Ee.wA(Pi,(T,{options:P})=>Pl(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,oe._registerComponent)(new Ee.wA("analytics-internal",function D(T){try{const P=T.getProvider(Pi).getImmediate();return{logEvent:(H,ee,te)=>function ro(D,T,P,H){D=(0,ae.m9)(D),function tn(D,T,P,H,ee){return Ha.apply(this,arguments)}(Ni,rs[D.app.options.appId],T,P,H).catch(ee=>Mn.error(ee))}(P,H,ee,te)}}catch(P){throw $n.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,oe.registerVersion)(ni,"0.7.7"),(0,oe.registerVersion)(ni,"0.7.7","esm2017")}();var ur=V(4408),va=V(7565);const Sh=new class vp extends va.v{}(class so extends ur.o{constructor(T,P){super(T,P),this.scheduler=T,this.work=P}schedule(T,P=0){return P>0?super.schedule(T,P):(this.delay=P,this.state=T,this.scheduler.flush(this),this)}execute(T,P){return P>0||this.closed?super.execute(T,P):this._execute(T,P)}requestAsyncId(T,P,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(T,P,H):T.flush(this)}});var os=V(4986),Uu=V(8306),za=V(8505),Bo=V(9468),Bu=V(5363);const ju=new d.GfV("7.3.0"),Rl="__angularfire_symbol__analyticsIsSupportedValue",qc="__angularfire_symbol__analyticsIsSupported",zc="__angularfire_symbol__remoteConfigIsSupportedValue",jo="__angularfire_symbol__remoteConfigIsSupported",St="__angularfire_symbol__messagingIsSupportedValue",Wa="__angularfire_symbol__messagingIsSupported";function Mh(D,T,P){if(T){if(1===T.length)return T[0];const te=T.filter(Fe=>Fe.app===P);if(1===te.length)return te[0]}return P.container.getProvider(D).getImmediate({optional:!0})}globalThis[qc]||(globalThis[qc]=Dn().then(D=>globalThis[Rl]=D).catch(()=>globalThis[Rl]=!1)),globalThis[Wa]||(globalThis[Wa]=xl().then(D=>globalThis[St]=D).catch(()=>globalThis[St]=!1)),globalThis[jo]||(globalThis[jo]=Io().then(D=>globalThis[zc]=D).catch(()=>globalThis[zc]=!1));const Oh=(D,T)=>{const P=T?[T]:(0,j.C6)(),H=[];return P.forEach(ee=>{ee.container.getProvider(D).instances.forEach(Fe=>{H.includes(Fe)||H.push(Fe)})}),H};function Yr(){}class Za{constructor(T,P=Sh){this.zone=T,this.delegate=P}now(){return this.delegate.now()}schedule(T,P,H){const ee=this.zone;return this.delegate.schedule(function(Fe){ee.runGuarded(()=>{T.apply(this,[Fe])})},P,H)}}class Nl{constructor(T){this.zone=T,this.task=null}call(T,P){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yr,{},Yr,Yr)),P.pipe((0,za.b)({next:H,complete:H,error:H})).subscribe(T).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wa=(()=>{class D{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Za(Zone.current)),this.insideAngular=P.run(()=>new Za(Zone.current,os.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(P){return new(P||D)(d.LFG(d.R0b))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ss(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Dr(D){return Ss().ngZone.runOutsideAngular(()=>D())}function lr(D){return Ss().ngZone.run(()=>D())}function Ka(D){return Ss(),function Wc(D){return function(P){return(P=P.lift(new Nl(D.ngZone))).pipe((0,Bo.R)(D.outsideAngular),(0,Bu.Q)(D.insideAngular))}}(Ss())(D)}const Fl=(D,T)=>{const P=void 0;return function(){const H=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),lr(()=>D.apply(P,H))}},Ll=(D,T)=>function(){let P;const H=arguments;for(let te=0;te<arguments.length;te++)"function"==typeof H[te]&&(T&&(P||(P=lr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yr,{},Yr,Yr)))),H[te]=Fl(H[te],P));const ee=Dr(()=>D.apply(this,H));if(!T){if(ee instanceof Uu.y){const te=Ss();return ee.pipe((0,Bo.R)(te.outsideAngular),(0,Bu.Q)(te.insideAngular))}return lr(()=>ee)}return ee instanceof Uu.y?ee.pipe(Ka):ee instanceof Promise?lr(()=>new Promise((te,Fe)=>ee.then(ot=>lr(()=>te(ot)),ot=>lr(()=>Fe(ot))))):"function"==typeof ee&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),ee.apply(this,arguments)}:lr(()=>ee)}},2165:(vt,Se,V)=>{"use strict";V.d(Se,{$:()=>ko,A:()=>gt,E:()=>Eo,G:()=>Er,I:()=>gr,K:()=>Fn,L:()=>To,M:()=>ms,N:()=>Ao,P:()=>Ll,Q:()=>ys,R:()=>Oh,T:()=>Cr,U:()=>So,V:()=>Zr,W:()=>oa,X:()=>aa,Y:()=>Oo,Z:()=>or,_:()=>Oi,a:()=>Ni,a0:()=>la,a1:()=>ka,a2:()=>Js,a3:()=>ca,a4:()=>ku,a5:()=>Na,a6:()=>xl,a7:()=>Mr,a8:()=>Ln,a9:()=>Fu,aA:()=>Qc,aB:()=>Em,aC:()=>fr,aG:()=>zi,aJ:()=>_s,aa:()=>Uc,ab:()=>La,ae:()=>Va,af:()=>Lo,ag:()=>Bc,aj:()=>Ru,ak:()=>$n,am:()=>ki,an:()=>Or,ao:()=>fs,ap:()=>sn,aq:()=>fi,ar:()=>wo,as:()=>ln,at:()=>Hl,au:()=>Nh,av:()=>An,aw:()=>ke,ax:()=>Nn,ay:()=>xr,az:()=>kh,b:()=>ga,c:()=>Tt,d:()=>Lr,e:()=>fn,f:()=>Kc,g:()=>bp,h:()=>Cm,i:()=>so,j:()=>Ms,k:()=>Rm,l:()=>Ss,m:()=>ql,o:()=>Ot,r:()=>lr,s:()=>Nl,u:()=>Wc,z:()=>En});var d=V(5861),j=V(2090),k=V(9681);function ce(_,f){var g={};for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&f.indexOf(v)<0&&(g[v]=_[v]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var x=0;for(v=Object.getOwnPropertySymbols(_);x<v.length;x++)f.indexOf(v[x])<0&&Object.prototype.propertyIsEnumerable.call(_,v[x])&&(g[v[x]]=_[v[x]])}return g}var ue=V(1877),Ve=V(4859);const Ot={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},gt={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const En=function ut(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},dr=function rn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Kt=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vr=new ue.Yd("@firebase/auth");function Tn(_,...f){vr.logLevel<=ue.in.ERROR&&vr.error(`Auth (${k.SDK_VERSION}): ${_}`,...f)}function ln(_,...f){throw wr(_,...f)}function An(_,...f){return wr(_,...f)}function di(_,f,g){const v=Object.assign(Object.assign({},dr()),{[f]:g});return new j.LL("auth","Firebase",v).create(f,{appName:_.name})}function Sr(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&ln(_,"argument-error"),di(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wr(_,...f){if("string"!=typeof _){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(g,...v)}return Kt.create(_,...f)}function ke(_,f,...g){if(!_)throw wr(f,...g)}function Cn(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Tn(f),new Error(f)}function sn(_,f){_||Cn(f)}const lt=new Map;function Nn(_){sn(_ instanceof Function,"Expected a class definition");let f=lt.get(_);return f?(sn(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,lt.set(_,f),f)}function Bn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function hi(){return"http:"===wt()||"https:"===wt()}function wt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Gr{constructor(f,g){this.shortDelay=f,this.longDelay=g,sn(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function dn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(hi()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dt(_,f){sn(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Xe{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nr=new Gr(3e4,6e4);function qt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ct(_,f,g,v){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,d.Z)(function*(_,f,g,v,x={}){return tr(_,x,(0,d.Z)(function*(){let R={},J={};v&&("GET"===f?J=v:R={body:JSON.stringify(v)});const be=(0,j.xO)(Object.assign({key:_.config.apiKey},J)).slice(1),nt=yield _._getAdditionalHeaders();return nt["Content-Type"]="application/json",_.languageCode&&(nt["X-Firebase-Locale"]=_.languageCode),Xe.fetch()(Zt(_,_.config.apiHost,g,be),Object.assign({method:f,headers:nt,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function tr(_,f,g){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(_,f,g){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},_t),f);try{const x=new Te(_),R=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const J=yield R.json();if("needConfirmation"in J)throw Ae(_,"account-exists-with-different-credential",J);if(R.ok&&!("errorMessage"in J))return J;{const be=R.ok?J.errorMessage:J.error.message,[nt,ze]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nt)throw Ae(_,"credential-already-in-use",J);if("EMAIL_EXISTS"===nt)throw Ae(_,"email-already-in-use",J);const xt=v[nt]||nt.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw di(_,xt,ze);ln(_,xt)}}catch(x){if(x instanceof j.ZR)throw x;ln(_,"network-request-failed")}})).apply(this,arguments)}function ct(_,f,g,v){return qn.apply(this,arguments)}function qn(){return(qn=(0,d.Z)(function*(_,f,g,v,x={}){const R=yield Ct(_,f,g,v,x);return"mfaPendingCredential"in R&&ln(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Zt(_,f,g,v){const x=`${f}${g}?${v}`;return _.config.emulator?Dt(_.config,x):`${_.config.apiScheme}://${x}`}class Te{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(An(this.auth,"network-request-failed")),Nr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ae(_,f,g){const v={appName:_.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const x=An(_,f,v);return x.customData._tokenResponse=g,x}function Et(){return(Et=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function en(_,f){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Z(_,f){return G.apply(this,arguments)}function G(){return(G=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Q(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function B(){return(B=(0,d.Z)(function*(_,f=!1){const g=(0,j.m9)(_),v=yield g.getIdToken(f),x=le(v);ke(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const R="object"==typeof x.firebase?x.firebase:void 0,J=null==R?void 0:R.sign_in_provider;return{claims:x,token:v,authTime:Q(q(x.auth_time)),issuedAtTime:Q(q(x.iat)),expirationTime:Q(q(x.exp)),signInProvider:J||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function q(_){return 1e3*Number(_)}function le(_){const[f,g,v]=_.split(".");if(void 0===f||void 0===g||void 0===v)return Tn("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,j.tV)(g);return x?JSON.parse(x):(Tn("Failed to decode base64 JWT payload"),null)}catch(x){return Tn("Caught error parsing JWT payload as JSON",x),null}}function We(_,f){return At.apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof j.ZR&&st(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}function st({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Ut{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class In{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q(this.lastLoginAt),this.creationTime=Q(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zn(_){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,d.Z)(function*(_){var f;const g=_.auth,v=yield _.getIdToken(),x=yield We(_,Z(g,{idToken:v}));ke(null==x?void 0:x.users.length,g,"internal-error");const R=x.users[0];_._notifyReloadListener(R);const J=(null===(f=R.providerUserInfo)||void 0===f?void 0:f.length)?ta(R.providerUserInfo):[],be=bt(_.providerData,J),xt=!!_.isAnonymous&&!(_.email&&R.passwordHash||(null==be?void 0:be.length)),Pn={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:be,metadata:new In(R.createdAt,R.lastLoginAt),isAnonymous:xt};Object.assign(_,Pn)})).apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(_){const f=(0,j.m9)(_);yield zn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function bt(_,f){return[..._.filter(v=>!f.some(x=>x.providerId===v.providerId)),...f]}function ta(_){return _.map(f=>{var{providerId:g}=f,v=ce(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Qe(){return(Qe=(0,d.Z)(function*(_,f){const g=yield tr(_,{},(0,d.Z)(function*(){const v=(0,j.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:R}=_.config,J=Zt(_,x,"/v1/token",`key=${R}`),be=yield _._getAdditionalHeaders();return be["Content-Type"]="application/x-www-form-urlencoded",Xe.fetch()(J,{method:"POST",headers:be,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Bt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ke(f.idToken,"internal-error"),ke(void 0!==f.idToken,"internal-error"),ke(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Be(_){const f=le(_);return ke(f,"internal-error"),ke(void 0!==f.exp,"internal-error"),ke(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,d.Z)(function*(){return ke(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,d.Z)(function*(){const{accessToken:x,refreshToken:R,expiresIn:J}=yield function Xr(_,f){return Qe.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(x,R,Number(J))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:x,expirationTime:R}=g,J=new Bt;return v&&(ke("string"==typeof v,"internal-error",{appName:f}),J.refreshToken=v),x&&(ke("string"==typeof x,"internal-error",{appName:f}),J.accessToken=x),R&&(ke("number"==typeof R,"internal-error",{appName:f}),J.expirationTime=R),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Bt,this.toJSON())}_performRefresh(){return Cn("not implemented")}}function on(_,f){ke("string"==typeof _||void 0===_,"internal-error",{appName:f})}class Zn{constructor(f){var{uid:g,auth:v,stsTokenManager:x}=f,R=ce(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ut(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new In(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,d.Z)(function*(){const v=yield We(g,g.stsTokenManager.getToken(g.auth,f));return ke(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function L(_){return B.apply(this,arguments)}(this,f)}reload(){return function Fr(_){return qr.apply(this,arguments)}(this)}_assign(f){this!==f&&(ke(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Zn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,d.Z)(function*(){let x=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),x=!0),g&&(yield zn(v)),yield v.auth._persistUserIfCurrent(v),x&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,d.Z)(function*(){const g=yield f.getIdToken();return yield We(f,function it(_,f){return Et.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,x,R,J,be,nt,ze,xt;const Pn=null!==(v=g.displayName)&&void 0!==v?v:void 0,kn=null!==(x=g.email)&&void 0!==x?x:void 0,Tr=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,rr=null!==(J=g.photoURL)&&void 0!==J?J:void 0,lo=null!==(be=g.tenantId)&&void 0!==be?be:void 0,zl=null!==(nt=g._redirectEventId)&&void 0!==nt?nt:void 0,Zu=null!==(ze=g.createdAt)&&void 0!==ze?ze:void 0,Vr=null!==(xt=g.lastLoginAt)&&void 0!==xt?xt:void 0,{uid:Xa,emailVerified:ad,isAnonymous:Sp,providerData:$h,stsTokenManager:Hh}=g;ke(Xa&&Hh,f,"internal-error");const Gh=Bt.fromJSON(this.name,Hh);ke("string"==typeof Xa,f,"internal-error"),on(Pn,f.name),on(kn,f.name),ke("boolean"==typeof ad,f,"internal-error"),ke("boolean"==typeof Sp,f,"internal-error"),on(Tr,f.name),on(rr,f.name),on(lo,f.name),on(zl,f.name),on(Zu,f.name),on(Vr,f.name);const ud=new Zn({uid:Xa,auth:f,email:kn,emailVerified:ad,displayName:Pn,isAnonymous:Sp,photoURL:rr,phoneNumber:Tr,tenantId:lo,stsTokenManager:Gh,createdAt:Zu,lastLoginAt:Vr});return $h&&Array.isArray($h)&&(ud.providerData=$h.map(xp=>Object.assign({},xp))),zl&&(ud._redirectEventId=zl),ud}static _fromIdTokenResponse(f,g,v=!1){return(0,d.Z)(function*(){const x=new Bt;x.updateFromServerResponse(g);const R=new Zn({uid:g.localId,auth:f,stsTokenManager:x,isAnonymous:v});return yield zn(R),R})()}}const Fn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,v){var x=this;return(0,d.Z)(function*(){x.storage[g]=v})()}_get(g){var v=this;return(0,d.Z)(function*(){const x=v.storage[g];return void 0===x?null:x})()}_remove(g){var v=this;return(0,d.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return _.type="NONE",_})();function xr(_,f,g){return`firebase:${_}:${f}:${g}`}class jt{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:x,name:R}=this.auth;this.fullUserKey=xr(this.userKey,x.apiKey,R),this.fullPersistenceKey=xr("persistence",x.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Zn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,d.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,d.Z)(function*(){if(!g.length)return new jt(Nn(Fn),f,v);const x=(yield Promise.all(g.map(function(){var ze=(0,d.Z)(function*(xt){if(yield xt._isAvailable())return xt});return function(xt){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let R=x[0]||Nn(Fn);const J=xr(v,f.config.apiKey,f.name);let be=null;for(const ze of g)try{const xt=yield ze._get(J);if(xt){const Pn=Zn._fromJSON(f,xt);ze!==R&&(be=Pn),R=ze;break}}catch(xt){}const nt=x.filter(ze=>ze._shouldAllowMigration);return R._shouldAllowMigration&&nt.length?(R=nt[0],be&&(yield R._set(J,be.toJSON())),yield Promise.all(g.map(function(){var ze=(0,d.Z)(function*(xt){if(xt!==R)try{yield xt._remove(J)}catch(Pn){}});return function(xt){return ze.apply(this,arguments)}}())),new jt(R,f,v)):new jt(R,f,v)})()}}function Qn(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ai(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(hs(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Bi(f))return"Blackberry";if(br(f))return"Webos";if($t(f))return"Safari";if((f.includes("chrome/")||vo(f))&&!f.includes("edge/"))return"Chrome";if(wo(f))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function hs(_=(0,j.z$)()){return/firefox\//i.test(_)}function $t(_=(0,j.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function vo(_=(0,j.z$)()){return/crios\//i.test(_)}function Ai(_=(0,j.z$)()){return/iemobile/i.test(_)}function wo(_=(0,j.z$)()){return/android/i.test(_)}function Bi(_=(0,j.z$)()){return/blackberry/i.test(_)}function br(_=(0,j.z$)()){return/webos/i.test(_)}function fi(_=(0,j.z$)()){return/iphone|ipad|ipod/i.test(_)}function fs(_=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function bo(_=(0,j.z$)()){return fi(_)||wo(_)||br(_)||Bi(_)||/windows phone/i.test(_)||Ai(_)}function ei(_,f=[]){let g;switch(_){case"Browser":g=Qn((0,j.z$)());break;case"Worker":g=`${Qn((0,j.z$)())}-${_}`;break;default:g=_}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${k.SDK_VERSION}/${v}`}class Si{constructor(f,g,v){this.app=f,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ps(this),this.idTokenSubscription=new ps(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=Nn(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var x,R;if(!v._deleted&&(v.persistenceManager=yield jt.create(v,f),!v._deleted)){if(null===(x=v._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(J){}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(R=v.currentUser)||void 0===R?void 0:R.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,d.Z)(function*(){var v;let x=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,J=null==x?void 0:x._redirectEventId,be=yield g.tryRedirectSignIn(f);(!R||R===J)&&(null==be?void 0:be.user)&&(x=be.user)}return x?x._redirectEventId?(ke(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)):g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,d.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(x){yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,d.Z)(function*(){try{yield zn(f)}catch(v){if("auth/network-request-failed"!==v.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function er(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,d.Z)(function*(){const v=f?(0,j.m9)(f):null;return v&&ke(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,d.Z)(function*(){if(!g._deleted)return f&&ke(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,d.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(Nn(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new j.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,d.Z)(function*(){const x=yield v.getOrInitRedirectPersistenceManager(g);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&Nn(f)||g._popupRedirectResolver;ke(v,g,"argument-error"),g.redirectPersistenceManager=yield jt.create(g,[Nn(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,d.Z)(function*(){var v,x;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,d.Z)(function*(){if(f===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,x){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),J=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(J,this,"internal-error"),J.then(()=>R(this.currentUser)),"function"==typeof g?f.addObserver(g,v,x):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ei(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const x=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return x&&(v["X-Firebase-Client"]=x),v})()}}function fr(_){return(0,j.m9)(_)}class ps{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,j.ne)(g=>this.observer=g)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Eo(_,f,g){const v=fr(_);ke(v._canInitEmulator,v,"emulator-config-failed"),ke(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const x=!!(null==g?void 0:g.disableWarnings),R=pr(f),{host:J,port:be}=function El(_){const f=pr(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(v);if(x){const R=x[1];return{host:R,port:Au(v.substr(R.length+1))}}{const[R,J]=v.split(":");return{host:R,port:Au(J)}}}(f);v.config.emulator={url:`${R}//${J}${null===be?"":`:${be}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:J,port:be,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Cl(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function pr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Au(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Er{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Cn("not implemented")}_getIdTokenResponse(f){return Cn("not implemented")}_linkToIdToken(f,g){return Cn("not implemented")}_getReauthenticationResolver(f){return Cn("not implemented")}}function Il(_,f){return Su.apply(this,arguments)}function Su(){return(Su=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:resetPassword",qt(_,f))})).apply(this,arguments)}function Dl(_,f){return xu.apply(this,arguments)}function xu(){return(xu=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function kc(_,f){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",qt(_,f))})).apply(this,arguments)}function es(){return(es=(0,d.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:signInWithPassword",qt(_,f))})).apply(this,arguments)}function na(_,f){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:sendOobCode",qt(_,f))})).apply(this,arguments)}function Nc(_,f){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,d.Z)(function*(_,f){return na(_,f)})).apply(this,arguments)}function Fc(_,f){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,d.Z)(function*(_,f){return na(_,f)})).apply(this,arguments)}function ra(_,f){return Io.apply(this,arguments)}function Io(){return(Io=(0,d.Z)(function*(_,f){return na(_,f)})).apply(this,arguments)}function Pu(_,f){return xa.apply(this,arguments)}function xa(){return(xa=(0,d.Z)(function*(_,f){return na(_,f)})).apply(this,arguments)}function xi(){return(xi=(0,d.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:signInWithEmailLink",qt(_,f))})).apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:signInWithEmailLink",qt(_,f))})).apply(this,arguments)}class ji extends Er{constructor(f,g,v,x=null){super("password",v),this._email=f,this._password=g,this._tenantId=x}static _fromEmailAndPassword(f,g){return new ji(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new ji(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function $s(_,f){return es.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Lc(_,f){return xi.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:ln(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,d.Z)(function*(){switch(v.signInMethod){case"password":return Dl(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Al(_,f){return ts.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:ln(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function $i(_,f){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,d.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:signInWithIdp",qt(_,f))})).apply(this,arguments)}class gr extends Er{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new gr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):ln("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:x}=g,R=ce(g,["providerId","signInMethod"]);if(!v||!x)return null;const J=new gr(v,x);return J.idToken=R.idToken||void 0,J.accessToken=R.accessToken||void 0,J.secret=R.secret,J.nonce=R.nonce,J.pendingToken=R.pendingToken||null,J}_getIdTokenResponse(f){return $i(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,$i(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,$i(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,j.xO)(g)}return f}}function Hi(_,f){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:sendVerificationCode",qt(_,f))})).apply(this,arguments)}function Wr(){return(Wr=(0,d.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:signInWithPhoneNumber",qt(_,f))})).apply(this,arguments)}function Pa(){return(Pa=(0,d.Z)(function*(_,f){const g=yield ct(_,"POST","/v1/accounts:signInWithPhoneNumber",qt(_,f));if(g.temporaryProof)throw Ae(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const sa={USER_NOT_FOUND:"user-not-found"};function Do(){return(Do=(0,d.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:signInWithPhoneNumber",qt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),sa)})).apply(this,arguments)}class Hs extends Er{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Hs({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Hs({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Oa(_,f){return Wr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function ia(_,f){return Pa.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Vc(_,f){return Do.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:x}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:x,temporaryProof:R}=f;return v||g||x||R?new Hs({verificationId:g,verificationCode:v,phoneNumber:x,temporaryProof:R}):null}}class gs{constructor(f){var g,v,x,R,J,be;const nt=(0,j.zd)((0,j.pd)(f)),ze=null!==(g=nt.apiKey)&&void 0!==g?g:null,xt=null!==(v=nt.oobCode)&&void 0!==v?v:null,Pn=function vn(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=nt.mode)&&void 0!==x?x:null);ke(ze&&xt&&Pn,"argument-error"),this.apiKey=ze,this.operation=Pn,this.code=xt,this.continueUrl=null!==(R=nt.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(J=nt.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(be=nt.tenantId)&&void 0!==be?be:null}static parseLink(f){const g=function Gs(_){const f=(0,j.zd)((0,j.pd)(_)).link,g=f?(0,j.zd)((0,j.pd)(f)).deep_link_id:null,v=(0,j.zd)((0,j.pd)(_)).deep_link_id;return(v?(0,j.zd)((0,j.pd)(v)).link:null)||v||g||f||_}(f);try{return new gs(g)}catch(v){return null}}}let To=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,v){return ji._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const x=gs.parseLink(v);return ke(x,"argument-error"),ji._fromEmailAndCode(g,x.code,x.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ti{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class nr extends ti{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Cr extends nr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ke("providerId"in g&&"signInMethod"in g,"argument-error"),gr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ke(f.idToken||f.accessToken,"argument-error"),gr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Cr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Cr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:x,pendingToken:R,nonce:J,providerId:be}=f;if(!v&&!x&&!g&&!R||!be)return null;try{return new Cr(be)._credential({idToken:g,accessToken:v,nonce:J,pendingToken:R})}catch(nt){return null}}}let ms=(()=>{class _ extends nr{constructor(){super("facebook.com")}static credential(g){return gr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(v){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ao=(()=>{class _ extends nr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return gr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:x}=g;if(!v&&!x)return null;try{return _.credential(v,x)}catch(R){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),ys=(()=>{class _ extends nr{constructor(){super("github.com")}static credential(g){return gr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(v){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class _s extends Er{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return $i(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,$i(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,$i(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:x,pendingToken:R}=g;return v&&x&&R&&v===x?new _s(v,R):null}static _create(f,g){return new _s(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class So extends ti{constructor(f){ke(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return So.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return So.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=_s.fromJSON(f);return ke(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return _s._create(v,g)}catch(x){return null}}}let Zr=(()=>{class _ extends nr{constructor(){super("twitter.com")}static credential(g,v){return gr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:x}=g;if(!v||!x)return null;try{return _.credential(v,x)}catch(R){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function vs(_,f){return ns.apply(this,arguments)}function ns(){return(ns=(0,d.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:signUp",qt(_,f))})).apply(this,arguments)}class mt{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,x=!1){return(0,d.Z)(function*(){const R=yield Zn._fromIdTokenResponse(f,v,x),J=ws(v);return new mt({user:R,providerId:J,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const x=ws(v);return new mt({user:f,providerId:x,_tokenResponse:v,operationType:g})})()}}function ws(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function oa(_){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(_){var f;const g=fr(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new mt({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield vs(g,{returnSecureToken:!0}),x=yield mt._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class qs extends j.ZR{constructor(f,g,v,x){var R;super(g.code,g.message),this.operationType=v,this.user=x,Object.setPrototypeOf(this,qs.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,x){return new qs(f,g,v,x)}}function Es(_,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?qs._fromErrorAndOperation(_,R,f,v):R})}function xo(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Ru(_,f){return Me.apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(_,f){const g=(0,j.m9)(_);yield xn(!0,g,f);const{providerUserInfo:v}=yield en(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),x=xo(v||[]);return g.providerData=g.providerData.filter(R=>x.has(R.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function zt(_,f){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,d.Z)(function*(_,f,g=!1){const v=yield We(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return mt._forOperation(_,"link",v)})).apply(this,arguments)}function xn(_,f,g){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,d.Z)(function*(_,f,g){yield zn(f);const x=!1===_?"provider-already-linked":"no-such-provider";ke(xo(f.providerData).has(g)===_,f.auth,x)})).apply(this,arguments)}function zs(_,f){return mr.apply(this,arguments)}function mr(){return(mr=(0,d.Z)(function*(_,f,g=!1){const{auth:v}=_,x="reauthenticate";try{const R=yield We(_,Es(v,x,f,_),g);ke(R.idToken,v,"internal-error");const J=le(R.idToken);ke(J,v,"internal-error");const{sub:be}=J;return ke(_.uid===be,v,"user-mismatch"),mt._forOperation(_,x,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&ln(v,"user-mismatch"),R}})).apply(this,arguments)}function Is(_,f){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(_,f,g=!1){const v="signIn",x=yield Es(_,v,f),R=yield mt._fromIdTokenResponse(_,v,x);return g||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function aa(_,f){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,d.Z)(function*(_,f){return Is(fr(_),f)})).apply(this,arguments)}function Oo(_,f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,d.Z)(function*(_,f){const g=(0,j.m9)(_);return yield xn(!1,g,f.providerId),zt(g,f)})).apply(this,arguments)}function or(_,f){return pi.apply(this,arguments)}function pi(){return(pi=(0,d.Z)(function*(_,f){return zs((0,j.m9)(_),f)})).apply(this,arguments)}function ua(_,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(_,f){return ct(_,"POST","/v1/accounts:signInWithCustomToken",qt(_,f))})).apply(this,arguments)}function Oi(_,f){return Po.apply(this,arguments)}function Po(){return(Po=(0,d.Z)(function*(_,f){const g=fr(_),v=yield ua(g,{token:f,returnSecureToken:!0}),x=yield mt._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ks{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Ds._fromServerResponse(f,g):ln(f,"internal-error")}}class Ds extends Ks{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Ds(g)}}function Ro(_,f,g){var v;ke((null===(v=g.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),ke(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ke(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ke(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ko(_,f,g){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(_,f,g){const v=(0,j.m9)(_),x={requestType:"PASSWORD_RESET",email:f};g&&Ro(v,x,g),yield Fc(v,x)})).apply(this,arguments)}function la(_,f,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(_,f,g){yield Il((0,j.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function ka(_,f){return No.apply(this,arguments)}function No(){return(No=(0,d.Z)(function*(_,f){yield kc((0,j.m9)(_),{oobCode:f})})).apply(this,arguments)}function Js(_,f){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,d.Z)(function*(_,f){const g=(0,j.m9)(_),v=yield Il(g,{oobCode:f}),x=v.requestType;switch(ke(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(v.mfaInfo,g,"internal-error");default:ke(v.email,g,"internal-error")}let R=null;return v.mfaInfo&&(R=Ks._fromServerResponse(fr(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:R},operation:x}})).apply(this,arguments)}function ca(_,f){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,d.Z)(function*(_,f){const{data:g}=yield Js((0,j.m9)(_),f);return g.email})).apply(this,arguments)}function ku(_,f,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(_,f,g){const v=fr(_),x=yield vs(v,{returnSecureToken:!0,email:f,password:g}),R=yield mt._fromIdTokenResponse(v,"signIn",x);return yield v._updateCurrentUser(R.user),R})).apply(this,arguments)}function Na(_,f,g){return aa((0,j.m9)(_),To.credential(f,g))}function xl(_,f,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(_,f,g){const v=(0,j.m9)(_),x={requestType:"EMAIL_SIGNIN",email:f};ke(g.handleCodeInApp,v,"argument-error"),g&&Ro(v,x,g),yield ra(v,x)})).apply(this,arguments)}function Mr(_,f){const g=gs.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function Ln(_,f,g){return da.apply(this,arguments)}function da(){return(da=(0,d.Z)(function*(_,f,g){const v=(0,j.m9)(_),x=To.credentialWithLink(f,g||Bn());return ke(x._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),aa(v,x)})).apply(this,arguments)}function Nu(_,f){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:createAuthUri",qt(_,f))})).apply(this,arguments)}function Fu(_,f){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,d.Z)(function*(_,f){const v={identifier:f,continueUri:hi()?Bn():"http://localhost"},{signinMethods:x}=yield Nu((0,j.m9)(_),v);return x||[]})).apply(this,arguments)}function Uc(_,f){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,d.Z)(function*(_,f){const g=(0,j.m9)(_),x={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Ro(g.auth,x,f);const{email:R}=yield Nc(g.auth,x);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function La(_,f,g){return to.apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(_,f,g){const v=(0,j.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Ro(v.auth,R,g);const{email:J}=yield Pu(v.auth,R);J!==_.email&&(yield _.reload())})).apply(this,arguments)}function Lu(_,f){return ha.apply(this,arguments)}function ha(){return(ha=(0,d.Z)(function*(_,f){return Ct(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Va(_,f){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,d.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,j.m9)(_),R={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},J=yield We(v,Lu(v.auth,R));v.displayName=J.displayName||null,v.photoURL=J.photoUrl||null;const be=v.providerData.find(({providerId:nt})=>"password"===nt);be&&(be.displayName=v.displayName,be.photoURL=v.photoURL),yield v._updateTokensIfNecessary(J)})).apply(this,arguments)}function Lo(_,f){return Ua((0,j.m9)(_),f,null)}function Bc(_,f){return Ua((0,j.m9)(_),null,f)}function Ua(_,f,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,d.Z)(function*(_,f,g){const{auth:v}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(R.email=f),g&&(R.password=g);const J=yield We(_,Dl(v,R));yield _._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Vo{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class Ba extends Vo{constructor(f,g,v,x){super(f,g,v),this.username=x}}class Ih extends Vo{constructor(f,g){super(f,"facebook.com",g)}}class jc extends Ba{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class ja extends Vo{constructor(f,g){super(f,"google.com",g)}}class jn extends Ba{constructor(f,g,v){super(f,"twitter.com",g,v)}}function $n(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function fa(_){var f,g;if(!_)return null;const{providerId:v}=_,x=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&(null==_?void 0:_.idToken)){const J=null===(g=null===(f=le(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(J)return new Vo(R,"anonymous"!==J&&"custom"!==J?J:null)}if(!v)return null;switch(v){case"facebook.com":return new Ih(R,x);case"github.com":return new jc(R,x);case"google.com":return new ja(R,x);case"twitter.com":return new jn(R,x,_.screenName||null);case"custom":case"anonymous":return new Vo(R,null);default:return new Vo(R,v,x)}}(g)}class Hn{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new Hn("enroll",f)}static _fromMfaPendingCredential(f){return new Hn("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Hn._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(v=f.multiFactorSession)||void 0===v?void 0:v.idToken)return Hn._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ri{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=fr(f),x=g.customData._serverResponse,R=(x.mfaInfo||[]).map(be=>Ks._fromServerResponse(v,be));ke(x.mfaPendingCredential,v,"internal-error");const J=Hn._fromMfaPendingCredential(x.mfaPendingCredential);return new Ri(J,R,function(){var be=(0,d.Z)(function*(nt){const ze=yield nt._process(v,J);delete x.mfaInfo,delete x.mfaPendingCredential;const xt=Object.assign(Object.assign({},x),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(g.operationType){case"signIn":const Pn=yield mt._fromIdTokenResponse(v,g.operationType,xt);return yield v._updateCurrentUser(Pn.user),Pn;case"reauthenticate":return ke(g.user,v,"internal-error"),mt._forOperation(g.user,g.operationType,xt);default:ln(v,"internal-error")}});return function(nt){return be.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,d.Z)(function*(){return g.signInResolver(f)})()}}function ki(_,f){var g;const v=(0,j.m9)(_),x=f;return ke(f.customData.operationType,v,"argument-error"),ke(null===(g=x.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),Ri._fromError(v,x)}function Qt(_,f){return Ct(_,"POST","/v2/accounts/mfaEnrollment:start",qt(_,f))}class pa{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>Ks._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new pa(f)}getSession(){var f=this;return(0,d.Z)(function*(){return Hn._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var v=this;return(0,d.Z)(function*(){const x=f,R=yield v.getSession(),J=yield We(v.user,x._process(v.user.auth,R,g));return yield v.user._updateTokensIfNecessary(J),v.user.reload()})()}unenroll(f){var g=this;return(0,d.Z)(function*(){const v="string"==typeof f?f:f.uid,x=yield g.user.getIdToken(),R=yield We(g.user,function $a(_,f){return Ct(_,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(_,f))}(g.user.auth,{idToken:x,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:J})=>J!==v),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const no=new WeakMap;function Or(_){const f=(0,j.m9)(_);return no.has(f)||no.set(f,pa._fromUser(f)),no.get(f)}const Ts="__sak";class $c{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ts,"1"),this.storage.removeItem(Ts),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ga=(()=>{class _ extends $c{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rs(){const _=(0,j.z$)();return $t(_)||fi(_)}()&&function Tu(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=bo(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const x=this.storage.getItem(v),R=this.localCache[v];x!==R&&g(v,R,x)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((be,nt,ze)=>{this.notifyListeners(be,ze)});const x=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(x);if(g.newValue!==be)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!v)return}const R=()=>{const be=this.storage.getItem(x);!v&&this.localCache[x]===be||this.notifyListeners(x,be)},J=this.storage.getItem(x);!function Sn(){return(0,j.w1)()&&10===document.documentMode}()||J===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,v){this.localCache[g]=v;const x=this.listeners[g];if(x)for(const R of Array.from(x))R(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var x=()=>super._set,R=this;return(0,d.Z)(function*(){yield x().call(R,g,v),R.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,x=this;return(0,d.Z)(function*(){const R=yield v().call(x,g);return x.localCache[g]=JSON.stringify(R),R})()}_remove(g){var v=()=>super._remove,x=this;return(0,d.Z)(function*(){yield v().call(x,g),delete x.localCache[g]})()}}return _.type="LOCAL",_})(),Ni=(()=>{class _ extends $c{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return _.type="SESSION",_})();let Ah=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(R=>R.isListeningto(g));if(v)return v;const x=new _(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,d.Z)(function*(){const x=g,{eventId:R,eventType:J,data:be}=x.data,nt=v.handlersMap[J];if(!(null==nt?void 0:nt.size))return;x.ports[0].postMessage({status:"ack",eventId:R,eventType:J});const ze=Array.from(nt).map(function(){var Pn=(0,d.Z)(function*(kn){return kn(x.origin,be)});return function(kn){return Pn.apply(this,arguments)}}()),xt=yield function is(_){return Promise.all(_.map(function(){var f=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(ze);x.ports[0].postMessage({status:"done",eventId:R,eventType:J,response:xt})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function zi(_="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return _+g}class Pl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var x=this;return(0,d.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let J,be;return new Promise((nt,ze)=>{const xt=zi("",20);R.port1.start();const Pn=setTimeout(()=>{ze(new Error("unsupported_event"))},v);be={messageChannel:R,onMessage(kn){const Tr=kn;if(Tr.data.eventId===xt)switch(Tr.data.status){case"ack":clearTimeout(Pn),J=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),nt(Tr.data.response);break;default:clearTimeout(Pn),clearTimeout(J),ze(new Error("invalid_response"))}}},x.handlers.add(be),R.port1.addEventListener("message",be.onMessage),x.target.postMessage({eventType:f,eventId:xt,data:g},[R.port2])}).finally(()=>{be&&x.removeMessageHandler(be)})})()}}function tn(){return window}function Ga(){return void 0!==tn().WorkerGlobalScope&&"function"==typeof tn().importScripts}function ss(){return(ss=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const As="firebaseLocalStorageDb",Ir="firebaseLocalStorage",Kr="fbase_key";class ya{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Dn(_,f){return _.transaction([Ir],f?"readwrite":"readonly").objectStore(Ir)}function Hc(){const _=indexedDB.open(As,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(Ir,{keyPath:Kr})}catch(x){g(x)}}),_.addEventListener("success",(0,d.Z)(function*(){const v=_.result;v.objectStoreNames.contains(Ir)?f(v):(v.close(),yield function qa(){const _=indexedDB.deleteDatabase(As);return new ya(_).toPromise()}(),f(yield Hc()))}))})}function _p(_,f,g){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,d.Z)(function*(_,f,g){const v=Dn(_,!0).put({[Kr]:f,value:g});return new ya(v).toPromise()})).apply(this,arguments)}function ro(){return(ro=(0,d.Z)(function*(_,f){const g=Dn(_,!1).get(f),v=yield new ya(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function ni(_,f){const g=Dn(_,!0).delete(f);return new ya(g).toPromise()}const so=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield Hc()),g.db})()}_withRetries(g){var v=this;return(0,d.Z)(function*(){let x=0;for(;;)try{const R=yield v._openDb();return yield g(R)}catch(R){if(x++>3)throw R;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return Ga()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=Ah._getInstance(function ma(){return Ga()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,d.Z)(function*(x,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(x,R){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,d.Z)(function*(x,R){return["keyChanged"]});return function(x,R){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var v,x;if(g.activeServiceWorker=yield function yr(){return ss.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Pl(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(v=R[0])||void 0===v?void 0:v.fulfilled)&&(null===(x=R[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,d.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Wi(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Hc();return yield _p(g,Ts,"1"),yield ni(g,Ts),!0}catch(g){}return!1})()}_withPendingWrite(g){var v=this;return(0,d.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var x=this;return(0,d.Z)(function*(){return x._withPendingWrite((0,d.Z)(function*(){return yield x._withRetries(R=>_p(R,g,v)),x.localCache[g]=v,x.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,d.Z)(function*(){const x=yield v._withRetries(R=>function bm(_,f){return ro.apply(this,arguments)}(R,g));return v.localCache[g]=x,x})()}_remove(g){var v=this;return(0,d.Z)(function*(){return v._withPendingWrite((0,d.Z)(function*(){return yield v._withRetries(x=>ni(x,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const v=yield g._withRetries(J=>{const be=Dn(J,!1).getAll();return new ya(be).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const x=[],R=new Set;for(const{fbase_key:J,value:be}of v)R.add(J),JSON.stringify(g.localCache[J])!==JSON.stringify(be)&&(g.notifyListeners(J,be),x.push(J));for(const J of Object.keys(g.localCache))g.localCache[J]&&!R.has(J)&&(g.notifyListeners(J,null),x.push(J));return x})()}notifyListeners(g,v){this.localCache[g]=v;const x=this.listeners[g];if(x)for(const R of Array.from(x))R(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function va(_,f){return Ct(_,"POST","/v2/accounts/mfaSignIn:start",qt(_,f))}function mi(){return(mi=(0,d.Z)(function*(_){return(yield Ct(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Uu(_){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=f,v.onerror=x=>{const R=An("internal-error");R.customData=x,g(R)},v.type="text/javascript",v.charset="UTF-8",function os(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(v)})}function za(_){return`__${_}${Math.floor(1e6*Math.random())}`}const ju=1e12;class Rl{constructor(f){this.auth=f,this.counter=ju,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new qc(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||ju;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||ju))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,d.Z)(function*(){var v;return null===(v=g._widgets.get(f||ju))||void 0===v||v.execute(),""})()}}class qc{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;ke(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function zc(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jo=za("rcb"),St=new Gr(3e4,6e4);class yi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!tn().grecaptcha}load(f,g=""){return ke(function wp(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(tn().grecaptcha):new Promise((v,x)=>{const R=tn().setTimeout(()=>{x(An(f,"network-request-failed"))},St.get());tn()[jo]=()=>{tn().clearTimeout(R),delete tn()[jo];const be=tn().grecaptcha;if(!be)return void x(An(f,"internal-error"));const nt=be.render;be.render=(ze,xt)=>{const Pn=nt(ze,xt);return this.counter++,Pn},this.hostLanguage=g,v(be)},Uu(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:jo,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),x(An(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!tn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kl{load(f){return(0,d.Z)(function*(){return new Rl(f)})()}clearedOneInstance(){}}const xh="recaptcha",Mh={theme:"light",type:"image"};class Oh{constructor(f,g=Object.assign({},Mh),v){this.parameters=g,this.type=xh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(v),this.isInvisible="invisible"===this.parameters.size,ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;ke(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kl:new yi,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(R=>{const J=be=>{!be||(f.tokenChangeListeners.delete(J),R(be))};f.tokenChangeListeners.add(J),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=tn()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){ke(hi()&&!Ga(),f.auth,"internal-error"),yield function Yr(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Sh(_){return mi.apply(this,arguments)}(f.auth);ke(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Za{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Hs._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Nl(_,f,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(_,f,g){const v=fr(_),x=yield ba(v,f,(0,j.m9)(g));return new Za(x,R=>aa(v,R))})).apply(this,arguments)}function Ss(_,f,g){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,d.Z)(function*(_,f,g){const v=(0,j.m9)(_);yield xn(!1,v,"phone");const x=yield ba(v.auth,f,(0,j.m9)(g));return new Za(x,R=>Oo(v,R))})).apply(this,arguments)}function lr(_,f,g){return $u.apply(this,arguments)}function $u(){return($u=(0,d.Z)(function*(_,f,g){const v=(0,j.m9)(_),x=yield ba(v.auth,f,(0,j.m9)(g));return new Za(x,R=>or(v,R))})).apply(this,arguments)}function ba(_,f,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,d.Z)(function*(_,f,g){var v;const x=yield g.verify();try{let R;if(ke("string"==typeof x,_,"argument-error"),ke(g.type===xh,_,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const J=R.session;if("phoneNumber"in R)return ke("enroll"===J.type,_,"internal-error"),(yield Qt(_,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{ke("signin"===J.type,_,"internal-error");const be=(null===(v=R.multiFactorHint)||void 0===v?void 0:v.uid)||R.multiFactorUid;return ke(be,_,"missing-multi-factor-info"),(yield va(_,{mfaPendingCredential:J.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield Hi(_,{phoneNumber:R.phoneNumber,recaptchaToken:x});return J}}finally{g._reset()}})).apply(this,arguments)}function Wc(_,f){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,d.Z)(function*(_,f){yield zt((0,j.m9)(_),f)})).apply(this,arguments)}let Ll=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=fr(g)}verifyPhoneNumber(g,v){return ba(this.auth,g,(0,j.m9)(v))}static credential(g,v){return Hs._fromVerification(g,v)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:x}=g;return v&&x?Hs._fromTokenResponse(v,x):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function D(_,f){return f?Nn(f):(ke(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class T extends Er{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return $i(f,this._buildIdpRequest())}_linkToIdToken(f,g){return $i(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return $i(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function P(_){return Is(_.auth,new T(_),_.bypassAuthState)}function H(_){const{auth:f,user:g}=_;return ke(g,f,"internal-error"),zs(g,new T(_),_.bypassAuthState)}function ee(_){return te.apply(this,arguments)}function te(){return(te=(0,d.Z)(function*(_){const{auth:f,user:g}=_;return ke(g,f,"internal-error"),zt(g,new T(_),_.bypassAuthState)})).apply(this,arguments)}class Fe{constructor(f,g,v,x,R=!1){this.auth=f,this.resolver=v,this.user=x,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,d.Z)(function*(v,x){f.pendingPromise={resolve:v,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(v,x){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,d.Z)(function*(){const{urlResponse:v,sessionId:x,postBody:R,tenantId:J,error:be,type:nt}=f;if(be)return void g.reject(be);const ze={auth:g.auth,requestUri:v,sessionId:x,tenantId:J||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(nt)(ze))}catch(xt){g.reject(xt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return P;case"linkViaPopup":case"linkViaRedirect":return ee;case"reauthViaPopup":case"reauthViaRedirect":return H;default:ln(this.auth,"internal-error")}}resolve(f){sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ot=new Gr(2e3,1e4);function Tt(_,f,g){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(_,f,g){const v=fr(_);Sr(_,f,ti);const x=D(v,g);return new Ki(v,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function fn(_,f,g){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(_,f,g){const v=(0,j.m9)(_);Sr(v.auth,f,ti);const x=D(v.auth,g);return new Ki(v.auth,"reauthViaPopup",f,x,v).executeNotNull()})).apply(this,arguments)}function Lr(_,f,g){return On.apply(this,arguments)}function On(){return(On=(0,d.Z)(function*(_,f,g){const v=(0,j.m9)(_);Sr(v.auth,f,ti);const x=D(v.auth,g);return new Ki(v.auth,"linkViaPopup",f,x,v).executeNotNull()})).apply(this,arguments)}let Ki=(()=>{class _ extends Fe{constructor(g,v,x,R,J){super(g,v,R,J),this.provider=x,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const v=yield g.execute();return ke(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,d.Z)(function*(){sn(1===g.filter.length,"Popup operations only handle one event");const v=zi();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(An(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(An(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,x;this.pollId=(null===(x=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(An(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ot.get())};g()}}return _.currentPopupAction=null,_})();const Yi=new Map;class oo extends Fe{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,d.Z)(function*(){let v=Yi.get(g.auth._key());if(!v){try{const R=(yield function as(_,f){return us.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(R)}catch(x){v=()=>Promise.reject(x)}Yi.set(g.auth._key(),v)}return g.bypassAuthState||Yi.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const x=yield v.auth._redirectUserForId(f.eventId);if(x)return v.user=x,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function us(){return(us=(0,d.Z)(function*(_,f){const g=Hu(f),v=Ya(_);if(!(yield v._isAvailable()))return!1;const x="true"===(yield v._get(g));return yield v._remove(g),x})).apply(this,arguments)}function Vl(_,f){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,d.Z)(function*(_,f){return Ya(_)._set(Hu(f),"true")})).apply(this,arguments)}function Em(){Yi.clear()}function Ya(_){return Nn(_._redirectPersistence)}function Hu(_){return xr("pendingRedirect",_.config.apiKey,_.name)}function Kc(_,f,g){return function Nv(_,f,g){return Yc.apply(this,arguments)}(_,f,g)}function Yc(){return(Yc=(0,d.Z)(function*(_,f,g){const v=fr(_);Sr(_,f,ti);const x=D(v,g);return yield Vl(x,v),x._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function Cm(_,f,g){return function Fv(_,f,g){return Ph.apply(this,arguments)}(_,f,g)}function Ph(){return(Ph=(0,d.Z)(function*(_,f,g){const v=(0,j.m9)(_);Sr(v.auth,f,ti);const x=D(v.auth,g);yield Vl(x,v.auth);const R=yield Im(v);return x._openRedirect(v.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function bp(_,f,g){return function Rh(_,f,g){return Ea.apply(this,arguments)}(_,f,g)}function Ea(){return(Ea=(0,d.Z)(function*(_,f,g){const v=(0,j.m9)(_);Sr(v.auth,f,ti);const x=D(v.auth,g);yield xn(!1,v,f.providerId),yield Vl(x,v.auth);const R=yield Im(v);return x._openRedirect(v.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function Ms(_,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,d.Z)(function*(_,f){return yield fr(_)._initializationPromise,Qc(_,f,!1)})).apply(this,arguments)}function Qc(_,f){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,d.Z)(function*(_,f,g=!1){const v=fr(_),x=D(v,f),J=yield new oo(v,x,g).execute();return J&&!g&&(delete J.user._redirectEventId,yield v._persistUserIfCurrent(J.user),yield v._setRedirectUser(null,f)),J})).apply(this,arguments)}function Im(_){return Os.apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(_){const f=zi(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class kh{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function td(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ed(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!ed(f)){const x=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(An(this.auth,x))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gu(f))}saveEventToCache(f){this.cachedEventUids.add(Gu(f)),this.lastProcessedEventTime=Date.now()}}function Gu(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function ed({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Nh(_){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,d.Z)(function*(_,f={}){return Ct(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Fh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dm=/^https?/;function ao(){return(ao=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Nh(_);for(const g of f)try{if(jl(g))return}catch(v){}ln(_,"unauthorized-domain")})).apply(this,arguments)}function jl(_){const f=Bn(),{protocol:g,hostname:v}=new URL(f);if(_.startsWith("chrome-extension://")){const J=new URL(_);return""===J.hostname&&""===v?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&J.hostname===v}if(!Dm.test(g))return!1;if(Fh.test(_))return v===_;const x=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(v)}const Tm=new Gr(3e4,6e4);function nd(){const _=tn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let $l=null;function Am(_){return $l=$l||function rd(_){return new Promise((f,g)=>{var v,x,R;function J(){nd(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{nd(),g(An(_,"network-request-failed"))},timeout:Tm.get()})}if(null===(x=null===(v=tn().gapi)||void 0===v?void 0:v.iframes)||void 0===x?void 0:x.Iframe)f(gapi.iframes.getContext());else{if(!(null===(R=tn().gapi)||void 0===R?void 0:R.load)){const be=za("iframefcb");return tn()[be]=()=>{gapi.load?J():g(An(_,"network-request-failed"))},Uu(`https://apis.google.com/js/api.js?onload=${be}`).catch(nt=>g(nt))}J()}}).catch(f=>{throw $l=null,f})}(_),$l}const Sm=new Gr(5e3,15e3),xm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Om(_){const f=_.config;ke(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?Dt(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:_.name,v:k.SDK_VERSION},x=Mm.get(_.config.apiHost);x&&(v.eid=x);const R=_._getFrameworks();return R.length&&(v.fw=R.join(",")),`${g}?${(0,j.xO)(v).slice(1)}`}function qu(){return qu=(0,d.Z)(function*(_){const f=yield Am(_),g=tn().gapi;return ke(g,_,"internal-error"),f.open({where:document.body,url:Om(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xm,dontclear:!0},v=>new Promise(function(){var x=(0,d.Z)(function*(R,J){yield v.restyle({setHideOnLeave:!1});const be=An(_,"network-request-failed"),nt=tn().setTimeout(()=>{J(be)},Sm.get());function ze(){tn().clearTimeout(nt),R(v)}v.ping(ze).then(ze,()=>{J(be)})});return function(R,J){return x.apply(this,arguments)}}()))}),qu.apply(this,arguments)}const id={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Uh{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Hl(_,f,g,v,x,R){ke(_.config.authDomain,_,"auth-domain-config-required"),ke(_.config.apiKey,_,"invalid-api-key");const J={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:v,v:k.SDK_VERSION,eventId:x};if(f instanceof ti){f.setDefaultLanguage(_.languageCode),J.providerId=f.providerId||"",(0,j.xb)(f.getCustomParameters())||(J.customParameters=JSON.stringify(f.getCustomParameters()));for(const[nt,ze]of Object.entries(R||{}))J[nt]=ze}if(f instanceof nr){const nt=f.getScopes().filter(ze=>""!==ze);nt.length>0&&(J.scopes=nt.join(","))}_.tenantId&&(J.tid=_.tenantId);const be=J;for(const nt of Object.keys(be))void 0===be[nt]&&delete be[nt];return`${function $o({config:_}){return _.emulator?Dt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,j.xO)(be).slice(1)}`}const Gl="webStorageSupport",Rm=class Vv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ni,this._completeRedirectFn=Qc}_openPopup(f,g,v,x){var R=this;return(0,d.Z)(function*(){var J;sn(null===(J=R.eventManagers[f._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const be=Hl(f,g,v,Bn(),x);return function Cp(_,f,g,v=500,x=600){const R=Math.max((window.screen.availHeight-x)/2,0).toString(),J=Math.max((window.screen.availWidth-v)/2,0).toString();let be="";const nt=Object.assign(Object.assign({},id),{width:v.toString(),height:x.toString(),top:R,left:J}),ze=(0,j.z$)().toLowerCase();g&&(be=vo(ze)?"_blank":g),hs(ze)&&(f=f||"http://localhost",nt.scrollbars="yes");const xt=Object.entries(nt).reduce((kn,[Tr,rr])=>`${kn}${Tr}=${rr},`,"");if(function zr(_=(0,j.z$)()){var f;return fi(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(ze)&&"_self"!==be)return function Lv(_,f){const g=document.createElement("a");g.href=_,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",be),new Uh(null);const Pn=window.open(f||"",be,xt);ke(Pn,_,"popup-blocked");try{Pn.focus()}catch(kn){}return new Uh(Pn)}(f,be,zi())})()}_openRedirect(f,g,v,x){var R=this;return(0,d.Z)(function*(){return yield R._originValidation(f),function Ha(_){tn().location.href=_}(Hl(f,g,v,Bn(),x)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:x,promise:R}=this.eventManagers[g];return x?Promise.resolve(x):(sn(R,"If manager is not set, promise should be"),R)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,d.Z)(function*(){const v=yield function Pm(_){return qu.apply(this,arguments)}(f),x=new kh(f);return v.register("authEvent",R=>(ke(null==R?void 0:R.authEvent,f,"invalid-auth-event"),{status:x.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:x},g.iframes[f._key()]=v,x})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Gl,{type:Gl},x=>{var R;const J=null===(R=null==x?void 0:x[0])||void 0===R?void 0:R[Gl];void 0!==J&&g(!!J),ln(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Bl(_){return ao.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return bo()||$t()||fi()}};class Ja extends class Dp{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return Cn("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ja(f)}_finalizeEnroll(f,g,v){return function Dh(_,f){return Ct(_,"POST","/v2/accounts/mfaEnrollment:finalize",qt(_,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function vp(_,f){return Ct(_,"POST","/v2/accounts/mfaSignIn:finalize",qt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ql=(()=>{class _{constructor(){}static assertion(g){return Ja._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Tp="@firebase/auth",Wu="0.19.11";class Bh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{var x;f((null===(x=v)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Ap(_){(0,k._registerComponent)(new Ve.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),x=f.getProvider("heartbeat"),{apiKey:R,authDomain:J}=v.options;return((be,nt)=>{ke(R&&!R.includes(":"),"invalid-api-key",{appName:be.name}),ke(!(null==J?void 0:J.includes(":")),"argument-error",{appName:be.name});const ze={apiKey:R,authDomain:J,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ei(_)},xt=new Si(be,nt,ze);return function cn(_,f){const g=(null==f?void 0:f.persistence)||[],v=(Array.isArray(g)?g:[g]).map(Nn);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(v,null==f?void 0:f.popupRedirectResolver)}(xt,g),xt})(v,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new Ve.wA("auth-internal",f=>{const g=fr(f.getProvider("auth").getImmediate());return new Bh(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Tp,Wu,function od(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,k.registerVersion)(Tp,Wu,"esm2017")}("Browser")},2090:(vt,Se,V)=>{"use strict";V.d(Se,{BH:()=>Re,LL:()=>Ot,ZR:()=>fe,zI:()=>he,US:()=>ce,tV:()=>z,L:()=>ge,$s:()=>Jr,r3:()=>vr,Sg:()=>Le,ne:()=>lt,vZ:()=>di,ZB:()=>se,Lj:()=>en,pd:()=>Cn,m9:()=>ct,z$:()=>je,jU:()=>Ue,ru:()=>$e,d:()=>rt,xb:()=>ln,w1:()=>Pe,hl:()=>ne,uI:()=>ve,UG:()=>ye,b$:()=>He,G6:()=>yt,Mn:()=>at,X3:()=>Et,xO:()=>wr,zd:()=>ke,eu:()=>_e});var d=V(5861);const ae=function(Z){const G=[];let Q=0;for(let we=0;we<Z.length;we++){let L=Z.charCodeAt(we);L<128?G[Q++]=L:L<2048?(G[Q++]=L>>6|192,G[Q++]=63&L|128):55296==(64512&L)&&we+1<Z.length&&56320==(64512&Z.charCodeAt(we+1))?(L=65536+((1023&L)<<10)+(1023&Z.charCodeAt(++we)),G[Q++]=L>>18|240,G[Q++]=L>>12&63|128,G[Q++]=L>>6&63|128,G[Q++]=63&L|128):(G[Q++]=L>>12|224,G[Q++]=L>>6&63|128,G[Q++]=63&L|128)}return G},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,G){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let L=0;L<Z.length;L+=3){const B=Z[L],q=L+1<Z.length,le=q?Z[L+1]:0,Be=L+2<Z.length,We=Be?Z[L+2]:0;let Ut=(15&le)<<2|We>>6,In=63&We;Be||(In=64,q||(Ut=64)),we.push(Q[B>>2],Q[(3&B)<<4|le>>4],Q[Ut],Q[In])}return we.join("")},encodeString(Z,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Z):this.encodeByteArray(ae(Z),G)},decodeString(Z,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Z):function(Z){const G=[];let Q=0,we=0;for(;Q<Z.length;){const L=Z[Q++];if(L<128)G[we++]=String.fromCharCode(L);else if(L>191&&L<224){const B=Z[Q++];G[we++]=String.fromCharCode((31&L)<<6|63&B)}else if(L>239&&L<365){const Be=((7&L)<<18|(63&Z[Q++])<<12|(63&Z[Q++])<<6|63&Z[Q++])-65536;G[we++]=String.fromCharCode(55296+(Be>>10)),G[we++]=String.fromCharCode(56320+(1023&Be))}else{const B=Z[Q++],q=Z[Q++];G[we++]=String.fromCharCode((15&L)<<12|(63&B)<<6|63&q)}}return G.join("")}(this.decodeStringToByteArray(Z,G))},decodeStringToByteArray(Z,G){this.init_();const Q=G?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let L=0;L<Z.length;){const B=Q[Z.charAt(L++)],le=L<Z.length?Q[Z.charAt(L)]:0;++L;const We=L<Z.length?Q[Z.charAt(L)]:64;++L;const st=L<Z.length?Q[Z.charAt(L)]:64;if(++L,null==B||null==le||null==We||null==st)throw Error();we.push(B<<2|le>>4),64!==We&&(we.push(le<<4&240|We>>2),64!==st&&we.push(We<<6&192|st))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},ge=function(Z){return function(Z){const G=ae(Z);return ce.encodeByteArray(G,!0)}(Z).replace(/\./g,"")},z=function(Z){try{return ce.decodeString(Z,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function se(Z,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return G}for(const Q in G)!G.hasOwnProperty(Q)||!Ke(Q)||(Z[Q]=se(Z[Q],G[Q]));return Z}function Ke(Z){return"__proto__"!==Z}class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Q)=>{this.resolve=G,this.reject=Q})}wrapCallback(G){return(Q,we)=>{Q?this.reject(Q):this.resolve(we),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Q):G(Q,we))}}}function Le(Z,G){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=G||"demo-project",L=Z.iat||0,B=Z.sub||Z.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const q=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:L,exp:L+3600,auth_time:L,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(q)),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function Ue(){return"object"==typeof self&&self.self===self}function $e(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function He(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){return je().indexOf("Electron/")>=0}function Pe(){const Z=je();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function at(){return je().indexOf("MSAppHost/")>=0}function yt(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){return"object"==typeof indexedDB}function _e(){return new Promise((Z,G)=>{try{let Q=!0;const we="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(we);L.onsuccess=()=>{L.result.close(),Q||self.indexedDB.deleteDatabase(we),Z(!0)},L.onupgradeneeded=()=>{Q=!1},L.onerror=()=>{var B;G((null===(B=L.error)||void 0===B?void 0:B.message)||"")}}catch(Q){G(Q)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class fe extends Error{constructor(G,Q,we){super(Q),this.code=G,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ot.prototype.create)}}class Ot{constructor(G,Q,we){this.service=G,this.serviceName=Q,this.errors=we}create(G,...Q){const we=Q[0]||{},L=`${this.service}/${G}`,B=this.errors[G],q=B?function mn(Z,G){return Z.replace(Wn,(Q,we)=>{const L=G[we];return null!=L?String(L):`<${we}?>`})}(B,we):"Error";return new fe(L,`${this.serviceName}: ${q} (${L}).`,we)}}const Wn=/\{\$([^}]+)}/g;function vr(Z,G){return Object.prototype.hasOwnProperty.call(Z,G)}function ln(Z){for(const G in Z)if(Object.prototype.hasOwnProperty.call(Z,G))return!1;return!0}function di(Z,G){if(Z===G)return!0;const Q=Object.keys(Z),we=Object.keys(G);for(const L of Q){if(!we.includes(L))return!1;const B=Z[L],q=G[L];if(Sr(B)&&Sr(q)){if(!di(B,q))return!1}else if(B!==q)return!1}for(const L of we)if(!Q.includes(L))return!1;return!0}function Sr(Z){return null!==Z&&"object"==typeof Z}function wr(Z){const G=[];for(const[Q,we]of Object.entries(Z))Array.isArray(we)?we.forEach(L=>{G.push(encodeURIComponent(Q)+"="+encodeURIComponent(L))}):G.push(encodeURIComponent(Q)+"="+encodeURIComponent(we));return G.length?"&"+G.join("&"):""}function ke(Z){const G={};return Z.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[L,B]=we.split("=");G[decodeURIComponent(L)]=decodeURIComponent(B)}}),G}function Cn(Z){const G=Z.indexOf("?");if(!G)return"";const Q=Z.indexOf("#",G);return Z.substring(G,Q>0?Q:void 0)}function lt(Z,G){const Q=new Nn(Z,G);return Q.subscribe.bind(Q)}class Nn{constructor(G,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{G(this)}).catch(we=>{this.error(we)})}next(G){this.forEachObserver(Q=>{Q.next(G)})}error(G){this.forEachObserver(Q=>{Q.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Q,we){let L;if(void 0===G&&void 0===Q&&void 0===we)throw new Error("Missing Observer.");L=function cn(Z,G){if("object"!=typeof Z||null===Z)return!1;for(const Q of G)if(Q in Z&&"function"==typeof Z[Q])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:Q,complete:we},void 0===L.next&&(L.next=Bn),void 0===L.error&&(L.error=Bn),void 0===L.complete&&(L.complete=Bn);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch(q){}}),this.observers.push(L),B}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,G)}sendOne(G,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Q(this.observers[G])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bn(){}function Jr(Z,G=1e3,Q=2){const we=G*Math.pow(Q,Z),L=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+L)}function ct(Z){return Z&&Z._delegate?Z._delegate:Z}function qn(Z,G){return new Promise((Q,we)=>{Z.onsuccess=L=>{Q(L.target.result)},Z.onerror=L=>{var B;we(`${G}: ${null===(B=L.target.error)||void 0===B?void 0:B.message}`)}})}class Zt{constructor(G){this._db=G,this.objectStoreNames=this._db.objectStoreNames}transaction(G,Q){return new Te(this._db.transaction.call(this._db,G,Q))}createObjectStore(G,Q){return new Ae(this._db.createObjectStore(G,Q))}close(){this._db.close()}}class Te{constructor(G){this._transaction=G,this.complete=new Promise((Q,we)=>{this._transaction.oncomplete=function(){Q()},this._transaction.onerror=()=>{we(this._transaction.error)},this._transaction.onabort=()=>{we(this._transaction.error)}})}objectStore(G){return new Ae(this._transaction.objectStore(G))}}class Ae{constructor(G){this._store=G}index(G){return new it(this._store.index(G))}createIndex(G,Q,we){return new it(this._store.createIndex(G,Q,we))}get(G){return qn(this._store.get(G),"Error reading from IndexedDB")}put(G,Q){return qn(this._store.put(G,Q),"Error writing to IndexedDB")}delete(G){return qn(this._store.delete(G),"Error deleting from IndexedDB")}clear(){return qn(this._store.clear(),"Error clearing IndexedDB object store")}}class it{constructor(G){this._index=G}get(G){return qn(this._index.get(G),"Error reading from IndexedDB")}}function Et(Z,G,Q){return new Promise((we,L)=>{try{const B=indexedDB.open(Z,G);B.onsuccess=q=>{we(new Zt(q.target.result))},B.onerror=q=>{var le;L(`Error opening indexedDB: ${null===(le=q.target.error)||void 0===le?void 0:le.message}`)},B.onupgradeneeded=q=>{Q(new Zt(B.result),q.oldVersion,q.newVersion,new Te(B.transaction))}}catch(B){L(`Error opening indexedDB: ${B.message}`)}})}function en(Z){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(Z){return new Promise((G,Q)=>{try{const we=indexedDB.deleteDatabase(Z);we.onsuccess=()=>{G()},we.onerror=L=>{var B;Q(`Error deleting indexedDB database "${Z}": ${null===(B=L.target.error)||void 0===B?void 0:B.message}`)}}catch(we){Q(`Error deleting indexedDB database "${Z}": ${we.message}`)}})})).apply(this,arguments)}},1026:(vt,Se,V)=>{"use strict";var d=V(5e3);let j=null;function k(){return j}const ce=new d.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ge(){return(0,d.LFG)(K)}()},providedIn:"platform"}),n})();const z=new d.OlP("Location Initialized");let K=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){se()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){se()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ke(){return new K((0,d.LFG)(ce))}()},providedIn:"platform"}),n})();function se(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function je(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ye(n){const e=(0,d.LFG)(ce).location;return new $e((0,d.LFG)(de),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ue=new d.OlP("appBaseHref");let $e=(()=>{class n extends ve{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+je(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const h=this.prepareExternalUrl(o+je(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){const h=this.prepareExternalUrl(o+je(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de),d.LFG(Ue,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n extends ve{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let h=this.prepareExternalUrl(o+je(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){let h=this.prepareExternalUrl(o+je(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de),d.LFG(Ue,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),rt=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Le(Y(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+je(r))}normalize(t){return n.stripTrailingSlash(function at(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Y(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=je,n.joinWithSlash=Re,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(d.LFG(ve),d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Pe(){return new rt((0,d.LFG)(ve),(0,d.LFG)(de))}()},providedIn:"root"}),n})();function Y(n){return n.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Zero=0]="Zero",_e[_e.One=1]="One",_e[_e.Two=2]="Two",_e[_e.Few=3]="Few",_e[_e.Many=4]="Many",_e[_e.Other=5]="Other",_e))();const ke=d.kL8;class jt{}let hs=(()=>{class n extends jt{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(ke(r||this.locale)(t)){case _e.Zero:return"zero";case _e.One:return"one";case _e.Two:return"two";case _e.Few:return"few";case _e.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ai=(()=>{class n{constructor(t,r,o,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Bi{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let br=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,l,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Bi(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,h),fi(m,o)}});for(let o=0,l=r.length;o<l;o++){const m=r.get(o).context;m.index=o,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{fi(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function fi(n,e){n.context.$implicit=e.item}let zr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Sn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Sn{constructor(){this.$implicit=null,this.ngIf=null}}function bo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let Sl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:jt,useClass:hs}]}),n})();function ia(n){return"server"===n}let Do=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Hs((0,d.LFG)(ce),window)}),n})();class Hs{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Gs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vn(this.window.history)||vn(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function vn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ti extends class To extends class Ee{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){j||(j=n)}(new ti)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Cr(){return nr=nr||document.querySelector("base"),nr?nr.getAttribute("href"):null}();return null==t?null:function Ao(n){ms=ms||document.createElement("a"),ms.setAttribute("href",n);const e=ms.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){nr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function vo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let ms,nr=null;const ys=new d.OlP("TRANSITION_ID"),_s=[{provide:d.ip1,useFactory:function _n(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=k(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[ys,ce,d.zs3],multi:!0}];class Gi{static init(){(0,d.VLi)(new Gi)}addToWindow(e){d.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const o=d.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const m=function(E){h=h||E,l--,0==l&&r(h)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let So=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Zr=new d.OlP("EventManagerPlugins");let vs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Zr),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ns{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=k().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let mt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ws=(()=>{class n extends mt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(oa),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(oa))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function oa(n){k().remove(n)}const bs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qs=/%COMP%/g;function xn(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?xn(n,o,t):(o=o.replace(qs,n),t.push(o))}return t}function Cs(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mr=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Is(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Ra(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case d.ifc.ShadowDom:return new Oo(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=xn(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(vs),d.LFG(ws),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Is{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=bs[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=bs[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,o&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Cs(r)):this.eventManager.addEventListener(e,t,Cs(r))}}class Ra extends Is{constructor(e,t,r,o){super(e),this.component=r;const l=xn(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function zt(n){return"_ngcontent-%COMP%".replace(qs,n)}(o+"-"+r.id),this.hostAttr=function Mo(n){return"_nghost-%COMP%".replace(qs,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Oo extends Is{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=xn(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Zs=(()=>{class n extends ns{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const or=["alt","control","meta","shift"],ua={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Oi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Po=(()=>{class n extends ns{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(or.forEach(E=>{const A=r.indexOf(E);A>-1&&(r.splice(A,1),h+=E+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function Ks(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&qi.hasOwnProperty(e)&&(e=qi[e]))}return ua[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),or.forEach(l=>{l!=o&&Oi[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const la=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Ds(){ti.makeCurrent(),Gi.init()},multi:!0},{provide:ce,useFactory:function ko(){return(0,d.RDi)(document),document},deps:[]}]),Qs=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Ro(){return new d.qLn},deps:[]},{provide:Zr,useClass:Zs,multi:!0,deps:[ce,d.R0b,d.Lbi]},{provide:Zr,useClass:Po,multi:!0,deps:[ce]},{provide:mr,useClass:mr,deps:[vs,ws,d.AFp]},{provide:d.FYo,useExisting:mr},{provide:mt,useExisting:ws},{provide:ws,useClass:ws,deps:[ce]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:vs,useClass:vs,deps:[Zr,d.R0b]},{provide:class Kn{},useClass:So,deps:[]}];let ka=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:ys,useExisting:d.AFp},_s]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Qs,imports:[Sl,d.hGG]}),n})();"undefined"!=typeof window&&window;var jn=V(8996),$n=V(7669);function b(...n){const e=(0,$n.yG)(n);return(0,jn.D)(n,e)}var C=V(7579);class M extends C.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var $=V(8306);const{isArray:xe}=Array,{getPrototypeOf:dt,prototype:Vn,keys:ar}=Object;function Hn(n){if(1===n.length){const e=n[0];if(xe(e))return{args:e,keys:null};if(function Ri(n){return n&&"object"==typeof n&&dt(n)===Vn}(e)){const t=ar(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ki=V(4671),Qt=V(4004);const{isArray:Dh}=Array;function pa(n){return(0,Qt.U)(e=>function $a(n,e){return Dh(e)?n(...e):n(e)}(n,e))}function no(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Or=V(5403),Ts=V(9672);function Vu(n,e,t){n?(0,Ts.f)(t,n,e):e()}const Uo=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ga=V(8189);function Ni(...n){return function Th(){return(0,ga.J)(1)}()((0,jn.D)(n,(0,$n.yG)(n)))}var is=V(8421);function Ah(n){return new $.y(e=>{(0,is.Xf)(n()).subscribe(e)})}var zi=V(515),Pl=V(727),tn=V(4482);function Ha(){return(0,tn.e)((n,e)=>{let t=null;n._refCount++;const r=new Or.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ga extends $.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,tn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pl.w0;const t=this.getSubject();e.add(this.source.subscribe(new Or.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pl.w0.EMPTY)}return e}refCount(){return Ha()(this)}}function yr(n,e){return(0,tn.e)((t,r)=>{let o=null,l=0,h=!1;const m=()=>h&&!o&&r.complete();t.subscribe(new Or.Q(r,E=>{null==o||o.unsubscribe();let A=0;const N=l++;(0,is.Xf)(n(E,N)).subscribe(o=new Or.Q(r,F=>r.next(e?e(E,F,N,A++):F),()=>{o=null,m()}))},()=>{h=!0,m()}))})}var ss=V(5698);function Wi(...n){const e=(0,$n.yG)(n);return(0,tn.e)((t,r)=>{(e?Ni(n,t,e):Ni(n,t)).subscribe(r)})}function ma(n,e,t,r,o){return(l,h)=>{let m=t,E=e,A=0;l.subscribe(new Or.Q(h,N=>{const F=A++;E=m?n(E,N,F):(m=!0,N),r&&h.next(E)},o&&(()=>{m&&h.next(E),h.complete()})))}}function As(n,e){return(0,tn.e)(ma(n,e,arguments.length>=2,!0))}function Zi(n,e){return(0,tn.e)((t,r)=>{let o=0;t.subscribe(new Or.Q(r,l=>n.call(e,l,o++)&&r.next(l)))})}function Ir(n){return(0,tn.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe(new Or.Q(t,void 0,void 0,h=>{l=(0,is.Xf)(n(h,Ir(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Kr=V(5577),ya=V(576);function Dn(n,e){return(0,ya.m)(e)?(0,Kr.z)(n,e,1):(0,Kr.z)(n,1)}function qa(n){return n<=0?()=>zi.E:(0,tn.e)((e,t)=>{let r=[];e.subscribe(new Or.Q(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Hc(n=_p){return(0,tn.e)((e,t)=>{let r=!1;e.subscribe(new Or.Q(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function _p(){return new Uo}function Gc(n){return(0,tn.e)((e,t)=>{let r=!1;e.subscribe(new Or.Q(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function ro(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zi((o,l)=>n(o,l,r)):ki.y,(0,ss.q)(1),t?Gc(e):Hc(()=>new Uo))}var ni=V(8505);class io{constructor(e,t){this.id=e,this.url=t}}class ur extends io{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class so extends io{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class va extends io{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vp extends io{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sh extends io{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mi extends io{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class os extends io{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Uu extends io{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class za extends io{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bo{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bu{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ju{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rl{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jo{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const St="primary";class Wa{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function yi(n){return new Wa(n)}const wp="ngNavigationCancelingError";function kl(n){const e=Error("NavigationCancelingError: "+n);return e[wp]=!0,e}function Mh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Yr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!Za(n[o],e[o]))return!1;return!0}function Za(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function Nl(n){return Array.prototype.concat.apply([],n)}function wa(n){return n.length>0?n[n.length-1]:null}function Dr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function lr(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,jn.D)(Promise.resolve(n)):b(n)}const ba={exact:function Ll(n,e,t){if(!Tt(n.segments,e.segments)||!H(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Ll(n.children[r],e.children[r],t))return!1;return!0},subset:T},Ka={exact:function Fl(n,e){return Yr(n,e)},subset:function D(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Za(n[t],e[t]))},ignored:()=>!0};function Wc(n,e,t){return ba[t.paths](n.root,e.root,t.matrixParams)&&Ka[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function T(n,e,t){return P(n,e,e.segments,t)}function P(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Tt(o,t)||e.hasChildren()||!H(o,t,r))}if(n.segments.length===t.length){if(!Tt(n.segments,t)||!H(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!T(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Tt(n.segments,o)&&H(n.segments,o,r)&&n.children[St])&&P(n.children[St],e,l,r)}}function H(n,e,t){return e.every((r,o)=>Ka[t](n[o].parameters,r.parameters))}class ee{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yi(this.queryParams)),this._queryParamMap}toString(){return Lr.serialize(this)}}class te{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Dr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return On(this)}}class Fe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=yi(this.parameters)),this._parameterMap}toString(){return Zc(this)}}function Tt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class fn{}class Vt{parse(e){const t=new Ph(e);return new ee(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ki(e.root,!0)}`,r=function Ya(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Yi(t)}=${Yi(o)}`).join("&"):`${Yi(t)}=${Yi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function oo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Lr=new Vt;function On(n){return n.segments.map(e=>Zc(e)).join("/")}function Ki(n,e){if(!n.hasChildren())return On(n);if(e){const t=n.children[St]?Ki(n.children[St],!1):"",r=[];return Dr(n.children,(o,l)=>{l!==St&&r.push(`${l}:${Ki(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ft(n,e){let t=[];return Dr(n.children,(r,o)=>{o===St&&(t=t.concat(e(r,o)))}),Dr(n.children,(r,o)=>{o!==St&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===St?[Ki(n.children[St],!1)]:[`${o}:${Ki(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${On(n)}/${t[0]}`:`${On(n)}/(${t.join("//")})`}}function xs(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yi(n){return xs(n).replace(/%3B/gi,";")}function as(n){return xs(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function us(n){return decodeURIComponent(n)}function Vl(n){return us(n.replace(/\+/g,"%20"))}function Zc(n){return`${as(n.path)}${function Em(n){return Object.keys(n).map(e=>`;${as(e)}=${as(n[e])}`).join("")}(n.parameters)}`}const Hu=/^[^\/()?;=#]+/;function Kc(n){const e=n.match(Hu);return e?e[0]:""}const Nv=/^[^=?&#]+/,Cm=/^[^&#]+/;class Ph{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[St]=new te(e,t)),r}parseSegment(){const e=Kc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Fe(us(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Kc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Kc(this.remaining);o&&(r=o,this.capture(r))}e[us(t)]=us(r)}parseQueryParam(e){const t=function Yc(n){const e=n.match(Nv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function Fv(n){const e=n.match(Cm);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Vl(t),l=Vl(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Kc(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=St);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[St]:new te([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class bp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Rh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Rh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ea(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ea(e,this._root).map(t=>t.value)}}function Rh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Rh(n,t);if(r)return r}return null}function Ea(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ea(n,t);if(r.length)return r.unshift(e),r}return[]}class Ms{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qi(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Qc extends bp{constructor(e,t){super(e),this.snapshot=t,td(this,e)}toString(){return this.snapshot.toString()}}function Jc(n,e){const t=function Im(n,e){const h=new Gu([],{},{},"",{},St,e,null,n.root,-1,{});return new ed("",new Ms(h,[]))}(n,e),r=new M([new Fe("",{})]),o=new M({}),l=new M({}),h=new M({}),m=new M(""),E=new Os(r,o,h,m,l,St,e,t.root);return E.snapshot=t.root,new Qc(new Ms(E,[]),t)}class Os{constructor(e,t,r,o,l,h,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qt.U)(e=>yi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qt.U)(e=>yi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xc(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function kh(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Gu{constructor(e,t,r,o,l,h,m,E,A,N,F){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.routeConfig=E,this._urlSegment=A,this._lastPathIndex=N,this._resolve=F}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ed extends bp{constructor(e,t){super(t),this.url=e,td(this,t)}toString(){return Nh(this._root)}}function td(n,e){e.value._routerState=n,e.children.forEach(t=>td(n,t))}function Nh(n){const e=n.children.length>0?` { ${n.children.map(Nh).join(", ")} } `:"";return`${n.value}${e}`}function Ul(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Yr(e.params,t.params)||n.params.next(t.params),function Oh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Yr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Fh(n,e){const t=Yr(n.params,e.params)&&function ot(n,e){return Tt(n,e)&&n.every((t,r)=>Yr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Fh(n.parent,e.parent))}function Bl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function ao(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Bl(n,r,o);return Bl(n,r)})}(n,e,t);return new Ms(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>Bl(n,m)),h}}const r=function jl(n){return new Os(new M(n.url),new M(n.params),new M(n.queryParams),new M(n.fragment),new M(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>Bl(n,l));return new Ms(r,o)}}function nd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rd(n){return"object"==typeof n&&null!=n&&n.outlets}function $l(n,e,t,r,o){let l={};return r&&Dr(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(E=>`${E}`):`${h}`}),new ee(t.root===n?e:Am(t.root,n,e),l,o)}function Am(n,e,t){const r={};return Dr(n.children,(o,l)=>{r[l]=o===e?t:Am(o,e,t)}),new te(n.segments,r)}class Sm{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&nd(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(rd);if(o&&o!==wa(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Pm(n,e,t){if(n||(n=new te([],{})),0===n.segments.length&&n.hasChildren())return qu(n,e,t);const r=function id(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],m=t[r];if(rd(m))break;const E=`${m}`,A=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&A&&"object"==typeof A&&void 0===A.outlets){if(!Vh(E,A,h))return l;r+=2}else{if(!Vh(E,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new te(n.segments.slice(0,r.pathIndex),{});return l.children[St]=new te(n.segments.slice(r.pathIndex),n.children),qu(l,0,o)}return r.match&&0===o.length?new te(n.segments,{}):r.match&&!n.hasChildren()?sd(n,e,t):r.match?qu(n,0,o):sd(n,e,t)}function qu(n,e,t){if(0===t.length)return new te(n.segments,{});{const r=function Om(n){return rd(n[0])?n[0].outlets:{[St]:n}}(t),o={};return Dr(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=Pm(n.children[h],e,l))}),Dr(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new te(n.segments,o)}}function sd(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(rd(l)){const E=uo(l.outlets);return new te(r,E)}if(0===o&&nd(t[0])){r.push(new Fe(n.segments[e].path,zu(t[0]))),o++;continue}const h=rd(l)?l.outlets[St]:`${l}`,m=o<t.length-1?t[o+1]:null;h&&m&&nd(m)?(r.push(new Fe(h,zu(m))),o+=2):(r.push(new Fe(h,{})),o++)}return new te(r,{})}function uo(n){const e={};return Dr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=sd(new te([],{}),0,t))}),e}function zu(n){const e={};return Dr(n,(t,r)=>e[r]=`${t}`),e}function Vh(n,e,t){return n==t.path&&Yr(e,t.parameters)}class Cp{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ul(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Qi(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Dr(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Qi(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Qi(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Qi(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new zc(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Rl(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(Ul(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Ul(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=function Lv(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=E,h.outlet&&h.outlet.activateWith(o,E),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Ip{constructor(e,t){this.routes=e,this.module=t}}function Qa(n){return"function"==typeof n}function $o(n){return n instanceof ee}const Ja=Symbol("INITIAL_VALUE");function ql(){return yr(n=>function $c(...n){const e=(0,$n.yG)(n),t=(0,$n.jO)(n),{args:r,keys:o}=Hn(n);if(0===r.length)return(0,jn.D)([],e);const l=new $.y(function rs(n,e,t=ki.y){return r=>{Vu(e,()=>{const{length:o}=n,l=new Array(o);let h=o,m=o;for(let E=0;E<o;E++)Vu(e,()=>{const A=(0,jn.D)(n[E],e);let N=!1;A.subscribe(new Or.Q(r,F=>{l[E]=F,N||(N=!0,m--),m||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>no(o,h):ki.y));return t?l.pipe(pa(t)):l}(n.map(e=>e.pipe((0,ss.q)(1),Wi(Ja)))).pipe(As((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==Ja?o:(l===Ja&&(r=!0),r||!1!==l&&h!==t.length-1&&!$o(l)?o:l),e)},Ja),Zi(e=>e!==Ja),(0,Qt.U)(e=>$o(e)?e:!0===e),(0,ss.q)(1)))}class Tp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wu,this.attachRef=null}}class Wu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Tp,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Bh=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=l||St,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new od(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Wu),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class od{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Os?this.route:e===Wu?this.childContexts:this.parent.get(e,t)}}let Ap=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[Bh],encapsulation:2}),n})();function jh(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];_(r,f(e,r))}}function _(n,e){n.children&&jh(n.children,e)}function f(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function g(n){const e=n.children&&n.children.map(g),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==St&&(t.component=Ap),t}function v(n){return n.outlet||St}function x(n,e){const t=n.filter(r=>v(r)===e);return t.push(...n.filter(r=>v(r)!==e)),t}const R={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function J(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},R):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Mh)(t,n,e);if(!l)return Object.assign({},R);const h={};Dr(l.posParams,(E,A)=>{h[A]=E.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function be(n,e,t,r,o="corrected"){if(t.length>0&&function xt(n,e,t){return t.some(r=>kn(n,e,r)&&v(r)!==St)}(n,t,r)){const h=new te(e,function ze(n,e,t,r){const o={};o[St]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&v(l)!==St){const h=new te([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[v(l)]=h}return o}(n,e,r,new te(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function Pn(n,e,t){return t.some(r=>kn(n,e,r))}(n,t,r)){const h=new te(n.segments,function nt(n,e,t,r,o,l){const h={};for(const m of r)if(kn(n,t,m)&&!o[v(m)]){const E=new te([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[v(m)]=E}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new te(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function kn(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Tr(n,e,t,r){return!!(v(n)===r||r!==St&&kn(e,t,n))&&("**"===n.path||J(e,n,t).matched)}function rr(n,e,t){return 0===e.length&&!n.children[t]}class lo{constructor(e){this.segmentGroup=e||null}}class zl{constructor(e){this.urlTree=e}}function Zu(n){return new $.y(e=>e.error(new lo(n)))}function Vr(n){return new $.y(e=>e.error(new zl(n)))}function Xa(n){return new $.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class $h{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=be(this.urlTree.root,[],[],this.config).segmentGroup,t=new te(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,St).pipe((0,Qt.U)(l=>this.createUrlTree(Gh(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ir(l=>{if(l instanceof zl)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof lo?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,St).pipe((0,Qt.U)(o=>this.createUrlTree(Gh(o),e.queryParams,e.fragment))).pipe(Ir(o=>{throw o instanceof lo?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new te([],{[St]:e}):e;return new ee(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Qt.U)(l=>new te([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,jn.D)(o).pipe(Dn(l=>{const h=r.children[l],m=x(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,Qt.U)(E=>({segment:E,outlet:l})))}),As((l,h)=>(l[h.outlet]=h.segment,l),{}),function bm(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zi((o,l)=>n(o,l,r)):ki.y,qa(1),t?Gc(e):Hc(()=>new Uo))}())}expandSegment(e,t,r,o,l,h){return(0,jn.D)(r).pipe(Dn(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,l,h).pipe(Ir(A=>{if(A instanceof lo)return b(null);throw A}))),ro(m=>!!m),Ir((m,E)=>{if(m instanceof Uo||"EmptyError"===m.name){if(rr(t,o,l))return b(new te([],{}));throw new lo(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,l,h,m){return Tr(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):Zu(t):Zu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Vr(l):this.lineralizeSegments(r,l).pipe((0,Kr.z)(h=>{const m=new te(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:m,consumedSegments:E,lastChild:A,positionalParamSegments:N}=J(t,o,l);if(!m)return Zu(t);const F=this.applyRedirectCommands(E,o.redirectTo,N);return o.redirectTo.startsWith("/")?Vr(F):this.lineralizeSegments(o,F).pipe((0,Kr.z)(X=>this.expandSegment(e,t,r,X.concat(l.slice(A)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?b(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Qt.U)(X=>(r._loadedConfig=X,new te(o,{})))):b(new te(o,{}));const{matched:h,consumedSegments:m,lastChild:E}=J(t,r,o);if(!h)return Zu(t);const A=o.slice(E);return this.getChildConfig(e,r,o).pipe((0,Kr.z)(F=>{const X=F.module,ie=F.routes,{segmentGroup:Ie,slicedSegments:Ze}=be(t,m,A,ie),ft=new te(Ie.segments,Ie.children);if(0===Ze.length&&ft.hasChildren())return this.expandChildren(X,ie,ft).pipe((0,Qt.U)(kt=>new te(m,kt)));if(0===ie.length&&0===Ze.length)return b(new te(m,{}));const Xt=v(r)===l;return this.expandSegment(X,ft,ie,Ze,Xt?St:l,!0).pipe((0,Qt.U)(bn=>new te(m.concat(bn.segments),bn.children)))}))}getChildConfig(e,t,r){return t.children?b(new Ip(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?b(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Kr.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Qt.U)(l=>(t._loadedConfig=l,l))):function ad(n){return new $.y(e=>e.error(kl(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):b(new Ip([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?b(o.map(h=>{const m=e.get(h);let E;if(function Gl(n){return n&&Qa(n.canLoad)}(m))E=m.canLoad(t,r);else{if(!Qa(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}return lr(E)})).pipe(ql(),(0,ni.b)(h=>{if(!$o(h))return;const m=kl(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,Qt.U)(h=>!0===h)):b(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return b(r);if(o.numberOfChildren>1||!o.children[St])return Xa(e.redirectTo);o=o.children[St]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new ee(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Dr(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=t[m]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return Dr(t.children,(m,E)=>{h[E]=this.createSegmentGroup(e,m,r,o)}),new te(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Gh(n){const e={};for(const r of Object.keys(n.children)){const l=Gh(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Hh(n){if(1===n.numberOfChildren&&n.children[St]){const e=n.children[St];return new te(n.segments.concat(e.segments),e.children)}return n}(new te(n.segments,e))}class xp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qh{constructor(e,t){this.component=e,this.route=t}}function BE(n,e,t){const r=n._root;return zh(r,e?e._root:null,t,[r.value])}function ld(n,e,t){const r=function $E(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function zh(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Qi(e);return n.children.forEach(h=>{(function km(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const E=function HE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Tt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Tt(n.url,e.url)||!Yr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fh(n,e)||!Yr(n.queryParams,e.queryParams);default:return!Fh(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new xp(r)):(l.data=h.data,l._resolvedData=h._resolvedData),zh(n,e,l.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new qh(m.outlet.component,h))}else h&&Wh(e,m,o),o.canActivateChecks.push(new xp(r)),zh(n,null,l.component?m?m.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),Dr(l,(h,m)=>Wh(h,t.getContext(m),o)),o}function Wh(n,e,t){const r=Qi(n),o=n.value;Dr(r,(l,h)=>{Wh(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new qh(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class YE{}function Bv(n){return new $.y(e=>e.error(n))}class jv{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=be(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,St);if(null===t)return null;const r=new Gu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ms(r,t),l=new ed(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=Xc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],m=x(e,l),E=this.processSegmentGroup(m,h,l);if(null===E)return null;r.push(...E)}const o=Wl(r);return function JE(n){n.sort((e,t)=>e.value.outlet===St?-1:t.value.outlet===St?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return rr(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Tr(e,t,r,o))return null;let l,h=[],m=[];if("**"===e.path){const ie=r.length>0?wa(r).parameters:{};l=new Gu(r,ie,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nm(e),v(e),e.component,e,tC(t),nC(t)+r.length,rC(e))}else{const ie=J(t,e,r);if(!ie.matched)return null;h=ie.consumedSegments,m=r.slice(ie.lastChild),l=new Gu(h,ie.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nm(e),v(e),e.component,e,tC(t),nC(t)+h.length,rC(e))}const E=function XE(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:A,slicedSegments:N}=be(t,h,m,E.filter(ie=>void 0===ie.redirectTo),this.relativeLinkResolution);if(0===N.length&&A.hasChildren()){const ie=this.processChildren(E,A);return null===ie?null:[new Ms(l,ie)]}if(0===E.length&&0===N.length)return[new Ms(l,[])];const F=v(e)===o,X=this.processSegment(E,A,N,F?St:o);return null===X?null:[new Ms(l,X)]}}function eC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Wl(n){const e=[],t=new Set;for(const r of n){if(!eC(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Wl(r.children);e.push(new Ms(r.value,o))}return e.filter(r=>!t.has(r))}function tC(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function nC(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Nm(n){return n.data||{}}function rC(n){return n.resolve||{}}function Zl(n){return yr(e=>{const t=n(e);return t?(0,jn.D)(t).pipe((0,Qt.U)(()=>e)):b(e)})}class Vm extends class Gv{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Kh=new d.OlP("ROUTES");class Um{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Qt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new Ip(Nl(h.injector.get(Kh,void 0,d.XFs.Self|d.XFs.Optional)).map(g),h)}),Ir(l=>{throw t._loader$=void 0,l}));return t._loader$=new Ga(o,()=>new C.x).pipe(Ha()),t._loader$}loadModuleFactory(e){return lr(e()).pipe((0,Kr.z)(t=>t instanceof d.YKP?b(t):(0,jn.D)(this.compiler.compileModuleAsync(t))))}}class cd{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Bm(n){throw n}function qv(n,e,t){return e.parse("/")}function zv(n,e){return b(null)}const jm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ps=(()=>{class n{constructor(t,r,o,l,h,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new C.x,this.errorHandler=Bm,this.malformedUriErrorHandler=qv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zv,afterPreactivation:zv},this.urlHandlingStrategy=new cd,this.routeReuseStrategy=new Vm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(d.h0i),this.console=h.get(d.c2e);const F=h.get(d.R0b);this.isNgZoneEnabled=F instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function $u(){return new ee(new te([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Um(h,m,X=>this.triggerEvent(new Bo(X)),X=>this.triggerEvent(new Bu(X))),this.routerState=Jc(this.currentUrlTree,this.rootComponentType),this.transitions=new M({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Zi(o=>0!==o.id),(0,Qt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yr(o=>{let l=!1,h=!1;return b(o).pipe((0,ni.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yr(m=>{const E=this.browserUrlTree.toString(),A=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Mp(m.source)&&(this.browserUrlTree=m.extractedUrl),b(m).pipe(yr(F=>{const X=this.transitions.getValue();return r.next(new ur(F.id,this.serializeUrl(F.extractedUrl),F.source,F.restoredState)),X!==this.transitions.getValue()?zi.E:Promise.resolve(F)}),function ud(n,e,t,r){return yr(o=>function Sp(n,e,t,r,o){return new $h(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Qt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ni.b)(F=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:F.urlAfterRedirects})}),function Ca(n,e,t,r,o){return(0,Kr.z)(l=>function QE(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new jv(n,e,t,r,o,l).recognize();return null===h?Bv(new YE):b(h)}catch(h){return Bv(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,Qt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,F=>this.serializeUrl(F),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ni.b)(F=>{if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const ie=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(ie,F)}this.browserUrlTree=F.urlAfterRedirects}const X=new Sh(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);r.next(X)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:X,extractedUrl:ie,source:Ie,restoredState:Ze,extras:ft}=m,Xt=new ur(X,this.serializeUrl(ie),Ie,Ze);r.next(Xt);const Rt=Jc(ie,this.rootComponentType).snapshot;return b(Object.assign(Object.assign({},m),{targetSnapshot:Rt,urlAfterRedirects:ie,extras:Object.assign(Object.assign({},ft),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),zi.E}),Zl(m=>{const{targetSnapshot:E,id:A,extractedUrl:N,rawUrl:F,extras:{skipLocationChange:X,replaceUrl:ie}}=m;return this.hooks.beforePreactivation(E,{navigationId:A,appliedUrlTree:N,rawUrlTree:F,skipLocationChange:!!X,replaceUrl:!!ie})}),(0,ni.b)(m=>{const E=new mi(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,Qt.U)(m=>Object.assign(Object.assign({},m),{guards:BE(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Zh(n,e){return(0,Kr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?b(Object.assign(Object.assign({},t),{guardsResult:!0})):function GE(n,e,t,r){return(0,jn.D)(n).pipe((0,Kr.z)(o=>function KE(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?b(l.map(m=>{const E=ld(m,e,o);let A;if(function Dp(n){return n&&Qa(n.canDeactivate)}(E))A=lr(E.canDeactivate(n,e,t,r));else{if(!Qa(E))throw new Error("Invalid CanDeactivate guard");A=lr(E(n,e,t,r))}return A.pipe(ro())})).pipe(ql()):b(!0)}(o.component,o.route,t,e,r)),ro(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Kr.z)(m=>m&&function Hl(n){return"boolean"==typeof n}(m)?function qE(n,e,t,r){return(0,jn.D)(e).pipe(Dn(o=>Ni(function WE(n,e){return null!==n&&e&&e(new ju(n)),b(!0)}(o.route.parent,r),function zE(n,e){return null!==n&&e&&e(new qc(n)),b(!0)}(o.route,r),function Uv(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function jE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Ah(()=>b(h.guards.map(E=>{const A=ld(E,h.node,t);let N;if(function Rm(n){return n&&Qa(n.canActivateChild)}(A))N=lr(A.canActivateChild(r,n));else{if(!Qa(A))throw new Error("Invalid CanActivateChild guard");N=lr(A(r,n))}return N.pipe(ro())})).pipe(ql())));return b(l).pipe(ql())}(n,o.path,t),function ZE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return b(!0);const o=r.map(l=>Ah(()=>{const h=ld(l,e,t);let m;if(function Vv(n){return n&&Qa(n.canActivate)}(h))m=lr(h.canActivate(e,n));else{if(!Qa(h))throw new Error("Invalid CanActivate guard");m=lr(h(e,n))}return m.pipe(ro())}));return b(o).pipe(ql())}(n,o.route,t))),ro(o=>!0!==o,!0))}(r,l,n,e):b(m)),(0,Qt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,ni.b)(m=>{if($o(m.guardsResult)){const A=kl(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw A.url=m.guardsResult,A}const E=new os(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),Zi(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Zl(m=>{if(m.guards.canActivateChecks.length)return b(m).pipe((0,ni.b)(E=>{const A=new Uu(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(A)}),yr(E=>{let A=!1;return b(E).pipe(function Fm(n,e){return(0,Kr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return b(t);let l=0;return(0,jn.D)(o).pipe(Dn(h=>function Lm(n,e,t,r){return function iC(n,e,t,r){const o=Object.keys(n);if(0===o.length)return b({});const l={};return(0,jn.D)(o).pipe((0,Kr.z)(h=>function $v(n,e,t,r){const o=ld(n,e,r);return lr(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,ni.b)(m=>{l[h]=m}))),qa(1),(0,Kr.z)(()=>Object.keys(l).length===o.length?b(l):zi.E))}(n._resolve,n,e,r).pipe((0,Qt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Xc(n,t).resolve),null)))}(h.route,r,n,e)),(0,ni.b)(()=>l++),qa(1),(0,Kr.z)(h=>l===o.length?b(t):zi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ni.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,ni.b)(E=>{const A=new za(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(A)}))}),Zl(m=>{const{targetSnapshot:E,id:A,extractedUrl:N,rawUrl:F,extras:{skipLocationChange:X,replaceUrl:ie}}=m;return this.hooks.afterPreactivation(E,{navigationId:A,appliedUrlTree:N,rawUrlTree:F,skipLocationChange:!!X,replaceUrl:!!ie})}),(0,Qt.U)(m=>{const E=function Dm(n,e,t){const r=Bl(n,e._root,t?t._root:void 0);return new Qc(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,ni.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Qt.U)(r=>(new Cp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,ni.b)({next(){l=!0},complete(){l=!0}}),function _a(n){return(0,tn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),Ir(m=>{if(h=!0,function xh(n){return n&&n[wp]}(m)){const E=$o(m.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const A=new va(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(A),E?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),F={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mp(o.source)};this.scheduleNavigation(N,"imperative",null,F,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new vp(o.id,this.serializeUrl(o.extractedUrl),m);r.next(E);try{o.resolve(this.errorHandler(m))}catch(A){o.reject(A)}}return zi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const l={replaceUrl:!0},h=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(h){const E=Object.assign({},h);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(l.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,h,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){jh(t),this.config=t.map(g),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:E}=r,A=o||this.routerState.root,N=E?this.currentUrlTree.fragment:h;let F=null;switch(m){case"merge":F=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=l||null}return null!==F&&(F=this.removeEmptyProps(F)),function Tm(n,e,t,r,o){if(0===t.length)return $l(e.root,e.root,e,r,o);const l=function Ep(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sm(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Dr(l.outlets,(E,A)=>{m[A]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new Sm(t,e,r)}(t);if(l.toRoot())return $l(e.root,new te([],{}),e,r,o);const h=function xm(n,e,t){if(n.isAbsolute)return new Lh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Lh(l,l===e.root,0)}const r=nd(n.commands[0])?0:1;return function Mm(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Lh(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=h.processChildren?qu(h.segmentGroup,h.index,l.commands):Pm(h.segmentGroup,h.index,l.commands);return $l(h.segmentGroup,m,e,r,o)}(A,this.currentUrlTree,t,F,null!=N?N:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=$o(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function oC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},jm):!1===r?Object.assign({},sC):r,$o(t))return Wc(this.currentUrlTree,t,o);const l=this.parseUrl(t);return Wc(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new so(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var m,E,A;if(this.disposed)return Promise.resolve(!1);const N=this.transitions.value,F=Mp(r)&&N&&!Mp(N.source),X=N.rawUrl.toString()===t.toString(),ie=N.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(F&&X&&ie)return Promise.resolve(!0);let Ze,ft,Xt;h?(Ze=h.resolve,ft=h.reject,Xt=h.promise):Xt=new Promise((kt,un)=>{Ze=kt,ft=un});const Rt=++this.navigationId;let bn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),bn=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(A=this.browserPageId)&&void 0!==A?A:0)+1):bn=0,this.setTransition({id:Rt,targetPageId:bn,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:Ze,reject:ft,promise:Xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xt.catch(kt=>Promise.reject(kt))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new va(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Mp(n){return"imperative"!==n}class Op{}class Zv{preload(e,t){return b(null)}}let qm=(()=>{class n{constructor(t,r,o,l){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=new Um(o,r,E=>t.triggerEvent(new Bo(E)),E=>t.triggerEvent(new Bu(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zi(t=>t instanceof so),Dn(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,jn.D)(o).pipe((0,ga.J)(),(0,Qt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?b(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Kr.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ps),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Op))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Pp=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ur?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof so&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jo&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new jo(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ku=new d.OlP("ROUTER_CONFIGURATION"),zm=new d.OlP("ROUTER_FORROOT_GUARD"),uC=[rt,{provide:fn,useClass:Vt},{provide:Ps,useFactory:function Xv(n,e,t,r,o,l,h={},m,E){const A=new Ps(null,n,e,t,r,o,Nl(l));return m&&(A.urlHandlingStrategy=m),E&&(A.routeReuseStrategy=E),function Np(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,A),h.enableTracing&&A.events.subscribe(N=>{var F,X;null===(F=console.group)||void 0===F||F.call(console,`Router Event: ${N.constructor.name}`),console.log(N.toString()),console.log(N),null===(X=console.groupEnd)||void 0===X||X.call(console)}),A},deps:[fn,Wu,rt,d.zs3,d.Sil,Kh,Ku,[class LT{},new d.FiY],[class Hv{},new d.FiY]]},Wu,{provide:Os,useFactory:function Fp(n){return n.routerState.root},deps:[Ps]},qm,Zv,class aC{preload(e,t){return t().pipe(Ir(()=>b(null)))}},{provide:Ku,useValue:{enableTracing:!1}}];function Rp(){return new d.PXZ("Router",Ps)}let Kv=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[uC,kp(t),{provide:zm,useFactory:Jv,deps:[[Ps,new d.FiY,new d.tp0]]},{provide:Ku,useValue:r||{}},{provide:ve,useFactory:Qv,deps:[de,[new d.tBr(Ue),new d.FiY],Ku]},{provide:Pp,useFactory:Yv,deps:[Ps,Do,Ku]},{provide:Op,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Zv},{provide:d.PXZ,multi:!0,useFactory:Rp},[Lp,{provide:d.ip1,multi:!0,useFactory:Wm,deps:[Lp]},{provide:Vp,useFactory:ew,deps:[Lp]},{provide:d.tb,multi:!0,useExisting:Vp}]]}}static forChild(t){return{ngModule:n,providers:[kp(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zm,8),d.LFG(Ps,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function Yv(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Pp(n,e,t)}function Qv(n,e,t={}){return t.useHash?new He(n,e):new $e(n,e)}function Jv(n){return"guarded"}function kp(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:Kh,multi:!0,useValue:n}]}let Lp=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new C.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),l=this.injector.get(Ps),h=this.injector.get(Ku);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?b(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Ku),o=this.injector.get(qm),l=this.injector.get(Pp),h=this.injector.get(Ps),m=this.injector.get(d.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Wm(n){return n.appInitializer.bind(n)}function ew(n){return n.bootstrapListener.bind(n)}const Vp=new d.OlP("Router Initializer"),tw=[];let lC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Kv.forRoot(tw)],Kv]}),n})(),cC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-navegador"]],decls:30,vars:0,consts:[[1,"presentacion"],[1,"redesS"],[1,"sub-redes"],["href","https://www.linkedin.com/in/leonardo-garc%C3%ADa-arroyo-5a87a6216/",1,"text-color2"],[1,"fa-brands","fa-linkedin"],["href","https://github.com/leogarcia99",1,"text-color2"],[1,"fa-brands","fa-git-square"],[1,"perfil"],[1,"animate__animated","animate__backInDown"],[1,"l1"],[1,"l2"],[1,"l3"],[1,"buttons","animate__animated","animate__fadeInUp"],["href","../../assets/pdf/miCV.pdf","download","",1,"button1"],["href","#contacto",1,"button2","bg-secundario"],[1,"img"],["src","../../assets/img/leo_f.png","alt",""],[1,"down"],["id","mark"],["href","#footer",1,"text-color2"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"a",3),d._UZ(4,"i",4),d.qZA(),d._UZ(5,"br"),d.TgZ(6,"a",5),d._UZ(7,"i",6),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"div",7),d.TgZ(9,"div",8),d.TgZ(10,"label",9),d._uU(11,"Hola, Soy"),d.qZA(),d._UZ(12,"br"),d.TgZ(13,"label",10),d._uU(14,"Leonardo Garcia"),d.qZA(),d._UZ(15,"br"),d.TgZ(16,"label",11),d._uU(17,"Desarrollador web y de apps moviles"),d.qZA(),d.qZA(),d._UZ(18,"br"),d.TgZ(19,"div",12),d.TgZ(20,"a",13),d._uU(21,"Descargar CV"),d.qZA(),d.TgZ(22,"a",14),d._uU(23,"Hablemos"),d.qZA(),d.qZA(),d.TgZ(24,"div",15),d._UZ(25,"img",16),d.qZA(),d.qZA(),d.TgZ(26,"div",17),d.TgZ(27,"div",18),d.TgZ(28,"a",19),d._uU(29,"Scroll Down"),d.qZA(),d.qZA(),d.qZA(),d.qZA())},styles:[".presentacion[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center}.redesS[_ngcontent-%COMP%]{width:5%;height:100%;position:relative}.sub-redes[_ngcontent-%COMP%]{position:absolute;bottom:10px;font-size:24px}.perfil[_ngcontent-%COMP%]{width:70%;height:100%;text-align:center;padding:70px 30px 30px}.perfil[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:34px}.perfil[_ngcontent-%COMP%]   .l3[_ngcontent-%COMP%]{font-size:14px;color:#999}.perfil[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{width:100%}.perfil[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;margin-top:20px;text-decoration:none;cursor:pointer;transition:all .3s;padding:10px 15px}.button1[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #4EB4F7;color:#4eb4f7;border-radius:10px}.button1[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.button2[_ngcontent-%COMP%]{color:#fff;border-radius:10px}.button2[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.img[_ngcontent-%COMP%]{width:30%;height:60%;background:rgb(255,255,255);background:linear-gradient(0deg,rgba(255,255,255,.171) 0%,rgba(78,180,247,1) 100%);margin-left:auto;margin-right:auto;margin-top:20px;border-radius:100px 100px 0 0;position:relative;overflow:hidden}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150%;height:110%;margin-left:auto;margin-right:auto;position:absolute;bottom:0;left:0;filter:drop-shadow(0 2px 5px rgba(0,0,0,.7))}.down[_ngcontent-%COMP%]{width:5%;height:100%;position:relative}.down[_ngcontent-%COMP%]   #mark[_ngcontent-%COMP%]{transform:rotate(90deg);width:100px;position:absolute;bottom:10%}.down[_ngcontent-%COMP%]   #mark[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100px;height:50px;text-decoration:none}@media screen and (max-width: 1024px){.perfil[_ngcontent-%COMP%]   .l1[_ngcontent-%COMP%]{font-size:30px}.perfil[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:44px}.perfil[_ngcontent-%COMP%]   .l3[_ngcontent-%COMP%]{font-size:24px;color:#999}.img[_ngcontent-%COMP%]{width:40%}}@media screen and (max-width:912px){.img[_ngcontent-%COMP%]{width:70%}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170%}}@media screen and (max-width: 540px){.img[_ngcontent-%COMP%]{width:70%}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170%}.redesS[_ngcontent-%COMP%], .down[_ngcontent-%COMP%]{width:1%;height:100%}}@media screen and (max-width: 440px){.perfil[_ngcontent-%COMP%]   .l1[_ngcontent-%COMP%]{font-size:14px}.perfil[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:24px}.perfil[_ngcontent-%COMP%]   .l3[_ngcontent-%COMP%]{font-size:14px;color:#999}.perfil[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;margin-top:20px;text-decoration:none;cursor:pointer;transition:all .3s;padding:10px}.img[_ngcontent-%COMP%]{width:100%}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170%}}@media screen and (max-width: 414px){.perfil[_ngcontent-%COMP%]{width:74%;padding:0;margin-top:30px}.perfil[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;margin-top:20px;text-decoration:none;cursor:pointer;transition:all .3s;padding:10px 15px}.perfil[_ngcontent-%COMP%]   .l1[_ngcontent-%COMP%]{font-size:14px}.perfil[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:30px}.perfil[_ngcontent-%COMP%]   .l3[_ngcontent-%COMP%]{font-size:14px;color:#999}.img[_ngcontent-%COMP%]{width:70%}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:230%}}@media screen and (max-width: 410px){.perfil[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:22px}.perfil[_ngcontent-%COMP%]   .l3[_ngcontent-%COMP%]{font-size:12px;color:#999}.perfil[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;margin-top:20px;text-decoration:none;cursor:pointer;transition:all .3s;padding:7px}}@media screen and (max-width: 394px){.perfil[_ngcontent-%COMP%]{width:100%}.perfil[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px;margin-top:20px;text-decoration:none;cursor:pointer;transition:all .3s;padding:10px 15px}}@media screen and (max-width: 360px){.perfil[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center;padding:70px 30px 30px}.perfil[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:34px}.perfil[_ngcontent-%COMP%]   .l3[_ngcontent-%COMP%]{font-size:14px;color:#999}}"]}),n})(),nw=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-sobremi"]],decls:37,vars:0,consts:[[1,"contenedor"],[1,"text"],[1,"l1"],[1,"text-color2","l2"],[1,"boxes"],[1,"box1"],[1,"img"],[1,"span"],["src","../../assets/img/leo_foto.jpg","alt",""],[1,"box2"],[1,"sub-boxes"],[1,"sub-b"],[1,"fa-solid","fa-shield","text-color2"],["for",""],[1,"fa-solid","fa-users","text-color2"],[1,"fa-solid","fa-diagram-project","text-color2"],[1,"parrafos"],["href","#contacto",1,"bg-secundario"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"label",2),d._uU(3,"LLegar a saber"),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"label",3),d._uU(6,"Sobre mi"),d.qZA(),d.qZA(),d.TgZ(7,"div",4),d.TgZ(8,"div",5),d.TgZ(9,"div",6),d._UZ(10,"div",7),d._UZ(11,"img",8),d.qZA(),d.qZA(),d.TgZ(12,"div",9),d.TgZ(13,"div",10),d.TgZ(14,"div",11),d._UZ(15,"i",12),d.TgZ(16,"h3"),d._uU(17,"Experiencia"),d.qZA(),d.TgZ(18,"label",13),d._uU(19,"0.2 A\xf1os"),d.qZA(),d.qZA(),d.TgZ(20,"div",11),d._UZ(21,"i",14),d.TgZ(22,"h3"),d._uU(23,"Clientes"),d.qZA(),d.TgZ(24,"label",13),d._uU(25,"2 clientes satisfechos"),d.qZA(),d.qZA(),d.TgZ(26,"div",11),d._UZ(27,"i",15),d.TgZ(28,"h3"),d._uU(29,"Proyectos"),d.qZA(),d.TgZ(30,"label",13),d._uU(31,"5+ Completados"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(32,"div",16),d.TgZ(33,"p"),d._uU(34," Actualmente tengo 22 a\xf1os, estoy estudiando la ingenier\xeda de sistemas computacionales estoy en 8vo semestre, me encanta programar y dar lo mejor de mi en cada trabajo, he estado tomando curso para desarrollar mi aprendizaje mas haya de lo que me han ense\xf1ado, \xa1espero disfrute el contenido! "),d.qZA(),d.TgZ(35,"a",17),d._uU(36,"Hablemos"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA())},styles:[".contenedor[_ngcontent-%COMP%]{width:100%;height:auto}.text[_ngcontent-%COMP%]{width:100%;text-align:center}.text[_ngcontent-%COMP%]   .l1[_ngcontent-%COMP%]{font-size:18px}.text[_ngcontent-%COMP%]   .l2[_ngcontent-%COMP%]{font-size:32px}.boxes[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.box1[_ngcontent-%COMP%]{width:50%;padding:20px;display:flex;justify-content:center;align-items:center;transition:all .3s}.box1[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:40%;transform:rotate(20deg);position:relative;transition:all .3s ease-in-out}.box1[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover{transform:rotate(0)}.box1[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover > .span[_ngcontent-%COMP%]{transform:rotate(360deg)}.box1[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:20px;box-shadow:4px 4px 10px #000}.span[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;bottom:0;background-color:#0093e9;background-image:linear-gradient(160deg,#0093E9 0%,#80D0C7 100%);z-index:-1;transform:rotate(-20deg);border-radius:20px;transition:all .3s ease-in-out}.box2[_ngcontent-%COMP%]{width:50%;padding:20px}.sub-boxes[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;gap:10px}.sub-b[_ngcontent-%COMP%]{width:32%;background-color:#2b2c66;padding:30px;text-align:center;border-radius:20px;transition:all .3s}.sub-b[_ngcontent-%COMP%]:hover{box-shadow:4px 4px 10px #000}.sub-b[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.parrafos[_ngcontent-%COMP%]{width:100%;padding:20px}.parrafos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify}.parrafos[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;transition:all .3s;padding:10px 15px;color:#fff;border-radius:10px}.parrafos[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}@media screen and (max-width: 1024px){.sub-b[_ngcontent-%COMP%]{width:36%;padding:8px}}@media screen and (max-width: 821px){.contenedor[_ngcontent-%COMP%]{height:auto}.boxes[_ngcontent-%COMP%]{display:block}.box1[_ngcontent-%COMP%], .box2[_ngcontent-%COMP%]{width:100%}.sub-b[_ngcontent-%COMP%]{width:40%}.sub-b[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}.parrafos[_ngcontent-%COMP%]{width:100%;padding:5px}}"]}),n})();function Zm(n,e){if(1&n&&(d.TgZ(0,"div",10),d._UZ(1,"i",11),d.TgZ(2,"label",12),d._uU(3),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"label",13),d._uU(6),d.qZA(),d.qZA()),2&n){const t=e.$implicit;d.xp6(3),d.hij(" ",t.nombre,""),d.xp6(3),d.hij("",t.porcentaje,"%")}}function rw(n,e){if(1&n&&(d.TgZ(0,"div",10),d._UZ(1,"i",11),d.TgZ(2,"label",12),d._uU(3),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"label",13),d._uU(6),d.qZA(),d.qZA()),2&n){const t=e.$implicit;d.xp6(3),d.hij(" ",t.nombre,""),d.xp6(3),d.hij("",t.porcentaje,"%")}}let UT=(()=>{class n{constructor(){this.front=[{nombre:"HTML",porcentaje:100},{nombre:"CSS",porcentaje:70},{nombre:"JAVASCRIPT",porcentaje:60},{nombre:"TYPESCRIPT",porcentaje:60},{nombre:"BOOTSTRAP",porcentaje:70},{nombre:"ANGULAR",porcentaje:90},{nombre:"IONIC",porcentaje:50},{nombre:"STRUCS2",porcentaje:50}],this.back=[{nombre:"JAVA",porcentaje:80},{nombre:"PYTHON",porcentaje:60},{nombre:"C#",porcentaje:80},{nombre:"MYSQL",porcentaje:80},{nombre:"MONGODB",porcentaje:30},{nombre:"KOTLIN",porcentaje:40},{nombre:"DART",porcentaje:40},{nombre:"ASP.NET",porcentaje:50}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-miexperience"]],decls:18,vars:2,consts:[[1,"contenedor"],[1,"textos"],[1,"l1"],[1,"l2","text-color2"],[1,"skills"],[1,"frond"],[1,"contenedor-front"],["class","sub-cpntenedor",4,"ngFor","ngForOf"],[1,"back"],[1,"contenedor-back"],[1,"sub-cpntenedor"],[1,"fa-solid","fa-circle-check","text-color2","p-1"],["for",""],[1,"label2"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"label",2),d._uU(3,"Que habilidades tengo"),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"label",3),d._uU(6,"Mi experiencia"),d.qZA(),d.qZA(),d.TgZ(7,"div",4),d.TgZ(8,"div",5),d.TgZ(9,"h4"),d._uU(10,"Desarrollo front-end"),d.qZA(),d.TgZ(11,"div",6),d.YNc(12,Zm,7,2,"div",7),d.qZA(),d.qZA(),d.TgZ(13,"div",8),d.TgZ(14,"h4"),d._uU(15,"Desarrollo back-end"),d.qZA(),d.TgZ(16,"div",9),d.YNc(17,rw,7,2,"div",7),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(12),d.Q6J("ngForOf",r.front),d.xp6(5),d.Q6J("ngForOf",r.back))},directives:[br],styles:[".contenedor[_ngcontent-%COMP%]{width:100%}.textos[_ngcontent-%COMP%]{width:100%;text-align:center}.l1[_ngcontent-%COMP%]{font-size:12px}.l2[_ngcontent-%COMP%]{font-size:30px}.skills[_ngcontent-%COMP%]{width:100%;padding:20px;display:flex;justify-content:center;align-items:center;gap:10px}.frond[_ngcontent-%COMP%], .back[_ngcontent-%COMP%]{width:50%;text-align:center;background-color:#2a2a67;padding:20px;border-radius:15px;transition:all .3s ease}.contenedor-front[_ngcontent-%COMP%], .contenedor-back[_ngcontent-%COMP%]{width:80%;display:grid;grid-template-columns:repeat(2,1fr);grid-gap:10px;gap:10px;text-align:justify;margin-right:auto;margin-left:auto;transition:.3s}.back[_ngcontent-%COMP%]:hover, .frond[_ngcontent-%COMP%]:hover{background-color:transparent;border:1px solid #2980BF}.barra[_ngcontent-%COMP%]{width:100%;height:4px;background-color:#999}.barra[_ngcontent-%COMP%]   .sub_div[_ngcontent-%COMP%]{height:4px;background-color:#2980bf}.label2[_ngcontent-%COMP%]{font-size:12px;margin-left:10px}@media screen and (max-width: 821px){.skills[_ngcontent-%COMP%]{width:100%;padding:20px;display:block;gap:10px}.frond[_ngcontent-%COMP%], .back[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}}"]}),n})();function iw(n,e){if(1&n&&(d.TgZ(0,"a",14),d._uU(1,"GitHub"),d.qZA()),2&n){const t=d.oxw().$implicit;d.s9C("href",t.urlGit,d.LSH)}}function dC(n,e){if(1&n&&(d.TgZ(0,"a",15),d._uU(1,"Live Demo"),d.qZA()),2&n){const t=d.oxw().$implicit;d.s9C("href",t.urlDemo,d.LSH)}}function sw(n,e){if(1&n&&(d.TgZ(0,"div",6),d.TgZ(1,"div",7),d._UZ(2,"img",8),d.qZA(),d.TgZ(3,"div",9),d.TgZ(4,"label",10),d.TgZ(5,"b"),d._uU(6),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"div",11),d.YNc(8,iw,2,1,"a",12),d.YNc(9,dC,2,1,"a",13),d.qZA(),d.qZA()),2&n){const t=e.$implicit;d.xp6(2),d.s9C("src",t.img,d.LSH),d.xp6(4),d.Oqu(t.text),d.xp6(2),d.Q6J("ngIf",t.btnGit),d.xp6(1),d.Q6J("ngIf",t.btnDemo)}}let hC=(()=>{class n{constructor(){this.proyects=[{img:"../../assets/img/ptoyects/hnos transmedinas/1.png",text:"Programa para el monitoreo de viajes de lazaro cardenas",btnGit:!0,btnDemo:!1,urlGit:"https://github.com/leogarcia99/sofwarehnostransmedina.git",urlDemo:""},{img:"../../assets/img/ptoyects/detector de rostro/1.jpg",text:"Deteccion de rostros y detector de expresiones",btnGit:!0,btnDemo:!0,urlGit:"https://github.com/leogarcia99/Reconocimento-de-rostro.git",urlDemo:"https://detectar-rostro-3ee10.web.app/"},{img:"../../assets/img/ptoyects/dise\xf1oOTC/1.png",text:"Dise\xf1o para pagina web de compra y venta de oro",btnGit:!0,btnDemo:!1,urlGit:"https://github.com/leogarcia99/Dise-owebOtc.git",urlDemo:""},{img:"../../assets/img/ptoyects/coffeestore/1.png",text:"Tienda Online para comprar cafe",btnGit:!0,btnDemo:!1,urlGit:"https://github.com/leogarcia99/Coffeestore.git",urlDemo:""},{img:"../../assets/img/ptoyects/tiendafarmacia/1.png",text:"Pagina web de farmacias san juan",btnGit:!0,btnDemo:!1,urlGit:"https://github.com/leogarcia99/farmaciaSanjuan.git",urlDemo:""},{img:"../../assets/img/ptoyects/dipeli/1.png",text:"Software para la gestion de compra , venta , registro e inventario de peliculas",btnGit:!1,btnDemo:!1,urlGit:"",urlDemo:""}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-proyectos"]],decls:9,vars:1,consts:[[1,"contenedor"],[1,"textos"],[1,"l1"],[1,"l2","text-color2"],[1,"cards"],["class","targeta",4,"ngFor","ngForOf"],[1,"targeta"],[1,"imagenes"],["alt","",3,"src"],[1,"card-body"],["for",""],[1,"targeta-footer"],["class","button1",3,"href",4,"ngIf"],["class","button2 bg-secundario",3,"href",4,"ngIf"],[1,"button1",3,"href"],[1,"button2","bg-secundario",3,"href"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"label",2),d._uU(3,"Mis proyectos recientes"),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"label",3),d._uU(6,"Portafolio"),d.qZA(),d.qZA(),d.TgZ(7,"div",4),d.YNc(8,sw,10,4,"div",5),d.qZA(),d.qZA()),2&t&&(d.xp6(8),d.Q6J("ngForOf",r.proyects))},directives:[br,zr],styles:[".contenedor[_ngcontent-%COMP%]{width:100%}.textos[_ngcontent-%COMP%]{width:100%;text-align:center}.l1[_ngcontent-%COMP%]{font-size:12px}.l2[_ngcontent-%COMP%]{font-size:30px}.cards[_ngcontent-%COMP%]{width:80%;height:auto;margin-left:auto;margin-right:auto;display:grid;grid-template-columns:repeat(3,1fr);grid-gap:10px;gap:10px}.targeta[_ngcontent-%COMP%]{width:90%;height:350px;background-color:#2a2a67;border-radius:20px;padding:20px;transition:all .3s}.targeta[_ngcontent-%COMP%]:hover{background-color:transparent;border:1px solid #4EB4F7}.card-body[_ngcontent-%COMP%]{width:100%}.targeta[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]{width:90%;height:60%;margin-left:auto;margin-right:auto;padding:5px;border-radius:20px}.imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:90%;border-radius:20px;box-shadow:4px 4px 10px #000}.button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin:10px 5px;text-decoration:none;cursor:pointer;transition:all .3s;padding:10px 15px}.button1[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #4EB4F7;color:#4eb4f7;border-radius:10px}.button1[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.button2[_ngcontent-%COMP%]{color:#fff;border-radius:10px}.button2[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}@media screen and (max-width: 913px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,50%);gap:6px}.targeta[_ngcontent-%COMP%]{width:100%;height:350px;background-color:#2a2a67;border-radius:20px;padding:10px;transition:all .3s}.targeta[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]{width:100%;height:60%;margin-left:auto;margin-right:auto;padding:5px;border-radius:20px}.imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:20px;box-shadow:4px 4px 10px #000}}@media screen and (max-width: 913px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);gap:6px}.targeta[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#2a2a67;border-radius:20px;padding:20px;transition:all .3s}.targeta[_ngcontent-%COMP%]   .imagenes[_ngcontent-%COMP%]{width:100%;height:auto;margin-left:auto;margin-right:auto;padding:5px;border-radius:20px}.imagenes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:20px;box-shadow:4px 4px 10px #000}}"]}),n})();var De=V(5861),Ho=V(5226),ow=V.n(Ho),aw=V(4986),Yn=V(5813);function Km(){return(0,tn.e)((n,e)=>{let t,r=!1;n.subscribe(new Or.Q(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function pC(n,e){return n===e}var et,co=V(2011),gC=(V(5881),V(3942)),tu=V(9681),Ht=V(4859),nu=V(1877),an=V(2090),uw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ho={},Up=Up||{},Wt=uw||self;function hd(){}function Go(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Yl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Qh="closure_uid_"+(1e9*Math.random()>>>0),jT=0;function cw(n,e,t){return n.call.apply(n.bind,arguments)}function $T(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Ur(n,e,t){return(Ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cw:$T).apply(null,arguments)}function Ql(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Qr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function Ia(){this.s=this.s,this.o=this.o}var HT={};Ia.prototype.s=!1,Ia.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function lw(n){return Object.prototype.hasOwnProperty.call(n,Qh)&&n[Qh]||(n[Qh]=++jT)}(this);delete HT[n]}},Ia.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},hw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function fw(n){return Array.prototype.concat.apply([],arguments)}function Bp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Qm(n){return/^[\s\xa0]*$/.test(n)}var Fi,pw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ls(n,e){return-1!=n.indexOf(e)}function jp(n,e){return n<e?-1:n>e?1:0}e:{var gw=Wt.navigator;if(gw){var $p=gw.userAgent;if($p){Fi=$p;break e}}Fi=""}function mw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function yC(n){const e={};for(const t in n)e[t]=n[t];return e}var _C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vC(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<_C.length;l++)t=_C[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function yw(n){return yw[" "](n),n}yw[" "]=hd;var Xh,n,qT=ls(Fi,"Opera"),Jh=ls(Fi,"Trident")||ls(Fi,"MSIE"),wC=ls(Fi,"Edge"),_w=wC||Jh,ru=ls(Fi,"Gecko")&&!(ls(Fi.toLowerCase(),"webkit")&&!ls(Fi,"Edge"))&&!(ls(Fi,"Trident")||ls(Fi,"MSIE"))&&!ls(Fi,"Edge"),Jm=ls(Fi.toLowerCase(),"webkit")&&!ls(Fi,"Edge");function vw(){var n=Wt.document;return n?n.documentMode:void 0}e:{var ef="",Hp=(n=Fi,ru?/rv:([^\);]+)(\)|;)/.exec(n):wC?/Edge\/([\d\.]+)/.exec(n):Jh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Jm?/WebKit\/(\S+)/.exec(n):qT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Hp&&(ef=Hp?Hp[1]:""),Jh){var tf=vw();if(null!=tf&&tf>parseFloat(ef)){Xh=String(tf);break e}}Xh=ef}var bC={};var Xm=Wt.document&&Jh&&(vw()||parseInt(Xh,10))||void 0,EC=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",hd,e),Wt.removeEventListener("test",hd,e)}catch(t){}return n}();function _i(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function nf(n,e){if(_i.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ru){e:{try{yw(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:CC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&nf.Z.h.call(this)}}_i.prototype.h=function(){this.defaultPrevented=!0},Qr(nf,_i);var CC={2:"touch",3:"pen",4:"mouse"};nf.prototype.h=function(){nf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var iu="closure_listenable_"+(1e6*Math.random()|0),fd=0;function ey(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++fd,this.ca=this.fa=!1}function su(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Qu(n){this.src=n,this.g={},this.h=0}function Ju(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=dw(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(su(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ty(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}Qu.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=ty(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new ey(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var qp="closure_lm_"+(1e6*Math.random()|0),zp={};function Wp(n,e,t,r,o){if(r&&r.once)return rf(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Wp(n,e[l],t,r,o);return null}return t=Qp(t),n&&n[iu]?n.N(e,t,Yl(r)?!!r.capture:!!r,o):Zp(n,e,t,!1,r,o)}function Zp(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=Yl(o)?!!o.capture:!!o,m=Yp(n);if(m||(n[qp]=m=new Qu(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function bw(){var e=Cw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)EC||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(IC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function rf(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)rf(n,e[l],t,r,o);return null}return t=Qp(t),n&&n[iu]?n.O(e,t,Yl(r)?!!r.capture:!!r,o):Zp(n,e,t,!0,r,o)}function Ew(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)Ew(n,e[l],t,r,o);else r=Yl(r)?!!r.capture:!!r,t=Qp(t),n&&n[iu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ty(l=n.g[e],t,r,o))&&(su(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Yp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ty(e,t,r,o)),(t=-1<n?e[n]:null)&&Kp(t))}function Kp(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[iu])Ju(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(IC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Yp(e))?(Ju(t,n),0==t.h&&(t.src=null,e[qp]=null)):su(n)}}}function IC(n){return n in zp?zp[n]:zp[n]="on"+n}function Cw(n,e){if(n.ca)n=!0;else{e=new nf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Kp(n),n=t.call(r,e)}return n}function Yp(n){return(n=n[qp])instanceof Qu?n:null}var ny="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qp(n){return"function"==typeof n?n:(n[ny]||(n[ny]=function(e){return n.handleEvent(e)}),n[ny])}function ri(){Ia.call(this),this.i=new Qu(this),this.P=this,this.I=null}function vi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new _i(e,n);else if(e instanceof _i)e.target=e.target||n;else{var o=e;vC(e=new _i(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=Li(h,r,!0,e)&&o}if(o=Li(h=e.g=n,r,!0,e)&&o,o=Li(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=Li(h=e.g=t[l],r,!1,e)&&o}function Li(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var m=h.listener,E=h.ia||h.src;h.fa&&Ju(n.i,h),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}Qr(ri,Ia),ri.prototype[iu]=!0,ri.prototype.removeEventListener=function(n,e,t,r){Ew(this,n,e,t,r)},ri.prototype.M=function(){if(ri.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)su(t[r]);delete n.g[e],n.h--}}this.I=null},ri.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ri.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ry=Wt.JSON.stringify;function DC(){var n=Tw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var sf,TC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Iw,n=>n.reset());class Iw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function WT(n){Wt.setTimeout(()=>{throw n},0)}function iy(n,e){sf||function Dw(){var n=Wt.Promise.resolve(void 0);sf=function(){n.then(AC)}}(),sy||(sf(),sy=!0),Tw.add(n,e)}var sy=!1,Tw=new class zT{constructor(){this.h=this.g=null}add(e,t){const r=TC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function AC(){for(var n;n=DC();){try{n.h.call(n.g)}catch(t){WT(t)}var e=TC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}sy=!1}function of(n,e){ri.call(this),this.h=n||1,this.g=e||Wt,this.j=Ur(this.kb,this),this.l=Date.now()}function oy(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Jp(n,e,t){if("function"==typeof n)t&&(n=Ur(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ur(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function Aw(n){n.g=Jp(()=>{n.g=null,n.i&&(n.i=!1,Aw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qr(of,ri),(et=of.prototype).da=!1,et.S=null,et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vi(this,"tick"),this.da&&(oy(this),this.start()))}},et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.M=function(){of.Z.M.call(this),oy(this),delete this.g};class SC extends Ia{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Aw(this)}M(){super.M(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pd(n){Ia.call(this),this.h=n,this.g={}}Qr(pd,Ia);var ay=[];function Sw(n,e,t,r){Array.isArray(t)||(t&&(ay[0]=t.toString()),t=ay);for(var o=0;o<t.length;o++){var l=Wp(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function qo(n){mw(n.g,function(e,t){this.g.hasOwnProperty(t)&&Kp(e)},n),n.g={}}function gd(){this.g=!0}function af(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function OC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return ry(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}pd.prototype.M=function(){pd.Z.M.call(this),qo(this)},pd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gd.prototype.Aa=function(){this.g=!1},gd.prototype.info=function(){};var Jl={},Mw=null;function md(){return Mw=Mw||new ri}function Ow(n){_i.call(this,Jl.Ma,n)}function uf(n){const e=md();vi(e,new Ow(e,n))}function lf(n,e){_i.call(this,Jl.STAT_EVENT,n),this.stat=e}function wi(n){const e=md();vi(e,new lf(e,n))}function Pw(n,e){_i.call(this,Jl.Na,n),this.size=e}function Xl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}Jl.Ma="serverreachability",Qr(Ow,_i),Jl.STAT_EVENT="statevent",Qr(lf,_i),Jl.Na="timingevent",Qr(Pw,_i);var yd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uy={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ly(){}function Xp(){}ly.prototype.h=null;var ng,eg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cy(){_i.call(this,"d")}function tg(){_i.call(this,"c")}function cf(){}function _d(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new pd(this),this.P=ou,this.W=new of(n=_w?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dy}function dy(){this.i=null,this.g="",this.h=!1}Qr(cy,_i),Qr(tg,_i),Qr(cf,ly),cf.prototype.g=function(){return new XMLHttpRequest},cf.prototype.i=function(){return{}},ng=new cf;var ou=45e3,vd={},rg={};function hy(n,e,t){n.K=1,n.v=Ji(uu(e)),n.s=t,n.U=!0,PC(n,null)}function PC(n,e){n.F=Date.now(),au(n),n.A=uu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),LC(t.h,"t",r),n.C=0,t=n.l.H,n.h=new dy,n.g=Sy(n.l,t?e:null,!n.s),0<n.O&&(n.L=new SC(Ur(n.Ia,n,n.g),n.O)),Sw(n.V,n.g,"readystatechange",n.gb),e=n.H?yC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),uf(1),function xC(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),E=0;E<m.length;E++){var A=m[E].split("=");if(1<A.length){var N=A[0];A=A[1];var F=N.split("_");h=2<=F.length&&"type"==F[1]?h+(N+"=")+A+"&":h+(N+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function ig(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function fy(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=py(n,t),o==rg){4==e&&(n.o=4,wi(14),r=!1),af(n.j,n.m,null,"[Incomplete Response]");break}if(o==vd){n.o=4,wi(15),af(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}af(n.j,n.m,o,null),sg(n,o)}ig(n)&&o!=rg&&o!=vd&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,wi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),hg(e),e.L=!0,wi(11))):(af(n.j,n.m,t,"[Invalid Chunked Response]"),Xu(n),bd(n))}function py(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?rg:(t=Number(e.substring(t,r)),isNaN(t)?vd:(r+=1)+t>e.length?rg:(e=e.substr(r,t),n.C=r+t,e))}function au(n){n.Y=Date.now()+n.P,kw(n,n.P)}function kw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xl(Ur(n.eb,n),e)}function wd(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function bd(n){0==n.l.G||n.I||Dy(n.l,n)}function Xu(n){wd(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,oy(n.W),qo(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function sg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Gw(t.i,n)))if(t.I=n.N,!n.J&&Gw(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(A){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Xl(Ur(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;wf(t),du(t)}dg(t),wi(18)}if(1>=fo(t.i)&&t.ka){try{t.ka()}catch(A){}t.ka=void 0}}else sc(t,11)}else if((n.J||t.g==n)&&wf(t),!Qm(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let A=o[e];if(t.U=A[0],A=A[1],2==t.G)if("c"==A[0]){t.J=A[1],t.la=A[2];const N=A[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const F=A[4];null!=F&&(t.za=F,t.h.info("SVER="+t.za));const X=A[5];null!=X&&"number"==typeof X&&0<X&&(t.K=r=1.5*X,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ie=n.g;if(ie){const Ie=ie.g?ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ie){var l=r.i;!l.g&&(ls(Ie,"spdy")||ls(Ie,"quic")||ls(Ie,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(qw(l,l.h),l.h=null))}if(r.D){const Ze=ie.g?ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Ze&&(r.sa=Ze,cr(r.F,r.D,Ze))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=Kw(r,r.H?r.la:null,r.W),h.J){vy(r.i,h);var m=h,E=r.K;E&&m.setTimeout(E),m.B&&(wd(m),au(m)),r.g=h}else Cy(r);0<t.l.length&&hu(t)}else"stop"!=A[0]&&"close"!=A[0]||sc(t,7);else 3==t.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?sc(t,7):nl(t):"noop"!=A[0]&&t.j&&t.j.wa(A),t.A=0)}uf(4)}catch(A){}}function df(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Go(n)||"string"==typeof n)hw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Go(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function RC(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Go(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function Ed(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Ed)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function gy(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];el(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)el(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function el(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(et=_d.prototype).setTimeout=function(n){this.P=n},et.gb=function(n){n=n.target;const e=this.L;e&&3==Xi(n)?e.l():this.Ia(n)},et.Ia=function(n){try{if(n==this.g)e:{const N=Xi(this.g);var e=this.g.Da();const F=this.g.ba();if(!(3>N)&&(3!=N||_w||this.g&&(this.h.h||this.g.ga()||_f(this.g)))){this.I||4!=N||7==e||uf(8==e||0>=F?3:2),wd(this);var t=this.g.ba();this.N=t;t:if(ig(this)){var r=_f(this.g);n="";var o=r.length,l=4==Xi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Xu(this),bd(this);var h="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function MC(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qm(m)){var A=m;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,wi(12),Xu(this),bd(this);break e}af(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sg(this,t)}this.U?(fy(this,N,h),_w&&this.i&&3==N&&(Sw(this.V,this.W,"tick",this.fb),this.W.start())):(af(this.j,this.m,h,null),sg(this,h)),4==N&&Xu(this),this.i&&!this.I&&(4==N?Dy(this.l,this):(this.i=!1,au(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,wi(12)):(this.o=0,wi(13)),Xu(this),bd(this)}}}catch(N){}},et.fb=function(){if(this.g){var n=Xi(this.g),e=this.g.ga();this.C<e.length&&(wd(this),fy(this,n,e),this.i&&4!=n&&au(this))}},et.cancel=function(){this.I=!0,Xu(this)},et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function xw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(uf(3),wi(17)),Xu(this),this.o=2,bd(this)):kw(this,this.Y-n)},(et=Ed.prototype).R=function(){gy(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},et.T=function(){return gy(this),this.g.concat()},et.get=function(n,e){return el(this.h,n)?this.h[n]:e},et.set=function(n,e){el(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},et.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var ec=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof tc){this.g=void 0!==e?e:n.g,lu(this,n.j),this.s=n.s,og(this,n.i),ag(this,n.m),this.l=n.l,e=n.h;var t=new ug;t.i=e.i,e.g&&(t.g=new Ed(e.g),t.h=e.h),Fw(this,t),this.o=n.o}else n&&(t=String(n).match(ec))?(this.g=!!e,lu(this,t[1]||"",!0),this.s=Cd(t[2]||""),og(this,t[3]||"",!0),ag(this,t[4]),this.l=Cd(t[5]||"",!0),Fw(this,t[6]||"",!0),this.o=Cd(t[7]||"")):(this.g=!!e,this.h=new ug(null,this.g))}function uu(n){return new tc(n)}function lu(n,e,t){n.j=t?Cd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function og(n,e,t){n.i=t?Cd(e,!0):e}function ag(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Fw(n,e,t){e instanceof ug?(n.h=e,function yy(n,e){e&&!n.j&&(cu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(jw(this,r),LC(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Id(e,FC)),n.h=new ug(e,n.g))}function cr(n,e,t){n.h.set(e,t)}function Ji(n){return cr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Id(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Vw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Vw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Id(e,Uw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Id(e,Uw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Id(t,"/"==t.charAt(0)?NC:kC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Id(t,Bw)),n.join("")};var Uw=/[#\/\?@]/g,kC=/[#\?:]/g,NC=/[#\?]/g,FC=/[#\?@]/g,Bw=/#/g;function ug(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function cu(n){n.g||(n.g=new Ed,n.h=0,n.i&&function Nw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jw(n,e){cu(n),e=hf(n,e),el(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,el((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&gy(n)))}function $w(n,e){return cu(n),e=hf(n,e),el(n.g.h,e)}function LC(n,e,t){jw(n,e),0<t.length&&(n.i=null,n.g.set(hf(n,e),Bp(t)),n.h+=t.length)}function hf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function _y(n){this.l=n||Hw,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ea&&Wt.g.Ea()&&Wt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=ug.prototype).add=function(n,e){cu(this),this.i=null,n=hf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){cu(this),this.g.forEach(function(t,r){hw(t,function(o){n.call(e,o,r,this)},this)},this)},et.T=function(){cu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},et.R=function(n){cu(this);var e=[];if("string"==typeof n)$w(this,n)&&(e=fw(e,this.g.get(hf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=fw(e,n[t])}return e},et.set=function(n,e){return cu(this),this.i=null,$w(this,n=hf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var Hw=10;function UC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function fo(n){return n.h?1:n.g?n.g.size:0}function Gw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function qw(n,e){n.g?n.g.add(e):n.h=e}function vy(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function wy(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Bp(n.i)}function lg(){}function BC(){this.g=new lg}function ZT(n,e,t){const r=t||"";try{df(n,function(o,l){let h=o;Yl(o)&&(h=ry(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Dd(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function ff(n){this.l=n.$b||null,this.j=n.ib||!1}function Td(n,e){ri.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=by,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_y.prototype.cancel=function(){if(this.i=wy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},lg.prototype.stringify=function(n){return Wt.JSON.stringify(n,void 0)},lg.prototype.parse=function(n){return Wt.JSON.parse(n,void 0)},Qr(ff,ly),ff.prototype.g=function(){return new Td(this.l,this.j)},ff.prototype.i=function(n){return function(){return n}}({}),Qr(Td,ri);var by=0;function Ww(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function pf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gf(n)}function gf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=Td.prototype).open=function(n,e){if(this.readyState!=by)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gf(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Wt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pf(this)),this.readyState=by},et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gf(this)),this.g&&(this.readyState=3,gf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Wt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ww(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pf(this):gf(this),3==this.readyState&&Ww(this)}},et.Ua=function(n){this.g&&(this.response=this.responseText=n,pf(this))},et.Ta=function(n){this.g&&(this.response=n,pf(this))},et.ha=function(){this.g&&pf(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Td.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jC=Wt.JSON.parse;function Br(n){ri.call(this),this.headers=new Ed,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mf,this.K=this.L=!1}Qr(Br,ri);var mf="",Ad=/^https?$/i,$C=["POST","PUT"];function HC(n){return"content-type"==n.toLowerCase()}function Zw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cg(n),tl(n)}function cg(n){n.D||(n.D=!0,vi(n,"complete"),vi(n,"error"))}function zo(n){if(n.h&&void 0!==Up&&(!n.C[1]||4!=Xi(n)||2!=n.ba()))if(n.v&&4==Xi(n))Jp(n.Fa,0,n);else if(vi(n,"readystatechange"),4==Xi(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(ec)[1]||null;if(!o&&Wt.self&&Wt.self.location){var l=Wt.self.location.protocol;o=l.substr(0,l.length-1)}r=!Ad.test(o?o.toLowerCase():"")}t=r}if(t)vi(n,"complete"),vi(n,"success");else{n.m=6;try{var h=2<Xi(n)?n.g.statusText:""}catch(E){h=""}n.j=h+" ["+n.ba()+"]",cg(n)}}finally{tl(n)}}}function tl(n,e){if(n.g){bi(n);const t=n.g,r=n.C[0]?hd:null;n.g=null,n.C=null,e||vi(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function bi(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function Xi(n){return n.g?n.g.readyState:0}function _f(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case mf:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function vf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function po(n){let e="";return mw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):cr(n,e,t))}function Da(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function nc(n){this.za=0,this.l=[],this.h=new gd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Da("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Da("baseRetryDelayMs",5e3,n),this.$a=Da("retryDelaySeedMs",1e4,n),this.Ya=Da("forwardChannelMaxRetries",2,n),this.ra=Da("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new _y(n&&n.concurrentRequestLimit),this.Ca=new BC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function nl(n){if(rc(n),3==n.G){var e=n.V++,t=uu(n.F);cr(t,"SID",n.J),cr(t,"RID",e),cr(t,"TYPE","terminate"),xd(n,t),(e=new _d(n,n.h,e,void 0)).K=2,e.v=Ji(uu(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon&&(t=Wt.navigator.sendBeacon(e.v.toString(),"")),!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Sy(e.l,null),e.g.ea(e.v)),e.F=Date.now(),au(e)}Ay(n)}function du(n){n.g&&(hg(n),n.g.cancel(),n.g=null)}function rc(n){du(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),wf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function rl(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&hu(n)}function hu(n){UC(n.i)||n.m||(n.m=!0,iy(n.Ha,n),n.C=0)}function ic(n,e){var t;t=e?e.m:n.V++;const r=uu(n.F);cr(r,"SID",n.J),cr(r,"RID",t),cr(r,"AID",n.U),xd(n,r),n.o&&n.s&&vf(r,n.o,n.s),t=new _d(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Ey(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),qw(n.i,t),hy(t,r,e)}function xd(n,e){n.j&&df({},function(t,r){cr(e,r,t)})}function Ey(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ur(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let E=0;E<t;E++){let A=o[E].h;const N=o[E].g;if(A-=l,0>A)l=Math.max(0,o[E].h-100),m=!1;else try{ZT(N,h,"req"+A+"_")}catch(F){r&&r(N)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Cy(n){n.g||n.u||(n.Y=1,iy(n.Ga,n),n.A=0)}function dg(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Xl(Ur(n.Ga,n),Ty(n,n.A)),n.A++,0))}function hg(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function Iy(n){n.g=new _d(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=uu(n.oa);cr(e,"RID","rpc"),cr(e,"SID",n.J),cr(e,"CI",n.N?"0":"1"),cr(e,"AID",n.U),xd(n,e),cr(e,"TYPE","xmlhttp"),n.o&&n.s&&vf(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ji(uu(e)),t.s=null,t.U=!0,PC(t,n)}function wf(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function Dy(n,e){var t=null;if(n.g==e){wf(n),hg(n),n.g=null;var r=2}else{if(!Gw(n.i,e))return;t=e.D,vy(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;vi(r=md(),new Pw(r,t,e,o)),hu(n)}else Cy(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function Sd(n,e){return!(fo(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Xl(Ur(n.Ha,n,e),Ty(n,n.C)),n.C++,0)))}(n,e)||2==r&&dg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:sc(n,5);break;case 4:sc(n,10);break;case 3:sc(n,6);break;default:sc(n,2)}}function Ty(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function sc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ur(n.jb,n);t||(t=new tc("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||lu(t,"https"),Ji(t)),function zw(n,e){const t=new gd;if(Wt.Image){const r=new Image;r.onload=Ql(Dd,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ql(Dd,t,r,"TestLoadImage: error",!1,e),r.onabort=Ql(Dd,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ql(Dd,t,r,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else wi(2);n.G=0,n.j&&n.j.va(e),Ay(n),rc(n)}function Ay(n){n.G=0,n.I=-1,n.j&&((0!=wy(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Bp(n.l),n.l.length=0),n.j.ua())}function Kw(n,e,t){let r=function my(n){return n instanceof tc?uu(n):new tc(n,void 0)}(t);if(""!=r.i)e&&og(r,e+"."+r.i),ag(r,r.m);else{const o=Wt.location;r=function Lw(n,e,t,r){var o=new tc(null,void 0);return n&&lu(o,n),e&&og(o,e),t&&ag(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&mw(n.aa,function(o,l){cr(r,l,o)}),t=n.sa,(e=n.D)&&t&&cr(r,e,t),cr(r,"VER",n.ma),xd(n,r),r}function Sy(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Br(t&&n.Ba&&!n.qa?new ff({ib:!0}):n.qa)).L=n.H,e}function xy(){}function fg(){if(Jh&&!(10<=Number(Xm)))throw Error("Environmental error: no available transport.")}function Rs(n,e){ri.call(this),this.g=new nc(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Qm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new oc(this)}function My(n){cy.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Yw(){tg.call(this),this.status=1}function oc(n){this.g=n}(et=Br.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ng.g(),this.C=function Rw(n){return n.h||(n.h=n.i())}(this.u?this.u:ng),this.g.onreadystatechange=Ur(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Zw(this,l)}n=t||"";const o=new Ed(this.headers);r&&df(r,function(l,h){o.set(h,l)}),r=function mC(n){e:{var e=HC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Wt.FormData&&n instanceof Wt.FormData,!(0<=dw($C,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bi(this),0<this.B&&((this.K=function yf(n){return Jh&&function Yu(){return function GT(n){var e=bC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=pw(String(Xh)).split("."),t=pw("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=jp(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||jp(0==o[2].length,0==l[2].length)||jp(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ur(this.pa,this)):this.A=Jp(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Zw(this,l)}},et.pa=function(){void 0!==Up&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vi(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vi(this,"complete"),vi(this,"abort"),tl(this))},et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tl(this,!0)),Br.Z.M.call(this)},et.Fa=function(){this.s||(this.F||this.v||this.l?zo(this):this.cb())},et.cb=function(){zo(this)},et.ba=function(){try{return 2<Xi(this)?this.g.status:-1}catch(n){return-1}},et.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},et.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),jC(e)}},et.Da=function(){return this.m},et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=nc.prototype).ma=8,et.G=1,et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new _d(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=yC(l),vC(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ey(this,o,e),cr(t=uu(this.F),"RID",n),cr(t,"CVER",22),this.D&&cr(t,"X-HTTP-Session-Id",this.D),xd(this,t),this.o&&l&&vf(t,this.o,l),qw(this.i,o),this.Ra&&cr(t,"TYPE","init"),this.ja?(cr(t,"$req",e),cr(t,"SID","null"),o.$=!0,hy(o,t,null)):hy(o,t,e),this.G=2}}else 3==this.G&&(n?ic(this,n):0==this.l.length||UC(this.i)||ic(this))},et.Ga=function(){if(this.u=null,Iy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Xl(Ur(this.bb,this),n)}},et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wi(10),du(this),Iy(this))},et.ab=function(){null!=this.v&&(this.v=null,du(this),dg(this),wi(19))},et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),wi(2)):(this.h.info("Failed to ping google.com"),wi(1))},(et=xy.prototype).xa=function(){},et.wa=function(){},et.va=function(){},et.ua=function(){},et.Oa=function(){},fg.prototype.g=function(n,e){return new Rs(n,e)},Qr(Rs,ri),Rs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),iy(Ur(n.hb,n,e))),wi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Kw(n,null,n.W),hu(n)},Rs.prototype.close=function(){nl(this.g)},Rs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,rl(this.g,e)}else this.v?((e={}).__data__=ry(n),rl(this.g,e)):rl(this.g,n)},Rs.prototype.M=function(){this.g.j=null,delete this.j,nl(this.g),delete this.g,Rs.Z.M.call(this)},Qr(My,cy),Qr(Yw,tg),Qr(oc,xy),oc.prototype.xa=function(){vi(this.g,"a")},oc.prototype.wa=function(n){vi(this.g,new My(n))},oc.prototype.va=function(n){vi(this.g,new Yw(n))},oc.prototype.ua=function(){vi(this.g,"b")},fg.prototype.createWebChannel=fg.prototype.g,Rs.prototype.send=Rs.prototype.u,Rs.prototype.open=Rs.prototype.m,Rs.prototype.close=Rs.prototype.close,yd.NO_ERROR=0,yd.TIMEOUT=8,yd.HTTP_ERROR=6,uy.COMPLETE="complete",Xp.EventType=eg,eg.OPEN="a",eg.CLOSE="b",eg.ERROR="c",eg.MESSAGE="d",ri.prototype.listen=ri.prototype.N,Br.prototype.listenOnce=Br.prototype.O,Br.prototype.getLastError=Br.prototype.La,Br.prototype.getLastErrorCode=Br.prototype.Da,Br.prototype.getStatus=Br.prototype.ba,Br.prototype.getResponseJson=Br.prototype.Qa,Br.prototype.getResponseText=Br.prototype.ga,Br.prototype.send=Br.prototype.ea;var GC=ho.createWebChannelTransport=function(){return new fg},qC=ho.getStatEventTarget=function(){return md()},Qw=ho.ErrorCode=yd,zC=ho.EventType=uy,Oy=ho.Event=Jl,pg=ho.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},WC=ho.FetchXmlHttpFactory=ff,Py=ho.WebChannel=Xp,KT=ho.XhrIo=Br;const ZC="@firebase/firestore";class Ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ei.UNAUTHENTICATED=new Ei(null),Ei.GOOGLE_CREDENTIALS=new Ei("google-credentials-uid"),Ei.FIRST_PARTY=new Ei("first-party-uid"),Ei.MOCK_USER=new Ei("mock-user");let ac="9.6.10";const uc=new nu.Yd("@firebase/firestore");function Ry(){return uc.logLevel}function Ge(n,...e){if(uc.logLevel<=nu.in.DEBUG){const t=e.map(gg);uc.debug(`Firestore (${ac}): ${n}`,...t)}}function Pr(n,...e){if(uc.logLevel<=nu.in.ERROR){const t=e.map(gg);uc.error(`Firestore (${ac}): ${n}`,...t)}}function bf(n,...e){if(uc.logLevel<=nu.in.WARN){const t=e.map(gg);uc.warn(`Firestore (${ac}): ${n}`,...t)}}function gg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: `+n;throw Pr(e),new Error(e)}function Gt(n,e){n||pt()}function tt(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends an.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Xw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ei.UNAUTHENTICATED))}shutdown(){}}class KC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class t0{constructor(e){this.t=e,this.currentUser=Ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=A=>this.i!==o?(o=this.i,t(A)):Promise.resolve();let h=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ii,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const A=h;e.enqueueRetryable((0,De.Z)(function*(){yield A.promise,yield l(r.currentUser)}))},E=A=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(A=>E(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?E(A):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ii)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt("string"==typeof r.accessToken),new Xw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gt(null===e||"string"==typeof e),new Ei(e)}}class n0{constructor(e,t,r){this.type="FirstParty",this.user=Ei.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class ky{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new n0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ny{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.p;return this.p=l.token,Ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gt("string"==typeof t.token),this.p=t.token,new YC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class go{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ef(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}go.A=-1;class Fy{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=Ef(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function nn(n,e){return n<e?-1:n>e?1:0}function il(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function r0(n){return n+"\0"}class _r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _r.fromMillis(Date.now())}static fromDate(e){return _r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new _r(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new _r(0,0))}static max(){return new Nt(new _r(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ly(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Od(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function s0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Pd{constructor(e,t,r){void 0===t?t=0:t>e.length&&pt(),void 0===r?r=e.length-t:r>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Pd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wn extends Pd{construct(e,t,r){return new wn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new wn(t)}static emptyPath(){return new wn([])}}const QC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class si extends Pd{construct(e,t,r){return new si(e,t,r)}static isValidIdentifier(e){return QC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),si.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new si(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ne(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Ne(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(l(),o++)}if(l(),h)throw new Ne(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new si(t)}static emptyPath(){return new si([])}}class sl{constructor(e){this.fields=e,e.sort(si.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new jr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jr.EMPTY_BYTE_STRING=new jr("");const Vy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fu(n){if(Gt(!!n),"string"==typeof n){let e=0;const t=Vy.exec(n);if(Gt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ar(n.seconds),nanos:Ar(n.nanos)}}function Ar(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ol(n){return"string"==typeof n?jr.fromBase64String(n):jr.fromUint8Array(n)}function mg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function yg(n){const e=n.mapValue.fields.__previous_value__;return mg(e)?yg(e):e}function Rd(n){const e=fu(n.mapValue.fields.__local_write_time__.timestampValue);return new _r(e.seconds,e.nanos)}class JC{constructor(e,t,r,o,l,h,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class pu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}function lc(n){return null==n}function cc(n){return 0===n&&1/n==-1/0}function _g(n){return"number"==typeof n&&Number.isInteger(n)&&!cc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(wn.fromString(e))}static fromName(e){return new Ye(wn.fromString(e).popFirst(5))}static empty(){return new Ye(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new wn(e.slice()))}}const Uy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},By={nullValue:"NULL_VALUE"};function al(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mg(n)?4:Gy(n)?9:10:pt()}function Wo(n,e){if(n===e)return!0;const t=al(n);if(t!==al(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rd(n).isEqual(Rd(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=fu(r.timestampValue),h=fu(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,ol(n.bytesValue).isEqual(ol(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Ar(r.geoPointValue.latitude)===Ar(o.geoPointValue.latitude)&&Ar(r.geoPointValue.longitude)===Ar(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ar(r.integerValue)===Ar(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Ar(r.doubleValue),h=Ar(o.doubleValue);return l===h?cc(l)===cc(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return il(n.arrayValue.values||[],e.arrayValue.values||[],Wo);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(Ly(l)!==Ly(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!Wo(l[m],h[m])))return!1;return!0}(n,e);default:return pt()}var o}function kd(n,e){return void 0!==(n.values||[]).find(t=>Wo(t,e))}function gu(n,e){if(n===e)return 0;const t=al(n),r=al(e);if(t!==r)return nn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return nn(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=Ar(o.integerValue||o.doubleValue),m=Ar(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return jy(n.timestampValue,e.timestampValue);case 4:return jy(Rd(n),Rd(e));case 5:return nn(n.stringValue,e.stringValue);case 6:return function(o,l){const h=ol(o),m=ol(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),m=l.split("/");for(let E=0;E<h.length&&E<m.length;E++){const A=nn(h[E],m[E]);if(0!==A)return A}return nn(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=nn(Ar(o.latitude),Ar(l.latitude));return 0!==h?h:nn(Ar(o.longitude),Ar(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],m=l.values||[];for(let E=0;E<h.length&&E<m.length;++E){const A=gu(h[E],m[E]);if(A)return A}return nn(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},m=Object.keys(h),E=l.fields||{},A=Object.keys(E);m.sort(),A.sort();for(let N=0;N<m.length&&N<A.length;++N){const F=nn(m[N],A[N]);if(0!==F)return F;const X=gu(h[m[N]],E[A[N]]);if(0!==X)return X}return nn(m.length,A.length)}(n.mapValue,e.mapValue);default:throw pt()}}function jy(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return nn(n,e);const t=fu(n),r=fu(e),o=nn(t.seconds,r.seconds);return 0!==o?o:nn(t.nanos,r.nanos)}function Cf(n){return $y(n)}function $y(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=fu(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ol(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=$y(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of o)h?h=!1:l+=",",l+=`${m}:${$y(r.fields[m])}`;return l+"}"}(n.mapValue):pt();var e}function Nd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vg(n){return!!n&&"integerValue"in n}function If(n){return!!n&&"arrayValue"in n}function $r(n){return!!n&&"nullValue"in n}function Hy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wg(n){return!!n&&"mapValue"in n}function Df(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Od(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Df(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Df(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Gy(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function a0(n,e){return void 0===n?e:void 0===e||gu(n,e)>0?n:e}function qy(n,e){return void 0===n?e:void 0===e||gu(n,e)<0?n:e}class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Df(t)}setAll(e){let t=si.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=Df(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());wg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];wg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Od(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Ci(Df(this.value))}}function dc(n){const e=[];return Od(n.fields,(t,r)=>{const o=new si([t]);if(wg(r)){const l=dc(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new sl(e)}class ir{constructor(e,t,r,o,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new ir(e,0,Nt.min(),Nt.min(),Ci.empty(),0)}static newFoundDocument(e,t,r){return new ir(e,1,t,Nt.min(),r,0)}static newNoDocument(e,t){return new ir(e,2,t,Nt.min(),Ci.empty(),0)}static newUnknownDocument(e,t){return new ir(e,3,t,Nt.min(),Ci.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bg{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Eg(n){return n.fields.find(e=>2===e.kind)}function Fd(n){return n.fields.filter(e=>2!==e.kind)}bg.UNKNOWN_ID=-1;class Tf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Cg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Cg(0,oi.min())}}function zy(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Nt.fromTimestamp(1e9===r?new _r(t+1,0):new _r(t,r));return new oi(o,Ye.empty(),e)}function Wy(n){return new oi(n.readTime,n.key,-1)}class oi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new oi(Nt.min(),Ye.empty(),-1)}static max(){return new oi(Nt.max(),Ye.empty(),-1)}}function XC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:nn(n.largestBatchId,e.largestBatchId))}class eI{constructor(e,t=null,r=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.P=null}}function Zo(n,e=null,t=[],r=[],o=null,l=null,h=null){return new eI(n,e,t,r,o,l,h)}function Ii(n){const e=tt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Cf(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),lc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Cf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Cf(r)).join(",")),e.P=t}return e.P}function Ld(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!sI(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Wo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Yy(n.startAt,e.startAt)&&Yy(n.endAt,e.endAt)}function Af(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ig(n,e){return n.filters.filter(t=>t instanceof Di&&t.field.isEqual(e))}class Di extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new tI(e,t,r):"array-contains"===t?new rI(e,r):"in"===t?new u0(e,r):"not-in"===t?new iI(e,r):"array-contains-any"===t?new l0(e,r):new Di(e,t,r)}static V(e,t,r){return"in"===t?new nI(e,r):new Zy(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(gu(t,this.value)):null!==t&&al(this.value)===al(t)&&this.v(gu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class tI extends Di{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.v(t)}}class nI extends Di{constructor(e,t){super(e,"in",t),this.keys=Vd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Zy extends Di{constructor(e,t){super(e,"not-in",t),this.keys=Vd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vd(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class rI extends Di{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return If(t)&&kd(t.arrayValue,this.value)}}class u0 extends Di{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&kd(this.value.arrayValue,t)}}class iI extends Di{constructor(e,t){super(e,"not-in",t)}matches(e){if(kd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!kd(this.value.arrayValue,t)}}class l0 extends Di{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!If(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>kd(this.value.arrayValue,r))}}class mu{constructor(e,t){this.position=e,this.inclusive=t}}class yu{constructor(e,t="asc"){this.field=e,this.dir=t}}function sI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Ky(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?Ye.comparator(Ye.fromName(h.referenceValue),t.key):gu(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Yy(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wo(n.position[t],e.position[t]))return!1;return!0}class Yo{constructor(e,t=null,r=[],o=[],l=null,h="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=E,this.D=null,this.C=null}}function Sf(n,e,t,r,o,l,h,m){return new Yo(n,e,t,r,o,l,h,m)}function hc(n){return new Yo(n)}function xf(n){return!lc(n.limit)&&"F"===n.limitType}function Mf(n){return!lc(n.limit)&&"L"===n.limitType}function Dg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Tg(n){for(const e of n.filters)if(e.S())return e.field;return null}function Ag(n){return null!==n.collectionGroup}function fc(n){const e=tt(n);if(null===e.D){e.D=[];const t=Tg(e),r=Dg(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new yu(t)),e.D.push(new yu(si.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new yu(si.keyField(),l))}}}return e.D}function ks(n){const e=tt(n);if(!e.C)if("F"===e.limitType)e.C=Zo(e.path,e.collectionGroup,fc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of fc(e))t.push(new yu(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new mu(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new mu(e.startAt.position,!e.startAt.inclusive):null;e.C=Zo(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function c0(n,e,t){return new Yo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Of(n,e){return Ld(ks(n),ks(e))&&n.limitType===e.limitType}function d0(n){return`${Ii(ks(n))}|lt:${n.limitType}`}function Qy(n){return`Query(target=${function Ko(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Cf(r.value)}`;var r}).join(", ")}]`),lc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Cf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Cf(t)).join(",")),`Target(${e})`}(ks(n))}; limitType=${n.limitType})`}function Jy(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ye.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,h){const m=Ky(o,l,h);return o.inclusive?m<=0:m<0}(t.startAt,fc(t),r)||t.endAt&&!function(o,l,h){const m=Ky(o,l,h);return o.inclusive?m>=0:m>0}(t.endAt,fc(t),r)));var t,r}function h0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function f0(n){return(e,t)=>{let r=!1;for(const o of fc(n)){const l=oI(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function oI(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(o,l,h){const m=l.data.field(o),E=h.data.field(o);return null!==m&&null!==E?gu(m,E):pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}function p0(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function g0(n){return{integerValue:""+n}}function m0(n,e){return _g(e)?g0(e):p0(n,e)}class Sg{constructor(){this._=void 0}}function aI(n,e,t){return n instanceof Ud?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof pc?_0(n,e):n instanceof ul?Xy(n,e):function(r,o){const l=y0(r,o),h=e_(l)+e_(r.k);return vg(l)&&vg(r.k)?g0(h):p0(r.M,h)}(n,e)}function uI(n,e,t){return n instanceof pc?_0(n,e):n instanceof ul?Xy(n,e):t}function y0(n,e){return n instanceof gc?vg(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ud extends Sg{}class pc extends Sg{constructor(e){super(),this.elements=e}}function _0(n,e){const t=t_(e);for(const r of n.elements)t.some(o=>Wo(o,r))||t.push(r);return{arrayValue:{values:t}}}class ul extends Sg{constructor(e){super(),this.elements=e}}function Xy(n,e){let t=t_(e);for(const r of n.elements)t=t.filter(o=>!Wo(o,r));return{arrayValue:{values:t}}}class gc extends Sg{constructor(e,t){super(),this.M=e,this.k=t}}function e_(n){return Ar(n.integerValue||n.doubleValue)}function t_(n){return If(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Bd{constructor(e,t){this.field=e,this.transform=t}}class w0{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Rf{}function mc(n,e,t){n instanceof _c?function(r,o,l){const h=r.value.clone(),m=i_(r.fieldTransforms,o,l.transformResults);h.setAll(m),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof jd?function(r,o,l){if(!Pf(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=i_(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(r_(r)),m.setAll(h),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function n_(n,e,t){var o;n instanceof _c?function(r,o,l){if(!Pf(r.precondition,o))return;const h=r.value.clone(),m=dI(r.fieldTransforms,l,o);h.setAll(m),o.convertToFoundDocument(cI(o),h).setHasLocalMutations()}(n,e,t):n instanceof jd?function(r,o,l){if(!Pf(r.precondition,o))return;const h=dI(r.fieldTransforms,l,o),m=o.data;m.setAll(r_(r)),m.setAll(h),o.convertToFoundDocument(cI(o),m).setHasLocalMutations()}(n,e,t):Pf(n.precondition,o=e)&&o.convertToNoDocument(Nt.min())}function lI(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=y0(r.transform,o||null);null!=l&&(null==t&&(t=Ci.empty()),t.set(r.field,l))}return t||null}function yc(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&il(t,r,(o,l)=>function v0(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof pc&&r instanceof pc||t instanceof ul&&r instanceof ul?il(t.elements,r.elements,Wo):t instanceof gc&&r instanceof gc?Wo(t.k,r.k):t instanceof Ud&&r instanceof Ud);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function cI(n){return n.isFoundDocument()?n.version:Nt.min()}class _c extends Rf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class jd extends Rf{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function r_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function i_(n,e,t){const r=new Map;Gt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,m=e.data.field(l.field);r.set(l.field,uI(h,m,t[o]))}return r}function dI(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,aI(l,h,e))}return r}class Mt extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class s_ extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class hI{constructor(e){this.count=e}}var Hr,pn;function b0(n){switch(n){default:return pt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function kf(n){if(void 0===n)return Pr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Hr.OK:return pe.OK;case Hr.CANCELLED:return pe.CANCELLED;case Hr.UNKNOWN:return pe.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return pe.INTERNAL;case Hr.UNAVAILABLE:return pe.UNAVAILABLE;case Hr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Hr.NOT_FOUND:return pe.NOT_FOUND;case Hr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Hr.ABORTED:return pe.ABORTED;case Hr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Hr.DATA_LOSS:return pe.DATA_LOSS;default:return pt()}}(pn=Hr||(Hr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";class Qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Od(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return s0(this.inner)}size(){return this.innerSize}}class Jt{constructor(e,t){this.comparator=e,this.root=t||ai.EMPTY}insert(e,t){return new Jt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new o_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new o_(this.root,e,this.comparator,!1)}getReverseIterator(){return new o_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new o_(this.root,e,this.comparator,!0)}}class o_{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:ai.RED,this.left=null!=o?o:ai.EMPTY,this.right=null!=l?l:ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new ai(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return ai.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1,ai.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new ai(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sr{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(e){return new E0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof sr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sr(this.comparator);return t.data=e,t}}class E0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vc(n){return n.hasNext()?n.getNext():void 0}const C0=new Jt(Ye.comparator);function Ns(){return C0}const I0=new Jt(Ye.comparator);function a_(){return I0}function Nf(){return new Qo(n=>n.toString(),(n,e)=>n.isEqual(e))}const fI=new Jt(Ye.comparator),Ff=new sr(Ye.comparator);function Un(...n){let e=Ff;for(const t of n)e=e.add(t);return e}const pI=new sr(nn);function xg(){return pI}class ll{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,t)),new ll(Nt.min(),r,xg(),Ns(),Un())}}class $d{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new $d(jr.EMPTY_BYTE_STRING,t,Un(),Un(),Un())}}class Lf{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class u_{constructor(e,t){this.targetId=e,this.$=t}}class D0{constructor(e,t,r=jr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Hd{constructor(){this.B=0,this.L=A0(),this.U=jr.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Un(),t=Un(),r=Un();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:pt()}}),new $d(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=A0()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class Vf{constructor(e){this.nt=e,this.st=new Map,this.it=Ns(),this.rt=T0(),this.ot=new sr(nn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const l=o.target;if(Af(l))if(0===r){const h=new Ye(l.path);this.ct(t,h,ir.newNoDocument(h,Nt.min()))}else Gt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&Af(m.target)){const E=new Ye(m.target.path);null!==this.it.get(E)||this.It(h,E)||this.ct(h,E,ir.newNoDocument(E,e))}l.j&&(t.set(h,l.H()),l.J())}});let r=Un();this.rt.forEach((l,h)=>{let m=!0;h.forEachWhile(E=>{const A=this.wt(E);return!A||2===A.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,h)=>h.setReadTime(e));const o=new ll(e,t,this.ot,this.it,r);return this.it=Ns(),this.rt=T0(),this.ot=new sr(nn),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Hd,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new sr(nn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Hd),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function T0(){return new Jt(Ye.comparator)}function A0(){return new Jt(Ye.comparator)}const gI={asc:"ASCENDING",desc:"DESCENDING"},S0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class x0{constructor(e,t){this.databaseId=e,this.N=t}}function Gd(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M0(n,e){return n.N?e.toBase64():e.toUint8Array()}function O0(n,e){return Gd(n,e.toTimestamp())}function ui(n){return Gt(!!n),Nt.fromTimestamp(function(e){const t=fu(e);return new _r(t.seconds,t.nanos)}(n))}function l_(n,e){return(t=n,new wn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function mI(n){const e=wn.fromString(n);return Gt(Og(e)),e}function Mg(n,e){return l_(n.databaseId,e.path)}function _u(n,e){const t=mI(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(R0(t))}function P0(n,e){return l_(n.databaseId,e)}function c_(n){const e=mI(n);return 4===e.length?wn.emptyPath():R0(e)}function cl(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function R0(n){return Gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function k0(n,e,t){return{name:Mg(n,e),fields:t.value.mapValue.fields}}function d_(n,e,t){const r=_u(n,e.name),o=ui(e.updateTime),l=new Ci({mapValue:{fields:e.fields}}),h=ir.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Bf(n,e){let t;if(e instanceof _c)t={update:k0(n,e.key,e.value)};else if(e instanceof Mt)t={delete:Mg(n,e.key)};else if(e instanceof jd)t={update:k0(n,e.key,e.data),updateMask:EI(e.fieldMask)};else{if(!(e instanceof s_))return pt();t={verify:Mg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof Ud)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof pc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ul)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof gc)return{fieldPath:l.field.canonicalString(),increment:h.k};throw pt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:O0(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:pt()),t;var o}function h_(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Rr.updateTime(ui(o.updateTime)):void 0!==o.exists?Rr.exists(o.exists):Rr.none():Rr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let m=null;"setToServerValue"in h?(Gt("REQUEST_TIME"===h.setToServerValue),m=new Ud):"appendMissingElements"in h?m=new pc(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new ul(h.removeAllFromArray.values||[]):"increment"in h?m=new gc(l,h.increment):pt();const E=si.fromServerFormat(h.fieldPath);return new Bd(E,m)}(n,o)):[];var o;if(e.update){const o=_u(n,e.update.name),l=new Ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new sl((e.updateMask.fieldPaths||[]).map(A=>si.fromServerFormat(A)));return new jd(o,l,h,t,r)}return new _c(o,l,t,r)}if(e.delete){const o=_u(n,e.delete);return new Mt(o,t)}if(e.verify){const o=_u(n,e.verify);return new s_(o,t)}return pt()}function N0(n,e){return{documents:[P0(n,e.path)]}}function f_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=P0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=P0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const A=E.map(N=>function(F){if("=="===F.op){if(Hy(F.value))return{unaryFilter:{field:qd(F.field),op:"IS_NAN"}};if($r(F.value))return{unaryFilter:{field:qd(F.field),op:"IS_NULL"}}}else if("!="===F.op){if(Hy(F.value))return{unaryFilter:{field:qd(F.field),op:"IS_NOT_NAN"}};if($r(F.value))return{unaryFilter:{field:qd(F.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qd(F.field),op:L0(F.op),value:F.value}}}(N));return 1===A.length?A[0]:{compositeFilter:{op:"AND",filters:A}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(E){if(0!==E.length)return E.map(A=>{return{field:qd((N=A).field),direction:wI(N.dir)};var N})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(A=e.limit,n.N||lc(A)?A:{value:A});var A,m,E;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function F0(n){let e=c_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Gt(1===r);const N=t.from[0];N.allDescendants?o=N.collectionId:e=e.child(N.collectionId)}let l=[];t.where&&(l=wc(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(N=>{return new yu(bc((F=N).field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction));var F}));let m=null;t.limit&&(m=function(N){let F;return F="object"==typeof N?N.value:N,lc(F)?null:F}(t.limit));let E=null;var N;t.startAt&&(E=new mu((N=t.startAt).values||[],!!N.before));let A=null;return t.endAt&&(A=function(N){return new mu(N.values||[],!N.before)}(t.endAt)),Sf(e,o,h,l,m,"F",E,A)}function wc(n){return n?void 0!==n.unaryFilter?[V0(n)]:void 0!==n.fieldFilter?[bI(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>wc(e)).reduce((e,t)=>e.concat(t)):pt():[]}function wI(n){return gI[n]}function L0(n){return S0[n]}function qd(n){return{fieldPath:n.canonicalString()}}function bc(n){return si.fromServerFormat(n.fieldPath)}function bI(n){return Di.create(bc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function V0(n){switch(n.unaryFilter.op){case"IS_NAN":const e=bc(n.unaryFilter.field);return Di.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=bc(n.unaryFilter.field);return Di.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bc(n.unaryFilter.field);return Di.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bc(n.unaryFilter.field);return Di.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}function EI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Og(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function li(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=p_(e)),e=U0(n.get(t),e);return p_(e)}function U0(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function p_(n){return n+"\x01\x01"}function Jo(n){const e=n.length;if(Gt(e>=2),2===e)return Gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&pt(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let E;0===o.length?E=m:(o+=m,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:pt()}l=h+2}return new wn(r)}const B0=["userId","batchId"];function Pg(n,e){return[n,li(e)]}function Rg(n,e,t){return[n,li(e),t]}const CI={},j0=["prefixPath","collectionGroup","readTime","documentId"],II=["prefixPath","collectionGroup","documentId"],DI=["collectionGroup","readTime","prefixPath","documentId"],TI=["canonicalId","targetId"],AI=["targetId","path"],SI=["path","targetId"],xI=["collectionId","parent"],MI=["indexId","uid"],OI=["uid","sequenceNumber"],$0=["indexId","uid","arrayValue","directionalValue","documentKey"],H0=["indexId","uid","documentKey"],PI=["userId","collectionPath","documentId"],RI=["userId","collectionPath","largestBatchId"],G0=["userId","collectionGroup","largestBatchId"],q0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kI=[...q0,"documentOverlays"],z0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],g_=[...z0,"indexConfiguration","indexState","indexEntries"],kg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},E=>r(E))}),h=!0,l===o&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(o=>o?me.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class Ng{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ii,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new jf(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=Fg(r.target.error);this.At.reject(new jf(e,o))}}static open(e,t,r,o){try{return new Ng(t,e.transaction(o,r))}catch(l){throw new jf(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new NI(t)}}class Xo{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Xo.Vt((0,an.z$)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),hl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,an.hl)())return!1;if(Xo.St())return!0;const e=(0,an.z$)(),t=Xo.Vt(e),r=0<t&&t<10,o=Xo.Dt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,De.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new jf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Ne(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ne(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new jf(e,m))},l.onupgradeneeded=h=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Pt.kt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,De.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const E=Ng.open(l.db,e,h?"readonly":"readwrite",r),A=o(E).next(N=>(E.bt(),N)).catch(N=>(E.abort(N),me.reject(N))).toPromise();return A.catch(()=>{}),yield E.Rt,A}catch(E){const A="FirebaseError"!==E.name&&m<3;if(Ge("SimpleDb","Transaction failed with error:",E.message,"Retrying:",A),l.close(),!A)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class y_{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return hl(this.Ft.delete())}}class jf extends Ne{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function dl(n){return"IndexedDbTransactionError"===n.name}class NI{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hl(r)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),hl(this.store.add(e))}get(e){return hl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),hl(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),hl(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.Gt(o,(h,m)=>{l.push(m)}).next(()=>l)}{const o=this.store.getAll(r.range);return new me((l,h)=>{o.onerror=m=>{h(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new me((o,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}Qt(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Gt(o,(l,h,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Gt(o,t)}zt(e){const t=this.cursor({});return new me((r,o)=>{t.onerror=l=>{const h=Fg(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Gt(e,t){const r=[];return new me((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const E=new y_(m),A=t(m.primaryKey,m.value,E);if(A instanceof me){const N=A.catch(F=>(E.done(),me.reject(F)));r.push(N)}E.isDone?o():null===E.Lt?m.continue():m.continue(E.Lt)}}).next(()=>me.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function hl(n){return new me((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Fg(r.target.error);t(o)}})}let W0=!1;function Fg(n){const e=Xo.Vt((0,an.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return W0||(W0=!0,setTimeout(()=>{throw r},0)),r}}return n}class FI extends m_{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function ci(n,e){const t=tt(n);return Xo.xt(t.Ht,e)}class Ec{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&mc(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&n_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&n_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Nt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Un())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(t,r)=>yc(t,r))&&il(this.baseMutations,e.baseMutations,(t,r)=>yc(t,r))}}class __{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Gt(e.mutations.length===r.length);let o=fI;const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new __(e,t,r,o)}}class fl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mo{constructor(e,t,r,o,l=Nt.min(),h=Nt.min(),m=jr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Z0{constructor(e){this.Jt=e}}function v_(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Lg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Mg(o=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Gd(o,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Cc(e.version)};else{if(!e.isUnknownDocument())return pt();r.unknownDocument={path:t.path.toArray(),version:Cc(e.version)}}var o,l;return r}function Lg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Cc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ic(n){const e=new _r(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function zd(n,e){const t=(e.baseMutations||[]).map(l=>h_(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>h_(n.Jt,l)),o=_r.fromMillis(e.localWriteTimeMs);return new Ec(e.batchId,o,t,r)}function Wd(n){const e=Ic(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ic(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var o;return void 0!==n.query.documents?(Gt(1===(o=n.query).documents.length),r=ks(hc(c_(o.documents[0])))):r=ks(F0(n.query)),new mo(r,n.targetId,0,n.lastListenSequenceNumber,e,t,jr.fromBase64String(n.resumeToken))}function w_(n,e){const t=Cc(e.snapshotVersion),r=Cc(e.lastLimboFreeSnapshotVersion);let o;o=Af(e.target)?N0(n.Jt,e.target):f_(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ii(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function $f(n){const e=F0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?c0(e,e.limit,"L"):e}function Zd(n,e){return new fl(e.largestBatchId,h_(n.Jt,e.overlayMutation))}function Kd(n,e){const t=e.path.lastSegment();return[n,li(e.path.popLast()),t]}class LI{getBundleMetadata(e,t){return b_(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Ic(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return b_(e).put({bundleId:(r=t).id,createTime:Cc(ui(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return E_(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:$f(o.bundledQuery),readTime:Ic(o.readTime)};var o})}saveNamedQuery(e,t){return E_(e).put({name:(r=t).name,readTime:Cc(ui(r.readTime)),bundledQuery:r.bundledQuery});var r}}function b_(n){return ci(n,"bundles")}function E_(n){return ci(n,"namedQueries")}class C_{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new C_(e,t.uid||"")}getOverlay(e,t){return Hf(e).get(Kd(this.userId,t)).next(r=>r?Zd(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((l,h)=>{const m=new fl(t,h);o.push(this.Xt(e,m))}),me.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(li(h.getCollectionPath())));const l=[];return o.forEach(h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);l.push(Hf(e).Qt("collectionPathOverlayIndex",m))}),me.waitFor(l)}getOverlaysForCollection(e,t,r){const o=Nf(),l=li(t),h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Hf(e).qt("collectionPathOverlayIndex",h).next(m=>{for(const E of m){const A=Zd(this.M,E);o.set(A.getKey(),A)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=Nf();let h;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hf(e).Wt({index:"collectionGroupOverlayIndex",range:m},(E,A,N)=>{const F=Zd(this.M,A);l.size()<o||F.largestBatchId===h?(l.set(F.getKey(),F),h=F.largestBatchId):N.done()}).next(()=>l)}Xt(e,t){return Hf(e).put(function(r,o,l){const[h,m,E]=Kd(o,l.mutation.key);return{userId:o,collectionPath:m,documentId:E,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Bf(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function Hf(n){return ci(n,"documentOverlays")}class Yd{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Ar(e.integerValue));else if("doubleValue"in e){const r=Ar(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),cc(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ol(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Gy(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):pt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),Ye.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function I_(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function K0(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=I_(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Yd.fe=new Yd;class JT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=K0(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=K0(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class VI{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class UI{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class vu{constructor(){this.De=new JT,this.Ce=new VI(this.De),this.xe=new UI(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class wu{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new wu(this.indexId,this.documentKey,this.arrayValue,r)}}function yo(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=BI(n.arrayValue,e.arrayValue),0!==t?t:(t=BI(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function BI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Y0{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Eg(e);if(void 0!==t&&!this.Be(t))return!1;const r=Fd(e);let o=0,l=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const h=r[o];if(!this.Le(this.Fe,h)||!this.Ue(this.Me[l++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(l>=this.Me.length||!this.Ue(this.Me[l++],h))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class jI{constructor(){this.qe=new Q0}addToCollectionParentIndex(e,t){return this.qe.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getFieldIndex(e,t){return me.resolve(null)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class Q0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new sr(wn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new sr(wn.comparator)).toArray()}}const Gf=new Uint8Array(0);class XT{constructor(e){this.user=e,this.Ge=new Q0,this.Ke=new Qo(t=>Ii(t),(t,r)=>Ld(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:li(o)};return D_(e).put(l)}return me.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[r0(t),""],!1,!0);return D_(e).qt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(Jo(h.parent))}return r})}addFieldIndex(e,t){const r=Vg(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=Vg(e),o=Ug(e),l=Dc(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Dc(e);let o=!0;const l=new Map;return me.forEach(this.Qe(t),h=>this.getFieldIndex(e,h).next(m=>{o&&(o=!!m),l.set(h,m)})).next(()=>{if(o){let h=Un();return me.forEach(l,(m,E)=>{var A;Ge("IndexedDbIndexManager",`Using index ${A=m,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(Rt=>`${Rt.fieldPath}:${Rt.kind}`).join(",")}`} to execute ${Ii(t)}`);const N=function(Rt,bn){const kt=Eg(bn);if(void 0===kt)return null;for(const un of Ig(Rt,kt.fieldPath))switch(un.op){case"array-contains-any":return un.value.arrayValue.values||[];case"array-contains":return[un.value]}return null}(E,m),F=function(Rt,bn){const kt=new Map;for(const un of Fd(bn))for(const gn of Ig(Rt,un.fieldPath))switch(gn.op){case"==":case"in":kt.set(un.fieldPath.canonicalString(),gn.value);break;case"not-in":case"!=":return kt.set(un.fieldPath.canonicalString(),gn.value),Array.from(kt.values())}return null}(E,m),X=function(Rt,bn){const kt=[];let un=!0;for(const bl of Fd(bn)){let ea,yp=!0;for(const Ti of Ig(Rt,bl.fieldPath)){let kr,wm=!0;switch(Ti.op){case"<":case"<=":kr="nullValue"in(gn=Ti.value)?By:"booleanValue"in gn?{booleanValue:!1}:"integerValue"in gn||"doubleValue"in gn?{doubleValue:NaN}:"timestampValue"in gn?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in gn?{stringValue:""}:"bytesValue"in gn?{bytesValue:""}:"referenceValue"in gn?Nd(pu.empty(),Ye.empty()):"geoPointValue"in gn?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in gn?{arrayValue:{}}:"mapValue"in gn?{mapValue:{}}:pt();break;case"==":case"in":case">=":kr=Ti.value;break;case">":kr=Ti.value,wm=!1;break;case"!=":case"not-in":kr=By}a0(ea,kr)===kr&&(ea=kr,yp=wm)}if(null!==Rt.startAt)for(let Ti=0;Ti<Rt.orderBy.length;++Ti)if(Rt.orderBy[Ti].field.isEqual(bl.fieldPath)){const kr=Rt.startAt.position[Ti];a0(ea,kr)===kr&&(ea=kr,yp=Rt.startAt.inclusive);break}if(void 0===ea)return null;kt.push(ea),un&&(un=yp)}var gn;return new mu(kt,un)}(E,m),ie=function(Rt,bn){const kt=[];let un=!0;for(const bl of Fd(bn)){let ea,yp=!0;for(const Ti of Ig(Rt,bl.fieldPath)){let kr,wm=!0;switch(Ti.op){case">=":case">":kr="nullValue"in(gn=Ti.value)?{booleanValue:!1}:"booleanValue"in gn?{doubleValue:NaN}:"integerValue"in gn||"doubleValue"in gn?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in gn?{stringValue:""}:"stringValue"in gn?{bytesValue:""}:"bytesValue"in gn?Nd(pu.empty(),Ye.empty()):"referenceValue"in gn?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in gn?{arrayValue:{}}:"arrayValue"in gn?{mapValue:{}}:"mapValue"in gn?Uy:pt(),wm=!1;break;case"==":case"in":case"<=":kr=Ti.value;break;case"<":kr=Ti.value,wm=!1;break;case"!=":case"not-in":kr=Uy}qy(ea,kr)===kr&&(ea=kr,yp=wm)}if(null!==Rt.endAt)for(let Ti=0;Ti<Rt.orderBy.length;++Ti)if(Rt.orderBy[Ti].field.isEqual(bl.fieldPath)){const kr=Rt.endAt.position[Ti];qy(ea,kr)===kr&&(ea=kr,yp=Rt.endAt.inclusive);break}if(void 0===ea)return null;kt.push(ea),un&&(un=yp)}var gn;return new mu(kt,un)}(E,m),Ie=this.je(m,E,X),Ze=this.je(m,E,ie),ft=this.We(m,E,F),Xt=this.ze(m.indexId,N,Ie,!!X&&X.inclusive,Ze,!!ie&&ie.inclusive,ft);return me.forEach(Xt,Rt=>r.Kt(Rt,t.limit).next(bn=>{bn.forEach(kt=>{h=h.add(new Ye(Jo(kt.documentKey)))})}))}).next(()=>h)}return me.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,o,l,h,m){const E=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),A=E/(null!=t?t.length:1),N=[];for(let F=0;F<E;++F){const X=t?this.He(t[F/A]):Gf,ie=r?this.Je(e,X,r[F%A],o):this.Ye(e),Ie=l?this.Xe(e,X,l[F%A],h):this.Ye(e+1);N.push(...this.createRange(ie,Ie,m.map(Ze=>this.Je(e,X,Ze,!0))))}return N}Je(e,t,r,o){const l=new wu(e,Ye.empty(),t,r);return o?l:l.ke()}Xe(e,t,r,o){const l=new wu(e,Ye.empty(),t,r);return o?l.ke():l}Ye(e){return new wu(e,Ye.empty(),Gf,Gf)}getFieldIndex(e,t){const r=new Y0(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{const h=l.filter(m=>r.$e(m));return h.sort((m,E)=>E.fields.length-m.fields.length),h.length>0?h[0]:null})}Ze(e,t){const r=new vu;for(const o of Fd(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const h=r.Ne(o.kind);Yd.fe.Zt(l,h)}return r.Se()}He(e){const t=new vu;return Yd.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new vu);let l=0;for(const h of Fd(e)){const m=r[l++];for(const E of o)if(this.tn(t,h.fieldPath)&&If(m))o=this.en(o,h,m);else{const A=E.Ne(h.kind);Yd.fe.Zt(m,A)}}return this.nn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const o=[...e],l=[];for(const h of r.arrayValue.values||[])for(const m of o){const E=new vu;E.seed(m.Se()),Yd.fe.Zt(h,E.Ne(t.kind)),l.push(E)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof Di&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Vg(e),o=Ug(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const h=[];return me.forEach(l,m=>o.get([m.indexId,this.uid]).next(E=>{h.push(function(A,N){const F=N?new Cg(N.sequenceNumber,new oi(Ic(N.readTime),new Ye(Jo(N.documentKey)),N.largestBatchId)):Cg.empty(),X=A.fields.map(([ie,Ie])=>new Tf(si.fromServerFormat(ie),Ie));return new bg(A.indexId,A.collectionGroup,X,F)}(m,E))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:nn(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Vg(e),l=Ug(e);return this.sn(e).next(h=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>me.forEach(m,E=>{return l.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:h,readTime:Cc((X=r).readTime),documentKey:li(X.documentKey.path),largestBatchId:X.largestBatchId});var X})))}updateIndexEntries(e,t){const r=new Map;return me.forEach(t,(o,l)=>{const h=r.get(o.collectionGroup);return(h?me.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),me.forEach(m,E=>this.rn(e,o,E).next(A=>{const N=this.on(l,E);return A.isEqual(N)?me.resolve():this.un(e,l,A,N)}))))})}an(e,t,r){return Dc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:li(t.key.path)})}cn(e,t,r){return Dc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,li(t.key.path)])}rn(e,t,r){const o=Dc(e);let l=new sr(yo);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,li(t.path)])},(h,m)=>{l=l.add(new wu(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}on(e,t){let r=new sr(yo);const o=this.Ze(t,e);if(null==o)return r;const l=Eg(t);if(null!=l){const h=e.data.field(l.fieldPath);if(If(h))for(const m of h.arrayValue.values||[])r=r.add(new wu(t.indexId,e.key,this.He(m),o))}else r=r.add(new wu(t.indexId,e.key,Gf,o));return r}un(e,t,r,o){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,m,E,A,N){const F=h.getIterator(),X=m.getIterator();let ie=vc(F),Ie=vc(X);for(;ie||Ie;){let Ze=!1,ft=!1;if(ie&&Ie){const Xt=E(ie,Ie);Xt<0?ft=!0:Xt>0&&(Ze=!0)}else null!=ie?ft=!0:Ze=!0;Ze?(A(Ie),Ie=vc(X)):ft?(N(ie),ie=vc(F)):(ie=vc(F),Ie=vc(X))}}(r,o,yo,h=>{l.push(this.an(e,t,h))},h=>{l.push(this.cn(e,t,h))}),me.waitFor(l)}sn(e){let t=1;return Ug(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,m)=>yo(h,m)).filter((h,m,E)=>!m||0!==yo(h,E[m-1]));const o=[];o.push(e);for(const h of r){const m=yo(h,e),E=yo(h,t);if(0===m)o[0]=e.ke();else if(m>0&&E<0)o.push(h),o.push(h.ke());else if(E>0)break}o.push(t);const l=[];for(let h=0;h<o.length;h+=2)l.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,""],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,""]));return l}}function D_(n){return ci(n,"collectionParents")}function Dc(n){return ci(n,"indexEntries")}function Vg(n){return ci(n,"indexConfiguration")}function Ug(n){return ci(n,"indexState")}const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function J0(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const E=r.Wt({range:h},(N,F,X)=>(m++,X.delete()));l.push(E.next(()=>{Gt(1===m)}));const A=[];for(const N of t.mutations){const F=Rg(e,N.key.path,t.batchId);l.push(o.delete(F)),A.push(N.key)}return me.waitFor(l).next(()=>A)}function Bg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class A_{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.hn={}}static Yt(e,t,r,o){Gt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new A_(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pl(e).Wt({index:"userMutationsIndex",range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Qd(e),h=pl(e);return h.add({}).next(m=>{Gt("number"==typeof m);const E=new Ec(m,t,r,o),A=function(X,ie,Ie){const Ze=Ie.baseMutations.map(Xt=>Bf(X.Jt,Xt)),ft=Ie.mutations.map(Xt=>Bf(X.Jt,Xt));return{userId:ie,batchId:Ie.batchId,localWriteTimeMs:Ie.localWriteTime.toMillis(),baseMutations:Ze,mutations:ft}}(this.M,this.userId,E),N=[];let F=new sr((X,ie)=>nn(X.canonicalString(),ie.canonicalString()));for(const X of o){const ie=Rg(this.userId,X.key.path,m);F=F.add(X.key.path.popLast()),N.push(h.put(A)),N.push(l.put(ie,CI))}return F.forEach(X=>{N.push(this.indexManager.addToCollectionParentIndex(e,X))}),e.addOnCommittedListener(()=>{this.hn[m]=E.keys()}),me.waitFor(N).next(()=>E)})}lookupMutationBatch(e,t){return pl(e).get(t).next(r=>r?(Gt(r.userId===this.userId),zd(this.M,r)):null)}ln(e,t){return this.hn[t]?me.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.hn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return pl(e).Wt({index:"userMutationsIndex",range:o},(h,m,E)=>{m.userId===this.userId&&(Gt(m.batchId>=r),l=zd(this.M,m)),E.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return pl(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pl(e).qt("userMutationsIndex",t).next(r=>r.map(o=>zd(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Pg(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Qd(e).Wt({range:o},(h,m,E)=>{const[A,N,F]=h,X=Jo(N);if(A===this.userId&&t.path.isEqual(X))return pl(e).get(F).next(ie=>{if(!ie)throw pt();Gt(ie.userId===this.userId),l.push(zd(this.M,ie))});E.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new sr(nn);const o=[];return t.forEach(l=>{const h=Pg(this.userId,l.path),m=IDBKeyRange.lowerBound(h),E=Qd(e).Wt({range:m},(A,N,F)=>{const[X,ie,Ie]=A,Ze=Jo(ie);X===this.userId&&l.path.isEqual(Ze)?r=r.add(Ie):F.done()});o.push(E)}),me.waitFor(o).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=Pg(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new sr(nn);return Qd(e).Wt({range:h},(E,A,N)=>{const[F,X,ie]=E,Ie=Jo(X);F===this.userId&&r.isPrefixOf(Ie)?Ie.length===o&&(m=m.add(ie)):N.done()}).next(()=>this.fn(e,m))}fn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(pl(e).get(l).next(h=>{if(null===h)throw pt();Gt(h.userId===this.userId),r.push(zd(this.M,h))}))}),me.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return J0(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),me.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return me.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Qd(e).Wt({range:r},(l,h,m)=>{if(l[0]===this.userId){const E=Jo(l[1]);o.push(E)}else m.done()}).next(()=>{Gt(0===o.length)})})}containsKey(e,t){return X0(e,this.userId,t)}_n(e){return Jd(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function X0(n,e,t){const r=Pg(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Qd(n).Wt({range:l,jt:!0},(m,E,A)=>{const[N,F,X]=m;N===e&&F===o&&(h=!0),A.done()}).next(()=>h)}function pl(n){return ci(n,"mutations")}function Qd(n){return ci(n,"documentMutations")}function Jd(n){return ci(n,"mutationQueues")}class gl{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new gl(0)}static gn(){return new gl(-1)}}class eb{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new gl(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Nt.fromTimestamp(new _r(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.pn(e,o)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Tc(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Gt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Tc(e).Wt((h,m)=>{const E=Wd(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,l.push(this.removeTargetData(e,E)))}).next(()=>me.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Tc(e).Wt((r,o)=>{const l=Wd(o);t(l)})}yn(e){return S_(e).get("targetGlobalKey").next(t=>(Gt(null!==t),t))}pn(e,t){return S_(e).put("targetGlobalKey",t)}In(e,t){return Tc(e).put(w_(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ii(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Tc(e).Wt({range:o,index:"queryTargetsIndex"},(h,m,E)=>{const A=Wd(m);Ld(t,A.target)&&(l=A,E.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=bu(e);return t.forEach(h=>{const m=li(h.path);o.push(l.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,h))}),me.waitFor(o)}removeMatchingKeys(e,t,r){const o=bu(e);return me.forEach(t,l=>{const h=li(l.path);return me.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=bu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=bu(e);let l=Un();return o.Wt({range:r,jt:!0},(h,m,E)=>{const A=Jo(h[1]),N=new Ye(A);l=l.add(N)}).next(()=>l)}containsKey(e,t){const r=li(t.path),o=IDBKeyRange.bound([r],[r0(r)],!1,!0);let l=0;return bu(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([h,m],E,A)=>{0!==h&&(l++,A.done())}).next(()=>l>0)}Et(e,t){return Tc(e).get(t).next(r=>r?Wd(r):null)}}function Tc(n){return ci(n,"targets")}function S_(n){return ci(n,"targetGlobal")}function bu(n){return ci(n,"targetDocuments")}function Ac(n){return x_.apply(this,arguments)}function x_(){return x_=(0,De.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==kg)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),x_.apply(this,arguments)}function tb([n,e],[t,r]){const o=nn(n,t);return 0===o?nn(e,r):o}class $I{constructor(e){this.En=e,this.buffer=new sr(tb),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();tb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HI{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Ge("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,De.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){dl(o)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ac(o)}yield t.vn(e)}))}}class GI{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return me.resolve(go.A);const r=new $I(t);return this.Sn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Sn.Cn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(T_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,o,l,h,m,E,A;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(F=>(F>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${F}`),o=this.params.maximumSequenceNumbersToCollect):o=F,h=Date.now(),this.nthSequenceNumber(e,o))).next(F=>(r=F,m=Date.now(),this.removeTargets(e,r,t))).next(F=>(l=F,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(F=>(A=Date.now(),Ry()<=nu.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(E-m)+`ms\n\tRemoved ${F} documents in `+(A-E)+`ms\nTotal Duration: ${A-N}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:F})))}}class qI{constructor(e,t){this.db=e,this.garbageCollector=new GI(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,o)=>t(o))}addReference(e,t,r){return ml(e,r)}removeReference(e,t,r){return ml(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ml(e,t)}Mn(e,t){return function(r,o){let l=!1;return Jd(r).zt(h=>X0(r,h,o).next(m=>(m&&(l=!0),me.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.kn(e,(h,m)=>{if(m<=t){const E=this.Mn(e,h).next(A=>{if(!A)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h,Nt.min()),bu(e).delete([0,li(h.path)])))});o.push(E)}}).next(()=>me.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ml(e,t)}kn(e,t){const r=bu(e);let o,l=go.A;return r.Wt({index:"documentTargetsIndex"},([h,m],{path:E,sequenceNumber:A})=>{0===h?(l!==go.A&&t(new Ye(Jo(o)),l),l=A,o=E):l=go.A}).next(()=>{l!==go.A&&t(new Ye(Jo(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ml(n,e){return bu(n).put((r=n.currentSequenceNumber,{targetId:0,path:li(e.path),sequenceNumber:r}));var r}class nb{constructor(){this.changes=new Qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ir.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class M_{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Eu(e).put(r)}removeEntry(e,t,r){return Eu(e).delete(function(o,l){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Lg(l),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=ir.newInvalidDocument(t);return Eu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cu(t))},(o,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:ir.newInvalidDocument(t)};return Eu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cu(t))},(o,l)=>{r={document:this.Fn(t,l),size:Bg(l)}}).next(()=>r)}getEntries(e,t){let r=Ns();return this.Bn(e,t,(o,l)=>{const h=this.Fn(o,l);r=r.insert(o,h)}).next(()=>r)}Ln(e,t){let r=Ns(),o=new Jt(Ye.comparator);return this.Bn(e,t,(l,h)=>{const m=this.Fn(l,h);r=r.insert(l,m),o=o.insert(l,Bg(h))}).next(()=>({documents:r,Un:o}))}Bn(e,t,r){if(t.isEmpty())return me.resolve();let o=new sr(sb);t.forEach(E=>o=o.add(E));const l=IDBKeyRange.bound(Cu(o.first()),Cu(o.last())),h=o.getIterator();let m=h.getNext();return Eu(e).Wt({index:"documentKeyIndex",range:l},(E,A,N)=>{const F=Ye.fromSegments([...A.prefixPath,A.collectionGroup,A.documentId]);for(;m&&sb(m,F)<0;)r(m,null),m=h.getNext();m&&m.isEqual(F)&&(r(m,A),m=h.hasNext()?h.getNext():null),m?N.Ut(Cu(m)):N.done()}).next(()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Lg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Eu(e).qt(IDBKeyRange.bound(o,l,!0)).next(h=>{let m=Ns();for(const E of h){const A=this.Fn(Ye.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);m=m.insert(A.key,A)}return m})}getAllFromCollectionGroup(e,t,r,o){let l=Ns();const h=ib(t,r),m=ib(t,oi.max());return Eu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,m,!0)},(E,A,N)=>{const F=this.Fn(Ye.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);l=l.insert(F.key,F),l.size===o&&N.done()}).next(()=>l)}newChangeBuffer(e){return new Ta(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return rb(e).get("remoteDocumentGlobalKey").next(t=>(Gt(!!t),t))}On(e,t){return rb(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function QT(n,e){let t;if(e.document)t=d_(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ye.fromSegments(e.noDocument.path),o=Ic(e.noDocument.readTime);t=ir.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const r=Ye.fromSegments(e.unknownDocument.path),o=Ic(e.unknownDocument.version);t=ir.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new _r(r[0],r[1]);return Nt.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return ir.newInvalidDocument(e)}}class Ta extends nb{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Qo(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new sr((l,h)=>nn(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,m.readTime)),h.isValidDocument()){const E=v_(this.qn.M,h);o=o.add(l.path.popLast()),r+=Bg(E)-m.size,t.push(this.qn.addEntry(e,l,E))}else if(r-=m.size,this.trackRemovals){const E=v_(this.qn.M,h.convertToNoDocument(Nt.min()));t.push(this.qn.addEntry(e,l,E))}}),o.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),me.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:o})=>(o.forEach((l,h)=>{this.Gn.set(l,{size:h,readTime:r.get(l).readTime})}),r))}}function rb(n){return ci(n,"remoteDocumentGlobal")}function Eu(n){return ci(n,"remoteDocumentsV14")}function Cu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ib(n,e){const t=e.documentKey.path.toArray();return[n,Lg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sb(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Ye.comparator(n,e)}class zI{constructor(e){this.M=e}kt(e,t,r,o){const l=new Ng("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",B0,{unique:!0}),m.createObjectStore("documentMutations"),qf(e),function(m){m.createObjectStore("remoteDocuments")}(e));let h=me.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),qf(e)),h=h.next(()=>function(m){const E=m.store("targetGlobal"),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",A)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,E){return E.store("mutations").qt().next(A=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",B0,{unique:!0});const N=E.store("mutations"),F=A.map(X=>N.put(X));return me.waitFor(F)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Kn(l))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&o>=7&&(h=h.next(()=>this.jn(l))),r<8&&o>=8&&(h=h.next(()=>this.Wn(e,l))),r<9&&o>=9&&(h=h.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.zn(l))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:PI});E.createIndex("collectionPathOverlayIndex",RI,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",G0,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:j0});E.createIndex("documentKeyIndex",II),E.createIndex("collectionGroupIndex",DI)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:MI}).createIndex("sequenceNumberIndex",OI,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:$0}).createIndex("documentKeyIndex",H0,{unique:!1})}(e)})),h}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=Bg(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>me.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",h).next(m=>me.forEach(m,E=>{Gt(E.userId===l.userId);const A=zd(this.M,E);return J0(e,l.userId,A).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.Wt((h,m)=>{const E=new wn(h),A=[0,li(E)];l.push(t.get(A).next(N=>N?me.resolve():t.put({targetId:0,path:li(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>me.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:xI});const r=t.store("collectionParents"),o=new Q0,l=h=>{if(o.add(h)){const m=h.lastSegment(),E=h.popLast();return r.put({collectionId:m,parent:li(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(h,m)=>{const E=new wn(h);return l(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([h,m,E],A)=>{const N=Jo(m);return l(N.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,o)=>{const l=Wd(o),h=w_(this.M,l);return t.put(h)})}Hn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((l,h)=>{const m=t.store("remoteDocumentsV14"),E=(A=h,A.document?new Ye(wn.fromString(A.document.name).popFirst(5)):A.noDocument?Ye.fromSegments(A.noDocument.path):A.unknownDocument?Ye.fromSegments(A.unknownDocument.path):pt()).path.toArray();var A;const N={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(m.put(N))}).next(()=>me.waitFor(o))}}function qf(n){n.createObjectStore("targetDocuments",{keyPath:AI}).createIndex("documentTargetsIndex",SI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",TI,{unique:!0}),n.createObjectStore("targetGlobal")}const Xd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class O_{constructor(e,t,r,o,l,h,m,E,A,N,F=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=h,this.document=m,this.Yn=A,this.Xn=N,this.Zn=F,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=X=>Promise.resolve(),!O_.vt())throw new Ne(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qI(this,o),this.cs=t+"main",this.M=new Z0(E),this.hs=new Xo(this.cs,this.Zn,new zI(this.M)),this.ls=new eb(this.referenceDelegate,this.M),this.fs=new M_(this.M),this.ds=new LI,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===N&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(pe.FAILED_PRECONDITION,Xd);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new go(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,De.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,De.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,De.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Wf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(dl(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return zf(e).get("owner").next(t=>me.resolve(this.bs(t)))}Ps(e){return Wf(e).delete(this.clientId)}Vs(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=ci(r,"clientMetadata");return o.qt().next(l=>{const h=e.Ss(l,18e5),m=l.filter(E=>-1===h.indexOf(E));return me.forEach(m,E=>o.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?me.resolve(!0):zf(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ne(pe.FAILED_PRECONDITION,Xd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Wf(e).qt().next(r=>void 0===this.Ss(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,De.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new FI(t,go.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>Wf(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return A_.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new XT(e)}getDocumentOverlayCache(e){return C_.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Ge("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=14===(h=this.Zn)?g_:13===h?z0:12===h?kI:11===h?q0:void pt();var h;let m;return this.hs.runTransaction(e,o,l,E=>(m=new FI(E,this.ts?this.ts.next():go.A),"readwrite-primary"===t?this.Ts(m).next(A=>!!A||this.Es(m)).next(A=>{if(!A)throw Pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ne(pe.FAILED_PRECONDITION,kg);return r(m)}).next(A=>this.Rs(m).next(()=>A)):this.Fs(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}Fs(e){return zf(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(pe.FAILED_PRECONDITION,Xd)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zf(e).put("owner",t)}static vt(){return Xo.vt()}As(e){const t=zf(e);return t.get("owner").next(r=>this.bs(r)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):me.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(Pr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,an.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Pr("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zf(n){return ci(n,"owner")}function Wf(n){return ci(n,"clientMetadata")}function jg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class P_{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}Us(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Ye.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Qs(e,t.path):Ag(t)?this.js(e,t,r):this.Ws(e,t,r);var o}Qs(e,t){return this.Bs(e,new Ye(t)).next(r=>{let o=a_();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}js(e,t,r){const o=t.collectionGroup;let l=a_();return this.indexManager.getCollectionParents(e,o).next(h=>me.forEach(h,m=>{const E=(A=t,N=m.child(o),new Yo(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,N;return this.Ws(e,E,r).next(A=>{A.forEach((N,F)=>{l=l.insert(N,F)})})}).next(()=>l))}Ws(e,t,r){let o;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(o=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const h of l)for(const m of h.mutations){const E=m.key;let A=o.get(E);null==A&&(A=ir.newInvalidDocument(E),o=o.insert(E,A)),n_(m,A,h.localWriteTime),A.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((l,h)=>{Jy(t,h)||(o=o.remove(l))}),o))}}class $g{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=o}static Js(e,t){let r=Un(),o=Un();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new $g(e,t.fromCache,r,o)}}class ob{Ys(e){this.Xs=e}Ks(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Nt.min())?this.Zs(e,t):this.Xs.qs(e,o).next(l=>{const h=this.ti(t,l);return(xf(t)||Mf(t))&&this.ei(t.limitType,h,o,r)?this.Zs(e,t):(Ry()<=nu.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qy(t)),this.Xs.Ks(e,t,zy(r,-1)).next(m=>(h.forEach(E=>{m=m.insert(E.key,E)}),m)))});var l}ti(e,t){let r=new sr(f0(e));return t.forEach((o,l)=>{Jy(e,l)&&(r=r.add(l))}),r}ei(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Zs(e,t){return Ry()<=nu.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Qy(t)),this.Xs.Ks(e,t,oi.min())}}class WI{constructor(e,t,r,o){this.persistence=e,this.ni=t,this.M=o,this.si=new Jt(nn),this.ii=new Qo(l=>Ii(l),Ld),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new P_(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function ZI(n,e,t,r){return new WI(n,e,t,r)}function Hg(n,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,De.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.$s.getAllMutationBatches(r).next(l=>(o=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const h=[],m=[];let E=Un();for(const A of o){h.push(A.batchId);for(const N of A.mutations)E=E.add(N.key)}for(const A of l){m.push(A.batchId);for(const N of A.mutations)E=E.add(N.key)}return t.ai.qs(r,E).next(A=>({ci:A,removedBatchIds:h,addedBatchIds:m}))})})}),Zf.apply(this,arguments)}function ab(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(h,m,E,A){const N=E.batch,F=N.keys();let X=me.resolve();return F.forEach(ie=>{X=X.next(()=>A.getEntry(m,ie)).next(Ie=>{const Ze=E.docVersions.get(ie);Gt(null!==Ze),Ie.version.compareTo(Ze)<0&&(N.applyToRemoteDocument(Ie,E),Ie.isValidDocument()&&(Ie.setReadTime(E.commitVersion),A.addEntry(Ie)))})}),X.next(()=>h.$s.removeMutationBatch(m,N))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,o))})}function Gg(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function R_(n,e){const t=tt(n),r=e.snapshotVersion;let o=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.oi.newChangeBuffer({trackRemovals:!0});o=t.si;const m=[];e.targetChanges.forEach((A,N)=>{const F=o.get(N);if(!F)return;m.push(t.ls.removeMatchingKeys(l,A.removedDocuments,N).next(()=>t.ls.addMatchingKeys(l,A.addedDocuments,N)));let X=F.withSequenceNumber(l.currentSequenceNumber);var ie,Ie,Ze;e.targetMismatches.has(N)?X=X.withResumeToken(jr.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):A.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(A.resumeToken,r)),o=o.insert(N,X),Ie=X,Ze=A,(0===(ie=F).resumeToken.approximateByteSize()||Ie.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||Ze.addedDocuments.size+Ze.modifiedDocuments.size+Ze.removedDocuments.size>0)&&m.push(t.ls.updateTargetData(l,X))});let E=Ns();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,A))}),m.push(ub(l,h,e.documentUpdates).next(A=>{E=A})),!r.isEqual(Nt.min())){const A=t.ls.getLastRemoteSnapshotVersion(l).next(N=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(A)}return me.waitFor(m).next(()=>h.apply(l)).next(()=>t.ai.Gs(l,E)).next(()=>E)}).then(l=>(t.si=o,l))}function ub(n,e,t){let r=Un();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Ns();return t.forEach((h,m)=>{const E=o.get(h);m.isNoDocument()&&m.version.isEqual(Nt.min())?(e.removeEntry(h,m.readTime),l=l.insert(h,m)):!E.isValidDocument()||m.version.compareTo(E.version)>0||0===m.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(m),l=l.insert(h,m)):Ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",E.version," Watch version:",m.version)}),l})}function KI(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function eh(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ls.getTargetData(r,e).next(l=>l?(o=l,me.resolve(o)):t.ls.allocateTargetId(r).next(h=>(o=new mo(e,h,0,r.currentSequenceNumber),t.ls.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.si.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function th(n,e,t){return qg.apply(this,arguments)}function qg(){return qg=(0,De.Z)(function*(n,e,t){const r=tt(n),o=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!dl(h))throw h;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.si=r.si.remove(e),r.ii.delete(o.target)}),qg.apply(this,arguments)}function nh(n,e,t){const r=tt(n);let o=Nt.min(),l=Un();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,E,A){const N=tt(m),F=N.ii.get(A);return void 0!==F?me.resolve(N.si.get(F)):N.ls.getTargetData(E,A)}(r,h,ks(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(h,m.targetId).next(E=>{l=E})}).next(()=>r.ni.Ks(h,e,t?o:Nt.min(),t?l:Un())).next(m=>(N_(r,h0(e),m),{documents:m,hi:l})))}function k_(n,e){const t=tt(n),r=tt(t.ls),o=t.si.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function lb(n,e){const t=tt(n),r=t.ri.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.oi.getAllFromCollectionGroup(o,e,zy(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(N_(t,e,o),o))}function N_(n,e,t){let r=Nt.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function F_(){return F_=(0,De.Z)(function*(n,e,t,r){const o=tt(n);let l=Un(),h=Ns();for(const A of t){const N=e.li(A.metadata.name);A.document&&(l=l.add(N));const F=e.fi(A);F.setReadTime(e.di(A.metadata.readTime)),h=h.insert(N,F)}const m=o.oi.newChangeBuffer({trackRemovals:!0}),E=yield eh(o,(A=r,ks(hc(wn.fromString(`__bundle__/docs/${A}`)))));var A;return o.persistence.runTransaction("Apply bundle documents","readwrite",A=>ub(A,m,h).next(N=>(m.apply(A),N)).next(N=>o.ls.removeMatchingKeysForTargetId(A,E.targetId).next(()=>o.ls.addMatchingKeys(A,l,E.targetId)).next(()=>o.ai.Gs(A,N)).next(()=>N)))}),F_.apply(this,arguments)}function db(n,e){return zg.apply(this,arguments)}function zg(){return zg=(0,De.Z)(function*(n,e,t=Un()){const r=yield eh(n,ks($f(e.bundledQuery))),o=tt(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=ui(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.ds.saveNamedQuery(l,e);const m=r.withResumeToken(jr.EMPTY_BYTE_STRING,h);return o.si=o.si.insert(m.targetId,m),o.ls.updateTargetData(l,m).next(()=>o.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.ls.addMatchingKeys(l,t,r.targetId)).next(()=>o.ds.saveNamedQuery(l,e))})}),zg.apply(this,arguments)}class YI{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return me.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:ui(r.createTime)}),me.resolve()}getNamedQuery(e,t){return me.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:$f(r.bundledQuery),readTime:ui(r.readTime)}),me.resolve();var r}}class hb{constructor(){this.overlays=new Jt(Ye.comparator),this.mi=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.Xt(e,t,l)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.mi.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const o=Nf(),l=t.length+1,h=new Ye(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const E=m.getNext().value,A=E.getKey();if(!t.isPrefixOf(A.path))break;A.path.length===l&&E.largestBatchId>r&&o.set(E.getKey(),E)}return me.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Jt((A,N)=>A-N);const h=this.overlays.getIterator();for(;h.hasNext();){const A=h.getNext().value;if(A.getKey().getCollectionGroup()===t&&A.largestBatchId>r){let N=l.get(A.largestBatchId);null===N&&(N=Nf(),l=l.insert(A.largestBatchId,N)),N.set(A.getKey(),A)}}const m=Nf(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((A,N)=>m.set(A,N)),!(m.size()>=o)););return me.resolve(m)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const h=this.mi.get(o.largestBatchId).delete(r.key);this.mi.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new fl(t,r));let l=this.mi.get(t);void 0===l&&(l=Un(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class L_{constructor(){this.gi=new sr(Rn.yi),this.pi=new sr(Rn.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Rn(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Rn(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Ye(new wn([])),r=new Rn(t,e),o=new Rn(t,e+1),l=[];return this.pi.forEachInRange([r,o],h=>{this.Ei(h),l.push(h.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Ye(new wn([])),r=new Rn(t,e),o=new Rn(t,e+1);let l=Un();return this.pi.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Rn(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Rn{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Ye.comparator(e.key,t.key)||nn(e.Vi,t.Vi)}static Ii(e,t){return nn(e.Vi,t.Vi)||Ye.comparator(e.key,t.key)}}class rh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new sr(Rn.yi)}checkEmpty(e){return me.resolve(0===this.$s.length)}addMutationBatch(e,t,r,o){const l=this.vi;this.vi++;const h=new Ec(l,t,r,o);this.$s.push(h);for(const m of o)this.Si=this.Si.add(new Rn(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return me.resolve(h)}lookupMutationBatch(e,t){return me.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ci(t+1),l=o<0?0:o;return me.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return me.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rn(t,0),o=new Rn(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,o],h=>{const m=this.Di(h.Vi);l.push(m)}),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new sr(nn);return t.forEach(o=>{const l=new Rn(o,0),h=new Rn(o,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,h],m=>{r=r.add(m.Vi)})}),me.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Ye.isDocumentKey(l)||(l=l.child(""));const h=new Rn(new Ye(l),0);let m=new sr(nn);return this.Si.forEachWhile(E=>{const A=E.key.path;return!!r.isPrefixOf(A)&&(A.length===o&&(m=m.add(E.Vi)),!0)},h),me.resolve(this.xi(m))}xi(e){const t=[];return e.forEach(r=>{const o=this.Di(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Gt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return me.forEach(t.mutations,o=>{const l=new Rn(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Rn(t,0),o=this.Si.firstAfterOrEqual(r);return me.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return me.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class QI{constructor(e){this.ki=e,this.docs=new Jt(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,h=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():ir.newInvalidDocument(t))}getEntries(e,t){let r=Ns();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():ir.newInvalidDocument(o))}),me.resolve(r)}getAllFromCollection(e,t,r){let o=Ns();const l=new Ye(t.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:E}}=h.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||XC(Wy(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,t,r,o){pt()}Mi(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new JI(this)}getSize(e){return me.resolve(this.size)}}class JI extends nb{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.qn.addEntry(e,o)):this.qn.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class eA{constructor(e){this.persistence=e,this.Oi=new Qo(t=>Ii(t),Ld),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new L_,this.targetCount=0,this.Bi=gl.mn()}forEachTarget(e,t){return this.Oi.forEach((r,o)=>t(o)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),me.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new gl(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.In(t),me.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Oi.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Oi.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),me.waitFor(l).next(()=>o)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),me.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.$i.containsKey(t))}}class Kf{constructor(e,t){this.Li={},this.overlays={},this.ts=new go(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new eA(this),this.indexManager=new jI,this.fs=new QI(r=>this.referenceDelegate.Ui(r)),this.M=new Z0(t),this.ds=new YI(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new rh(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const o=new XI(this.ts.next());return this.referenceDelegate.qi(),r(o).next(l=>this.referenceDelegate.Gi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ki(e,t){return me.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class XI extends m_{constructor(e){super(),this.currentSequenceNumber=e}}class Yf{constructor(e){this.persistence=e,this.Qi=new L_,this.ji=null}static Wi(e){return new Yf(e)}get zi(){if(this.ji)return this.ji;throw pt()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),me.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(o=>this.zi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.zi,r=>{const o=Ye.fromPath(r);return this.Hi(e,o).next(l=>{l||t.removeEntry(o,Nt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return me.or([()=>me.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function fb(n,e){return`firestore_clients_${n}_${e}`}function V_(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function U_(n,e){return`firestore_targets_${n}_${e}`}class Wg{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Ne(o.error.code,o.error.message))),h?new Wg(e,t,o.state,l):(Pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sc{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Ne(r.error.code,r.error.message))),l?new Sc(e,r.state,o):(Pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=xg();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=_g(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new Qf(e,l):(Pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Zg{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Zg(t.clientId,t.onlineState):(Pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ih{constructor(){this.activeTargetIds=xg()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jf{constructor(e,t,r,o,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Jt(nn),this.started=!1,this.ir=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=fb(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new ih),this.ar=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const t=yield e.syncEngine.Os();for(const o of t){if(o===e.tr)continue;const l=e.getItem(fb(e.persistenceKey,o));if(l){const h=Qf.Ji(o,l);h&&(e.sr=e.sr.insert(h.clientId,h))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(U_(this.persistenceKey,e));if(r){const o=Sc.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(U_(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,De.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const o=t.Vr(r.key,r.newValue);if(o)return t.vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(l){let h=go.A;if(null!=l)try{const m=JSON.parse(l);Gt("number"==typeof m),h=m}catch(m){Pr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==go.A&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new Wg(this.currentUser,e,t,r),l=V_(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Yi())}pr(e){const t=V_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=U_(this.persistenceKey,e),l=new Sc(e,t,r);this.setItem(o,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Qf.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),o=Number(r[1]);return Wg.Ji(new Ei(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Sc.Ji(o,t)}wr(e){return Zg.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,De.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),l=this.gr(r),h=[],m=[];return l.forEach(E=>{o.has(E)||h.push(E)}),o.forEach(E=>{l.has(E)||m.push(E)}),this.syncEngine.Or(h,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=xg();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class eD{constructor(){this.Fr=new ih,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new ih,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pb{Br(e){}shutdown(){}}class gb{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Kg{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class yb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,l){const h=this.oo(e,t);Ge("RestConnection","Sending: ",h,r);const m={};return this.uo(m,o,l),this.ao(e,h,m,r).then(E=>(Ge("RestConnection","Received: ",E),E),E=>{throw bf("RestConnection",`${e} failed with error: `,E,"url: ",h,"request:",r),E})}co(e,t,r,o,l){return this.ro(e,t,r,o,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ac,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}oo(e,t){return`${this.so}/v1/${t}:${mb[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,o){return new Promise((l,h)=>{const m=new KT;m.listenOnce(zC.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Qw.NO_ERROR:const A=m.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(A)),l(A);break;case Qw.TIMEOUT:Ge("Connection",'RPC "'+e+'" timed out'),h(new Ne(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Qw.HTTP_ERROR:const N=m.getStatus();if(Ge("Connection",'RPC "'+e+'" failed with status:',N,"response text:",m.getResponseText()),N>0){const F=m.getResponseJson().error;if(F&&F.status&&F.message){const X=function(ie){const Ie=ie.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(Ie)>=0?Ie:pe.UNKNOWN}(F.status);h(new Ne(X,F.message))}else h(new Ne(pe.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Ne(pe.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Ge("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);m.send(t,"POST",E,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=GC(),h=qC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new WC({})),this.uo(m.initMessageHeaders,t,r),(0,an.uI)()||(0,an.b$)()||(0,an.d)()||(0,an.w1)()||(0,an.Mn)()||(0,an.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");Ge("Connection","Creating WebChannel: "+E,m);const A=l.createWebChannel(E,m);let N=!1,F=!1;const X=new Kg({jr:Ie=>{F?Ge("Connection","Not sending because WebChannel is closed:",Ie):(N||(Ge("Connection","Opening WebChannel transport."),A.open(),N=!0),Ge("Connection","WebChannel sending:",Ie),A.send(Ie))},Wr:()=>A.close()}),ie=(Ie,Ze,ft)=>{Ie.listen(Ze,Xt=>{try{ft(Xt)}catch(Rt){setTimeout(()=>{throw Rt},0)}})};return ie(A,Py.EventType.OPEN,()=>{F||Ge("Connection","WebChannel transport opened.")}),ie(A,Py.EventType.CLOSE,()=>{F||(F=!0,Ge("Connection","WebChannel transport closed"),X.eo())}),ie(A,Py.EventType.ERROR,Ie=>{F||(F=!0,bf("Connection","WebChannel transport errored:",Ie),X.eo(new Ne(pe.UNAVAILABLE,"The operation could not be completed")))}),ie(A,Py.EventType.MESSAGE,Ie=>{var Ze;if(!F){const ft=Ie.data[0];Gt(!!ft);const Xt=ft,Rt=Xt.error||(null===(Ze=Xt[0])||void 0===Ze?void 0:Ze.error);if(Rt){Ge("Connection","WebChannel received error:",Rt);const bn=Rt.status;let kt=function(gn){const bl=Hr[gn];if(void 0!==bl)return kf(bl)}(bn),un=Rt.message;void 0===kt&&(kt=pe.INTERNAL,un="Unknown error status: "+bn+" with message "+Rt.message),F=!0,X.eo(new Ne(kt,un)),A.close()}else Ge("Connection","WebChannel received:",ft),X.no(ft)}}),ie(h,Oy.STAT_EVENT,Ie=>{Ie.stat===pg.PROXY?Ge("Connection","Detected buffering proxy"):Ie.stat===pg.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{X.Zr()},0),X}}function _b(){return"undefined"!=typeof window?window:null}function sh(){return"undefined"!=typeof document?document:null}function xc(n){return new x0(n,!0)}class vb{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=o,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&Ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class wb{constructor(e,t,r,o,l,h,m,E){this.Jn=e,this.Ao=r,this.Ro=o,this.bo=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new vb(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,De.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,De.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,De.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Ne(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,De.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tD extends wb{constructor(e,t,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function yI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:pt(),o=e.targetChange.targetIds||[],l=function(E,A){return E.N?(Gt(void 0===A||"string"==typeof A),jr.fromBase64String(A||"")):(Gt(void 0===A||A instanceof Uint8Array),jr.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(E){const A=void 0===E.code?pe.UNKNOWN:kf(E.code);return new Ne(A,E.message||"")}(h);t=new D0(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=_u(n,r.document.name),l=ui(r.document.updateTime),h=new Ci({mapValue:{fields:r.document.fields}}),m=ir.newFoundDocument(o,l,h);t=new Lf(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=_u(n,r.document),l=r.readTime?ui(r.readTime):Nt.min(),h=ir.newNoDocument(o,l);t=new Lf([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=_u(n,r.document);t=new Lf([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return pt();{const r=e.filter,l=new hI(r.count||0);t=new u_(r.targetId,l)}}var E;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return Nt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Nt.min():l.readTime?ui(l.readTime):Nt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=cl(this.M),t.addTarget=function(o,l){let h;const m=l.target;return h=Af(m)?{documents:N0(o,m)}:{query:f_(o,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=M0(o,l.resumeToken):l.snapshotVersion.compareTo(Nt.min())>0&&(h.readTime=Gd(o,l.snapshotVersion.toTimestamp())),h}(this.M,e);const r=function vI(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=cl(this.M),t.removeTarget=e,this.Oo(t)}}class bb extends wb{constructor(e,t,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function _I(n,e){return n&&n.length>0?(Gt(void 0!==e),n.map(t=>function(r,o){let l=ui(r.updateTime?r.updateTime:o);return l.isEqual(Nt.min())&&(l=ui(o)),new w0(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.Jo(r,t)}return Gt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=cl(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Bf(this.M,r))};this.Oo(t)}}class Eb extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.Zo=!1}tu(){if(this.Zo)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.ro(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(pe.UNKNOWN,o.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.co(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(pe.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class nD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Pr(t),this.su=!1):Ge("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Cb{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(m=>{r.enqueueAndForget((0,De.Z)(function*(){var E;yl(h)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,De.Z)(function*(A){const N=tt(A);N.lu.add(4),yield ah(N),N._u.set("Unknown"),N.lu.delete(4),yield oh(N)}),function(A){return E.apply(this,arguments)})(h))}))}),this._u=new nD(r,o)}}function oh(n){return B_.apply(this,arguments)}function B_(){return B_=(0,De.Z)(function*(n){if(yl(n))for(const e of n.fu)yield e(!0)}),B_.apply(this,arguments)}function ah(n){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,De.Z)(function*(n){for(const e of n.fu)yield e(!1)}),Yg.apply(this,arguments)}function Qg(n,e){const t=tt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),$_(t)?Xg(t):dh(t).Co()&&Jg(t,e))}function uh(n,e){const t=tt(n),r=dh(t);t.hu.delete(e),r.Co()&&j_(t,e),0===t.hu.size&&(r.Co()?r.ko():yl(t)&&t._u.set("Unknown"))}function Jg(n,e){n.wu.Z(e.targetId),dh(n).Qo(e)}function j_(n,e){n.wu.Z(e),dh(n).jo(e)}function Xg(n){n.wu=new Vf({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),dh(n).start(),n._u.iu()}function $_(n){return yl(n)&&!dh(n).Do()&&n.hu.size>0}function yl(n){return 0===tt(n).lu.size}function rD(n){n.wu=void 0}function Ib(n){return Db.apply(this,arguments)}function Db(){return Db=(0,De.Z)(function*(n){n.hu.forEach((e,t)=>{Jg(n,e)})}),Db.apply(this,arguments)}function tA(n,e){return Tb.apply(this,arguments)}function Tb(){return Tb=(0,De.Z)(function*(n,e){rD(n),$_(n)?(n._u.uu(e),Xg(n)):n._u.set("Unknown")}),Tb.apply(this,arguments)}function nA(n,e,t){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,De.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof D0&&2===e.state&&e.cause)try{yield(r=(0,De.Z)(function*(o,l){const h=l.cause;for(const m of l.targetIds)o.hu.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.hu.delete(m),o.wu.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield H_(n,r)}else if(e instanceof Lf?n.wu.ut(e):e instanceof u_?n.wu._t(e):n.wu.ht(e),!t.isEqual(Nt.min()))try{const r=yield Gg(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.wu.yt(l);return h.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const A=o.hu.get(E);A&&o.hu.set(E,A.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const E=o.hu.get(m);if(!E)return;o.hu.set(m,E.withResumeToken(jr.EMPTY_BYTE_STRING,E.snapshotVersion)),j_(o,m);const A=new mo(E.target,m,1,E.sequenceNumber);Jg(o,A)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),yield H_(n,r)}var r}),Ab.apply(this,arguments)}function H_(n,e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,De.Z)(function*(n,e,t){if(!dl(e))throw e;n.lu.add(1),yield ah(n),n._u.set("Offline"),t||(t=()=>Gg(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield oh(n)}))}),Sb.apply(this,arguments)}function iD(n,e){return e().catch(t=>H_(n,t,e))}function Iu(n){return xb.apply(this,arguments)}function xb(){return xb=(0,De.Z)(function*(n){const e=tt(n),t=Aa(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;G_(e);)try{const o=yield KI(e.localStore,r);if(null===o){0===e.cu.length&&t.ko();break}r=o.batchId,lh(e,o)}catch(o){yield H_(e,o)}q_(e)&&Mb(e)}),xb.apply(this,arguments)}function G_(n){return yl(n)&&n.cu.length<10}function lh(n,e){n.cu.push(e);const t=Aa(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function q_(n){return yl(n)&&!Aa(n).Do()&&n.cu.length>0}function Mb(n){Aa(n).start()}function sD(n){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,De.Z)(function*(n){Aa(n).Xo()}),Xf.apply(this,arguments)}function Ob(n){return em.apply(this,arguments)}function em(){return em=(0,De.Z)(function*(n){const e=Aa(n);for(const t of n.cu)e.Ho(t.mutations)}),em.apply(this,arguments)}function Pb(n,e,t){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,De.Z)(function*(n,e,t){const r=n.cu.shift(),o=__.from(r,e,t);yield iD(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Iu(n)}),Rb.apply(this,arguments)}function kb(n,e){return ch.apply(this,arguments)}function ch(){return ch=(0,De.Z)(function*(n,e){var t;e&&Aa(n).zo&&(yield(t=(0,De.Z)(function*(r,o){if(b0(l=o.code)&&l!==pe.ABORTED){const h=r.cu.shift();Aa(r).No(),yield iD(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Iu(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),q_(n)&&Mb(n)}),ch.apply(this,arguments)}function z_(n,e){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,De.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=yl(t);t.lu.add(3),yield ah(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield oh(t)}),Nb.apply(this,arguments)}function Fb(n,e){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,De.Z)(function*(n,e){const t=tt(n);e?(t.lu.delete(2),yield oh(t)):e||(t.lu.add(2),yield ah(t),t._u.set("Unknown"))}),Lb.apply(this,arguments)}function dh(n){return n.mu||(n.mu=function(e,t,r){const o=tt(e);return o.tu(),new tD(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:Ib.bind(null,n),Jr:tA.bind(null,n),Ko:nA.bind(null,n)}),n.fu.push(function(){var e=(0,De.Z)(function*(t){t?(n.mu.No(),$_(n)?Xg(n):n._u.set("Unknown")):(yield n.mu.stop(),rD(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Aa(n){return n.gu||(n.gu=function(e,t,r){const o=tt(e);return o.tu(),new bb(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:sD.bind(null,n),Jr:kb.bind(null,n),Yo:Ob.bind(null,n),Jo:Pb.bind(null,n)}),n.fu.push(function(){var e=(0,De.Z)(function*(t){t?(n.gu.No(),yield Iu(n)):(yield n.gu.stop(),n.cu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class W_{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,m=new W_(e,t,h,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),dl(n))return new Ne(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class hh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=a_(),this.sortedSet=new Jt(this.comparator)}static emptySet(e){return new hh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new hh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class tm{constructor(){this.yu=new Jt(Ye.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):pt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class fh{constructor(e,t,r,o,l,h,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new fh(e,t,hh.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Fs{constructor(){this.Iu=void 0,this.listeners=[]}}class oD{constructor(){this.queries=new Qo(e=>d0(e),Of),this.onlineState="Unknown",this.Tu=new Set}}function tp(n,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,De.Z)(function*(n,e){const t=tt(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new Fs),o)try{l.Iu=yield t.onListen(r)}catch(h){const m=ep(h,`Initialization of query '${Qy(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&Y_(t)}),Z_.apply(this,arguments)}function K_(n,e){return np.apply(this,arguments)}function np(){return np=(0,De.Z)(function*(n,e){const t=tt(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),np.apply(this,arguments)}function Vb(n,e){const t=tt(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.Au(o)&&(r=!0);h.Iu=o}}r&&Y_(t)}function Ub(n,e,t){const r=tt(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function Y_(n){n.Tu.forEach(e=>{e.next()})}class nm{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new fh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=fh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Bb{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class jb{constructor(e){this.M=e}li(e){return _u(this.M,e)}fi(e){return e.metadata.exists?d_(this.M,e.document,!1):ir.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return ui(e)}}class aD{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rm(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=wn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new jb(this.M);for(const o of e)if(o.metadata.queries){const l=r.li(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||Un()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,De.Z)(function*(){const t=yield function cb(n,e,t,r){return F_.apply(this,arguments)}(e.localStore,new jb(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield db(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function rm(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _o{constructor(e){this.key=e}}class $b{constructor(e){this.key=e}}class uD{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Un(),this.mutatedKeys=Un(),this.Lu=f0(e),this.Uu=new hh(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new tm,o=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const E=xf(this.query)&&o.size===this.query.limit?o.last():null,A=Mf(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((N,F)=>{const X=o.get(N),ie=Jy(this.query,F)?F:null,Ie=!!X&&this.mutatedKeys.has(X.key),Ze=!!ie&&(ie.hasLocalMutations||this.mutatedKeys.has(ie.key)&&ie.hasCommittedMutations);let ft=!1;X&&ie?X.data.isEqual(ie.data)?Ie!==Ze&&(r.track({type:3,doc:ie}),ft=!0):this.Qu(X,ie)||(r.track({type:2,doc:ie}),ft=!0,(E&&this.Lu(ie,E)>0||A&&this.Lu(ie,A)<0)&&(m=!0)):!X&&ie?(r.track({type:0,doc:ie}),ft=!0):X&&!ie&&(r.track({type:1,doc:X}),ft=!0,(E||A)&&(m=!0)),ft&&(ie?(h=h.add(ie),l=Ze?l.add(N):l.delete(N)):(h=h.delete(N),l=l.delete(N)))}),xf(this.query)||Mf(this.query))for(;h.size>this.query.limit;){const N=xf(this.query)?h.last():h.first();h=h.delete(N.key),l=l.delete(N.key),r.track({type:1,doc:N})}return{Uu:h,Ku:r,ei:m,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((A,N)=>function(F,X){const ie=Ie=>{switch(Ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return ie(F)-ie(X)}(A.type,N.type)||this.Lu(A.doc,N.doc)),this.ju(r);const h=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,E=m!==this.$u;return this.$u=m,0!==l.length||E?{snapshot:new fh(this.query,e.Uu,o,l,e.mutatedKeys,0===m,E,!1),zu:h}:{zu:h}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new tm,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Un(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new $b(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new _o(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=Un();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return fh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class lD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Hb{constructor(e){this.key=e,this.Xu=!1}}class cD{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Zu={},this.ta=new Qo(m=>d0(m),Of),this.ea=new Map,this.na=new Set,this.sa=new Jt(Ye.comparator),this.ia=new Map,this.ra=new L_,this.oa={},this.ua=new Map,this.aa=gl.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function dD(n,e){return im.apply(this,arguments)}function im(){return im=(0,De.Z)(function*(n,e){const t=tE(n);let r,o;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.Yu();else{const h=yield eh(t.localStore,ks(e));t.isPrimaryClient&&Qg(t.remoteStore,h);const m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield Q_(t,e,r,"current"===m)}return o}),im.apply(this,arguments)}function Q_(n,e,t,r){return Gb.apply(this,arguments)}function Gb(){return Gb=(0,De.Z)(function*(n,e,t,r){n.ha=(N,F,X)=>{return(ie=(0,De.Z)(function*(Ie,Ze,ft,Xt){let Rt=Ze.view.Gu(ft);Rt.ei&&(Rt=yield nh(Ie.localStore,Ze.query,!1).then(({documents:un})=>Ze.view.Gu(un,Rt)));const bn=Xt&&Xt.targetChanges.get(Ze.targetId),kt=Ze.view.applyChanges(Rt,Ie.isPrimaryClient,bn);return Yb(Ie,Ze.targetId,kt.zu),kt.snapshot}),function(Ie,Ze,ft,Xt){return ie.apply(this,arguments)})(n,N,F,X);var ie};const o=yield nh(n.localStore,e,!0),l=new uD(e,o.hi),h=l.Gu(o.documents),m=$d.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=l.applyChanges(h,n.isPrimaryClient,m);Yb(n,t,E.zu);const A=new lD(e,t,l);return n.ta.set(e,A),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),E.snapshot}),Gb.apply(this,arguments)}function qb(n,e){return sm.apply(this,arguments)}function sm(){return sm=(0,De.Z)(function*(n,e){const t=tt(n),r=t.ta.get(e),o=t.ea.get(r.targetId);if(o.length>1)return t.ea.set(r.targetId,o.filter(l=>!Of(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield th(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),uh(t.remoteStore,r.targetId),ph(t,r.targetId)}).catch(Ac))):(ph(t,r.targetId),yield th(t.localStore,r.targetId,!0))}),sm.apply(this,arguments)}function J_(){return J_=(0,De.Z)(function*(n,e,t){const r=nE(n);try{const o=yield function(l,h){const m=tt(l),E=_r.now(),A=h.reduce((F,X)=>F.add(X.key),Un());let N;return m.persistence.runTransaction("Locally write mutations","readwrite",F=>m.ai.qs(F,A).next(X=>{N=X;const ie=[];for(const Ie of h){const Ze=lI(Ie,N.get(Ie.key));null!=Ze&&ie.push(new jd(Ie.key,Ze,dc(Ze.value.mapValue),Rr.exists(!0)))}return m.$s.addMutationBatch(F,E,ie,h)})).then(F=>(F.applyToLocalDocumentSet(N),{batchId:F.batchId,changes:N}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,m){let E=l.oa[l.currentUser.toKey()];E||(E=new Jt(nn)),E=E.insert(h,m),l.oa[l.currentUser.toKey()]=E}(r,o.batchId,t),yield _l(r,o.changes),yield Iu(r.remoteStore)}catch(o){const l=ep(o,"Failed to persist write");t.reject(l)}}),J_.apply(this,arguments)}function X_(n,e){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,De.Z)(function*(n,e){const t=tt(n);try{const r=yield R_(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.ia.get(l);h&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Xu=!0:o.modifiedDocuments.size>0?Gt(h.Xu):o.removedDocuments.size>0&&(Gt(h.Xu),h.Xu=!1))}),yield _l(t,r,e)}catch(r){yield Ac(r)}}),Mc.apply(this,arguments)}function om(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ta.forEach((l,h)=>{const m=h.view.Eu(e);m.snapshot&&o.push(m.snapshot)}),function(l,h){const m=tt(l);m.onlineState=h;let E=!1;m.queries.forEach((A,N)=>{for(const F of N.listeners)F.Eu(h)&&(E=!0)}),E&&Y_(m)}(r.eventManager,e),o.length&&r.Zu.Ko(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zb(n,e,t){return ev.apply(this,arguments)}function ev(){return ev=(0,De.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ia.get(e),l=o&&o.key;if(l){let h=new Jt(Ye.comparator);h=h.insert(l,ir.newNoDocument(l,Nt.min()));const m=Un().add(l),E=new ll(Nt.min(),new Map,new sr(nn),h,m);yield X_(r,E),r.sa=r.sa.remove(l),r.ia.delete(e),Qb(r)}else yield th(r.localStore,e,!1).then(()=>ph(r,e,t)).catch(Ac)}),ev.apply(this,arguments)}function Wb(n,e){return am.apply(this,arguments)}function am(){return am=(0,De.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const o=yield ab(t.localStore,e);nv(t,r,null),um(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _l(t,o)}catch(o){yield Ac(o)}}),am.apply(this,arguments)}function fD(n,e,t){return tv.apply(this,arguments)}function tv(){return tv=(0,De.Z)(function*(n,e,t){const r=tt(n);try{const o=yield function(l,h){const m=tt(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let A;return m.$s.lookupMutationBatch(E,h).next(N=>(Gt(null!==N),A=N.keys(),m.$s.removeMutationBatch(E,N))).next(()=>m.$s.performConsistencyCheck(E)).next(()=>m.ai.qs(E,A))})}(r.localStore,e);nv(r,e,t),um(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _l(r,o)}catch(o){yield Ac(o)}}),tv.apply(this,arguments)}function Zb(){return Zb=(0,De.Z)(function*(n,e){const t=tt(n);yl(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=tt(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.$s.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.ua.get(r)||[];o.push(e),t.ua.set(r,o)}catch(r){const o=ep(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),Zb.apply(this,arguments)}function um(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function nv(n,e,t){const r=tt(n);let o=r.oa[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.oa[r.currentUser.toKey()]=o}}function ph(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||Kb(n,r)})}function Kb(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(uh(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),Qb(n))}function Yb(n,e,t){for(const r of t)r instanceof _o?(n.ra.addReference(r.key,e),iA(n,r)):r instanceof $b?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||Kb(n,r.key)):pt()}function iA(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Ge("SyncEngine","New document in limbo: "+t),n.na.add(r),Qb(n))}function Qb(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Ye(wn.fromString(e)),r=n.aa.next();n.ia.set(r,new Hb(t)),n.sa=n.sa.insert(t,r),Qg(n.remoteStore,new mo(ks(hc(t.path)),r,2,go.A))}}function _l(n,e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,De.Z)(function*(n,e,t){const r=tt(n),o=[],l=[],h=[];var m;r.ta.isEmpty()||(r.ta.forEach((m,E)=>{h.push(r.ha(E,e,t).then(A=>{if(A){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,A.fromCache?"not-current":"current"),o.push(A);const N=$g.Js(E.targetId,A);l.push(N)}}))}),yield Promise.all(h),r.Zu.Ko(o),yield(m=(0,De.Z)(function*(E,A){const N=tt(E);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",F=>me.forEach(A,X=>me.forEach(X.zs,ie=>N.persistence.referenceDelegate.addReference(F,X.targetId,ie)).next(()=>me.forEach(X.Hs,ie=>N.persistence.referenceDelegate.removeReference(F,X.targetId,ie)))))}catch(F){if(!dl(F))throw F;Ge("LocalStore","Failed to update sequence numbers: "+F)}for(const F of A){const X=F.targetId;if(!F.fromCache){const ie=N.si.get(X),Ze=ie.withLastLimboFreeSnapshotVersion(ie.snapshotVersion);N.si=N.si.insert(X,Ze)}}}),function(E,A){return m.apply(this,arguments)})(r.localStore,l))}),Jb.apply(this,arguments)}function pD(n,e){return gh.apply(this,arguments)}function gh(){return gh=(0,De.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const r=yield Hg(t.localStore,e);t.currentUser=e,(o=t).ua.forEach(h=>{h.forEach(m=>{m.reject(new Ne(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _l(t,r.ci)}var o}),gh.apply(this,arguments)}function gD(n,e){const t=tt(n),r=t.ia.get(e);if(r&&r.Xu)return Un().add(r.key);{let o=Un();const l=t.ea.get(e);if(!l)return o;for(const h of l){const m=t.ta.get(h);o=o.unionWith(m.view.qu)}return o}}function mD(n,e){return lm.apply(this,arguments)}function lm(){return lm=(0,De.Z)(function*(n,e){const t=tt(n),r=yield nh(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&Yb(t,e.targetId,o.zu),o}),lm.apply(this,arguments)}function Oc(n,e){return cm.apply(this,arguments)}function cm(){return cm=(0,De.Z)(function*(n,e){const t=tt(n);return lb(t.localStore,e).then(r=>_l(t,r))}),cm.apply(this,arguments)}function rv(n,e,t,r){return rp.apply(this,arguments)}function rp(){return rp=(0,De.Z)(function*(n,e,t,r){const o=tt(n),l=yield function(h,m){const E=tt(h),A=tt(E.$s);return E.persistence.runTransaction("Lookup mutation documents","readonly",N=>A.ln(N,m).next(F=>F?E.ai.qs(N,F):me.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield Iu(o.remoteStore):"acknowledged"===t||"rejected"===t?(nv(o,e,r||null),um(o,e),m=e,tt(tt(o.localStore).$s).dn(m)):pt(),yield _l(o,l)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),rp.apply(this,arguments)}function ip(){return ip=(0,De.Z)(function*(n,e){const t=tt(n);if(tE(t),nE(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield dm(t,r.toArray());t.ca=!0,yield Fb(t.remoteStore,!0);for(const l of o)Qg(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let o=Promise.resolve();t.ea.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(ph(t,h),th(t.localStore,h,!0))),uh(t.remoteStore,h)}),yield o,yield dm(t,r),function(l){const h=tt(l);h.ia.forEach((m,E)=>{uh(h.remoteStore,E)}),h.ra.bi(),h.ia=new Map,h.sa=new Jt(Ye.comparator)}(t),t.ca=!1,yield Fb(t.remoteStore,!1)}}),ip.apply(this,arguments)}function dm(n,e,t){return hm.apply(this,arguments)}function hm(){return hm=(0,De.Z)(function*(n,e,t){const r=tt(n),o=[],l=[];for(const h of e){let m;const E=r.ea.get(h);if(E&&0!==E.length){m=yield eh(r.localStore,ks(E[0]));for(const A of E){const N=r.ta.get(A),F=yield mD(r,N);F.snapshot&&l.push(F.snapshot)}}else{const A=yield k_(r.localStore,h);m=yield eh(r.localStore,A),yield Q_(r,iv(A),h,!1)}o.push(m)}return r.Zu.Ko(l),o}),hm.apply(this,arguments)}function iv(n){return Sf(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sA(n){const e=tt(n);return tt(tt(e.localStore).persistence).Os()}function oA(n,e,t,r){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,De.Z)(function*(n,e,t,r){const o=tt(n);if(o.ca)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const l=o.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const h=yield lb(o.localStore,h0(l[0])),m=ll.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield _l(o,h,m);break}case"rejected":yield th(o.localStore,e,!0),ph(o,e,r);break;default:pt()}}),Xb.apply(this,arguments)}function aA(n,e,t){return eE.apply(this,arguments)}function eE(){return eE=(0,De.Z)(function*(n,e,t){const r=tE(n);if(r.ca){for(const o of e){if(r.ea.has(o)){Ge("SyncEngine","Adding an already active target "+o);continue}const l=yield k_(r.localStore,o),h=yield eh(r.localStore,l);yield Q_(r,iv(l),h.targetId,!1),Qg(r.remoteStore,h)}for(const o of t)r.ea.has(o)&&(yield th(r.localStore,o,!1).then(()=>{uh(r.remoteStore,o),ph(r,o)}).catch(Ac))}}),eE.apply(this,arguments)}function tE(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=X_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zb.bind(null,e),e.Zu.Ko=Vb.bind(null,e.eventManager),e.Zu.la=Ub.bind(null,e.eventManager),e}function nE(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fD.bind(null,e),e}class iE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.M=xc(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return ZI(this.persistence,new ob,e.initialUser,this.M)}_a(e){return new Kf(Yf.Wi,this.M)}da(e){return new eD}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sE extends iE{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield nE(r.ga.syncEngine),yield Iu(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return ZI(this.persistence,new ob,e.initialUser,this.M)}wa(e){return new HI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=jg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new O_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,_b(),sh(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new eD}}class _D extends sE{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield t().call(r,e);const o=r.ga.syncEngine;r.sharedClientState instanceof Jf&&(r.sharedClientState.syncEngine={kr:rv.bind(null,o),Mr:oA.bind(null,o),Or:aA.bind(null,o),Os:sA.bind(null,o),Nr:Oc.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,De.Z)(function*(h){yield function yD(n,e){return ip.apply(this,arguments)}(r.ga.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}da(e){const t=_b();if(!Jf.vt(t))throw new Ne(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=jg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jf(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class sv{initialize(e,t){var r=this;return(0,De.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>om(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=pD.bind(null,r.syncEngine),yield Fb(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oD}createDatastore(e){const t=xc(e.databaseInfo.databaseId),r=new yb(e.databaseInfo);return new Eb(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>om(this.syncEngine,m,0),h=gb.vt()?new gb:new pb,new Cb(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,m,E,A){const N=new cD(r,o,l,h,m,E);return A&&(N.ca=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const r=tt(t);Ge("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield ah(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ov(n,e=10240){let t=0;return{read:()=>(0,De.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class sp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class oE{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new ii,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,De.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),o=Number(r);isNaN(o)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(o);return new Bb(JSON.parse(l),t.length+o)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,De.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,De.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,De.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class vD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,De.Z)(function*(l,h){const m=tt(l),E=cl(m.M)+"/documents",A={documents:h.map(ie=>Mg(m.M,ie))},N=yield m.co("BatchGetDocuments",E,A),F=new Map;N.forEach(ie=>{const Ie=function Uf(n,e){return"found"in e?function(t,r){Gt(!!r.found);const o=_u(t,r.found.name),l=ui(r.found.updateTime),h=new Ci({mapValue:{fields:r.found.fields}});return ir.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){Gt(!!r.missing),Gt(!!r.readTime);const o=_u(t,r.missing),l=ui(r.readTime);return ir.newNoDocument(o,l)}(n,e):pt()}(m.M,ie);F.set(Ie.key.toString(),Ie)});const X=[];return h.forEach(ie=>{const Ie=F.get(ie.toString());Gt(!!Ie),X.push(Ie)}),X}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mt(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=Ye.fromPath(o);e.mutations.push(new s_(l,e.precondition(l)))}),yield(r=(0,De.Z)(function*(o,l){const h=tt(o),m=cl(h.M)+"/documents",E={writes:l.map(A=>Bf(h.M,A))};yield h.ro("Commit",m,E)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Rr.updateTime(t):Rr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Ne(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rr.updateTime(t)}return Rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wD{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.va=5,this.So=new vb(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,De.Z)(function*(){const t=new vD(e.datastore),r=e.Da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Ca(l)}))}).catch(o=>{e.Ca(o)})}))}Da(e){try{const t=this.updateFunction(e);return!lc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!b0(t)}return!1}}class aE{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ei.UNAUTHENTICATED,this.clientId=Fy.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,De.Z)(function*(m){Ge("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Ge("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=ep(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function op(n,e){return uE.apply(this,arguments)}function uE(){return uE=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,De.Z)(function*(l){r.isEqual(l)||(yield Hg(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),uE.apply(this,arguments)}function av(n,e){return mh.apply(this,arguments)}function mh(){return mh=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield uv(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>z_(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>z_(e.remoteStore,l)),n.onlineComponents=e}),mh.apply(this,arguments)}function uv(n){return lv.apply(this,arguments)}function lv(){return lv=(0,De.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield op(n,new iE)),n.offlineComponents}),lv.apply(this,arguments)}function fm(n){return cv.apply(this,arguments)}function cv(){return cv=(0,De.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield av(n,new sv)),n.onlineComponents}),cv.apply(this,arguments)}function bD(n){return uv(n).then(e=>e.persistence)}function dv(n){return uv(n).then(e=>e.localStore)}function lE(n){return fm(n).then(e=>e.remoteStore)}function hv(n){return fm(n).then(e=>e.syncEngine)}function yh(n){return fv.apply(this,arguments)}function fv(){return fv=(0,De.Z)(function*(n){const e=yield fm(n),t=e.eventManager;return t.onListen=dD.bind(null,e.syncEngine),t.onUnlisten=qb.bind(null,e.syncEngine),t}),fv.apply(this,arguments)}function DD(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(o,l,h,m,E){const A=new sp({next:F=>{l.enqueueAndForget(()=>K_(o,N));const X=F.docs.has(h);!X&&F.fromCache?E.reject(new Ne(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):X&&F.fromCache&&m&&"server"===m.source?E.reject(new Ne(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(F)},error:F=>E.reject(F)}),N=new nm(hc(h.path),A,{includeMetadataChanges:!0,Du:!0});return tp(o,N)}(yield yh(n),n.asyncQueue,e,t,r)})),r.promise}function TD(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(o,l,h,m,E){const A=new sp({next:F=>{l.enqueueAndForget(()=>K_(o,N)),F.fromCache&&"server"===m.source?E.reject(new Ne(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(F)},error:F=>E.reject(F)}),N=new nm(h,A,{includeMetadataChanges:!0,Du:!0});return tp(o,N)}(yield yh(n),n.asyncQueue,e,t,r)})),r.promise}const SD=new Map;function cE(n,e,t){if(!t)throw new Ne(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xD(n,e,t,r){if(!0===e&&!0===r)throw new Ne(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function i(n){if(!Ye.isDocumentKey(n))throw new Ne(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function s(n){if(Ye.isDocumentKey(n))throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function a(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function u(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=a(n);throw new Ne(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function c(n,e){if(e<=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class p{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,xD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p({}),this._settingsFrozen=!1,e instanceof pu?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ne(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(o.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new e0;switch(t.type){case"gapi":const r=t.client;return Gt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new ky(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=SD.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),SD.delete(e),t.terminate())}(this),Promise.resolve()}}class I{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new O(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new I(this.firestore,e,this._key)}}class S{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new S(this.firestore,e,this._query)}}class O extends S{constructor(e,t,r){super(e,t,hc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new I(this.firestore,null,new Ye(e))}withConverter(e){return new O(this.firestore,e,this._path)}}function U(n,e,...t){if(n=(0,an.m9)(n),cE("collection","path",e),n instanceof y){const r=wn.fromString(e,...t);return s(r),new O(n,null,r)}{if(!(n instanceof I||n instanceof O))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wn.fromString(e,...t));return s(r),new O(n.firestore,null,r)}}function re(n,e,...t){if(n=(0,an.m9)(n),1===arguments.length&&(e=Fy.R()),cE("doc","path",e),n instanceof y){const r=wn.fromString(e,...t);return i(r),new I(n,null,new Ye(r))}{if(!(n instanceof I||n instanceof O))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wn.fromString(e,...t));return i(r),new I(n.firestore,n instanceof O?n.converter:null,new Ye(r))}}function Ce(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),(n instanceof I||n instanceof O)&&(e instanceof I||e instanceof O)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function qe(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),n instanceof S&&e instanceof S&&n.firestore===e.firestore&&Of(n._query,e._query)&&n.converter===e.converter}class Je{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new vb(this,"async_queue_retry"),this.Ua=()=>{const t=sh();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=sh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=sh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new ii;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,De.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!dl(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const o=W_.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(o),o}qa(){this.Fa&&pt()}verifyOperationInProgress(){}ja(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function ht(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Oe{constructor(){this._progressObserver={},this._taskCompletionResolver=new ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class It extends y{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Je,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||pm(this),this._firestoreClient.terminate()}}function Ls(n=(0,tu.getApp)()){return(0,tu._getProvider)(n,"firestore").getImmediate()}function Xn(n){return n._firestoreClient||pm(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pm(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new JC(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new aE(n._authCredentials,n._appCheckCredentials,n._queue,r)}function gm(n,e,t){const r=new ii;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield op(n,t),yield av(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===pe.FAILED_PRECONDITION||l.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function hA(n){if(n._initialized||n._terminated)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vl(jr.fromBase64String(e))}catch(t){throw new Ne(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vl(jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ap{constructor(e){this._methodName=e}}class hE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}const kx=/^__.*__$/;class Nx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new jd(e,this.data,this.fieldMask,t,this.fieldTransforms):new _c(e,this.data,t,this.fieldTransforms)}}class fA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new jd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class fE{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new fE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.ec(e),o}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.Ja(),o}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return mE(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(pA(this.Ya)&&kx.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class Fx{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||xc(e)}uc(e,t,r,o=!1){return new fE({Ya:e,methodName:t,oc:r,path:si.emptyPath(),tc:!1,rc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function up(n){const e=n._freezeSettings(),t=xc(n._databaseId);return new Fx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pE(n,e,t,r,o,l={}){const h=n.uc(l.merge||l.mergeFields?2:0,e,t,o);RD("Data must be an object, but it was:",h,r);const m=yA(r,h);let E,A;if(l.merge)E=new sl(h.fieldMask),A=h.fieldTransforms;else if(l.mergeFields){const N=[];for(const F of l.mergeFields){const X=kD(e,F,t);if(!h.contains(X))throw new Ne(pe.INVALID_ARGUMENT,`Field '${X}' is specified in your field mask but missing from your input data.`);vA(N,X)||N.push(X)}E=new sl(N),A=h.fieldTransforms.filter(F=>E.covers(F.field))}else E=null,A=h.fieldTransforms;return new Nx(new Ci(m),E,A)}class wv extends ap{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wv}}function gA(n,e,t){return new fE({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class MD extends ap{_toFieldTransform(e){return new Bd(e.path,new Ud)}isEqual(e){return e instanceof MD}}class Lx extends ap{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=gA(this,e,!0),r=this.ac.map(l=>lp(l,t)),o=new pc(r);return new Bd(e.path,o)}isEqual(e){return this===e}}class Vx extends ap{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=gA(this,e,!0),r=this.ac.map(l=>lp(l,t)),o=new ul(r);return new Bd(e.path,o)}isEqual(e){return this===e}}class Ux extends ap{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new gc(e.M,m0(e.M,this.cc));return new Bd(e.path,t)}isEqual(e){return this===e}}function OD(n,e,t,r){const o=n.uc(1,e,t);RD("Data must be an object, but it was:",o,r);const l=[],h=Ci.empty();Od(r,(E,A)=>{const N=gE(e,E,t);A=(0,an.m9)(A);const F=o.nc(N);if(A instanceof wv)l.push(N);else{const X=lp(A,F);null!=X&&(l.push(N),h.set(N,X))}});const m=new sl(l);return new fA(h,m,o.fieldTransforms)}function PD(n,e,t,r,o,l){const h=n.uc(1,e,t),m=[kD(e,r,t)],E=[o];if(l.length%2!=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let X=0;X<l.length;X+=2)m.push(kD(e,l[X])),E.push(l[X+1]);const A=[],N=Ci.empty();for(let X=m.length-1;X>=0;--X)if(!vA(A,m[X])){const ie=m[X];let Ie=E[X];Ie=(0,an.m9)(Ie);const Ze=h.nc(ie);if(Ie instanceof wv)A.push(ie);else{const ft=lp(Ie,Ze);null!=ft&&(A.push(ie),N.set(ie,ft))}}const F=new sl(A);return new fA(N,F,h.fieldTransforms)}function mA(n,e,t,r=!1){return lp(t,n.uc(r?4:3,e))}function lp(n,e){if(_A(n=(0,an.m9)(n)))return RD("Unsupported field value:",e,n),yA(n,e);if(n instanceof ap)return function(t,r){if(!pA(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let m=lp(h,r.sc(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,an.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return m0(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=_r.fromDate(t);return{timestampValue:Gd(r.M,o)}}if(t instanceof _r){const o=new _r(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Gd(r.M,o)}}if(t instanceof hE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vl)return{bytesValue:M0(r.M,t._byteString)};if(t instanceof I){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:l_(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${a(t)}`)}(n,e)}function yA(n,e){const t={};return s0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Od(n,(r,o)=>{const l=lp(o,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function _A(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _r||n instanceof hE||n instanceof vl||n instanceof I||n instanceof ap)}function RD(n,e,t){if(!_A(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=a(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function kD(n,e,t){if((e=(0,an.m9)(e))instanceof Pc)return e._internalPath;if("string"==typeof e)return gE(n,e);throw mE("Field path arguments must be of type string or ",n,!1,void 0,t)}const Bx=new RegExp("[~\\*/\\[\\]]");function gE(n,e,t){if(e.search(Bx)>=0)throw mE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pc(...e.split("."))._internalPath}catch(r){throw mE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mE(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(l||h)&&(E+=" (found",l&&(E+=` in field ${r}`),h&&(E+=` in document ${o}`),E+=")"),new Ne(pe.INVALID_ARGUMENT,m+n+E)}function vA(n,e){return n.some(t=>t.isEqual(e))}class bv{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new I(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jx extends bv{data(){return super.data()}}function yE(n,e){return"string"==typeof e?gE(n,e):e instanceof Pc?e._internalPath:e._delegate._internalPath}class cp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rc extends bv{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ev(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(yE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ev extends Rc{data(e={}){return super.data(e)}}class _h{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new cp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ev(this._firestore,this._userDataWriter,r.key,r,new cp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Ev(r._firestore,r._userDataWriter,h.doc.key,h.doc,new cp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new Ev(r._firestore,r._userDataWriter,h.doc.key,h.doc,new cp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,A=-1;return 0!==h.type&&(E=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),A=l.indexOf(h.doc.key)),{type:$x(h.type),doc:m,oldIndex:E,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $x(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function wA(n,e){return n instanceof Rc&&e instanceof Rc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof _h&&e instanceof _h&&n._firestore===e._firestore&&qe(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function bA(n){if(Mf(n)&&0===n.explicitOrderBy.length)throw new Ne(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cv{}function vh(n,...e){for(const t of e)n=t._apply(n);return n}class Hx extends Cv{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=up(e.firestore),r=function(o,l,h,m,E,A,N){let F;if(E.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){AA(N,A);const ie=[];for(const Ie of N)ie.push(TA(m,o,Ie));F={arrayValue:{values:ie}}}else F=TA(m,o,N)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||AA(N,A),F=mA(h,"where",N,"in"===A||"not-in"===A);const X=Di.create(E,A,F);return function(ie,Ie){if(Ie.S()){const ft=Tg(ie);if(null!==ft&&!ft.isEqual(Ie.field))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ft.toString()}' and '${Ie.field.toString()}'`);const Xt=Dg(ie);null!==Xt&&SA(0,Ie.field,Xt)}const Ze=function(ft,Xt){for(const Rt of ft.filters)if(Xt.indexOf(Rt.op)>=0)return Rt.op;return null}(ie,function(ft){switch(ft){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ie.op));if(null!==Ze)throw new Ne(pe.INVALID_ARGUMENT,Ze===Ie.op?`Invalid query. You cannot use more than one '${Ie.op.toString()}' filter.`:`Invalid query. You cannot use '${Ie.op.toString()}' filters with '${Ze.toString()}' filters.`)}(o,X),X}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new S(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new Yo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class qx extends Cv{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new yu(o,l);return function(m,E){if(null===Dg(m)){const A=Tg(m);null!==A&&SA(0,A,E.field)}}(r,h),h}(e._query,this.hc,this.dc);return new S(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Yo(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class EA extends Cv{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new S(e.firestore,e.converter,c0(e._query,this._c,this.wc))}}class CA extends Cv{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=DA(e,this.type,this.mc,this.gc);return new S(e.firestore,e.converter,(o=t,new Yo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class IA extends Cv{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=DA(e,this.type,this.mc,this.gc);return new S(e.firestore,e.converter,(o=t,new Yo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function DA(n,e,t,r){if(t[0]=(0,an.m9)(t[0]),t[0]instanceof bv)return function(o,l,h,m,E){if(!m)throw new Ne(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const A=[];for(const N of fc(o))if(N.field.isKeyField())A.push(Nd(l,m.key));else{const F=m.data.field(N.field);if(mg(F))throw new Ne(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===F){const X=N.field.canonicalString();throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${X}' (used as the orderBy) does not exist.`)}A.push(F)}return new mu(A,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=up(n.firestore);return function(l,h,m,E,A,N){const F=l.explicitOrderBy;if(A.length>F.length)throw new Ne(pe.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const X=[];for(let ie=0;ie<A.length;ie++){const Ie=A[ie];if(F[ie].field.isKeyField()){if("string"!=typeof Ie)throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof Ie}`);if(!Ag(l)&&-1!==Ie.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${Ie}' contains a slash.`);const Ze=l.path.child(wn.fromString(Ie));if(!Ye.isDocumentKey(Ze))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Ze}' is not because it contains an odd number of segments.`);const ft=new Ye(Ze);X.push(Nd(h,ft))}else{const Ze=mA(m,E,Ie);X.push(Ze)}}return new mu(X,N)}(n._query,n.firestore._databaseId,o,e,t,r)}}function TA(n,e,t){if("string"==typeof(t=(0,an.m9)(t))){if(""===t)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ag(e)&&-1!==t.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(wn.fromString(t));if(!Ye.isDocumentKey(r))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nd(n,new Ye(r))}if(t instanceof I)return Nd(n,t._key);throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a(t)}.`)}function AA(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function SA(n,e,t){if(!t.isEqual(e))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ND{convertValue(e,t="none"){switch(al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){const r={};return Od(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new hE(Ar(e.latitude),Ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=yg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rd(e));default:return null}}convertTimestamp(e){const t=fu(e);return new _r(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=wn.fromString(e);Gt(Og(r));const o=new pu(r.get(1),r.get(3)),l=new Ye(r.popFirst(5));return o.isEqual(t)||Pr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function _E(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Xx extends ND{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new I(this.firestore,null,t)}}class xA{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=up(e)}set(e,t,r){this._verifyNotCommitted();const o=wh(e,this._firestore),l=_E(o.converter,t,r),h=pE(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Rr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=wh(e,this._firestore);let h;return h="string"==typeof(t=(0,an.m9)(t))||t instanceof Pc?PD(this._dataReader,"WriteBatch.update",l._key,t,r,o):OD(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wh(e,this._firestore);return this._mutations=this._mutations.concat(new Mt(t._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wh(n,e){if((n=(0,an.m9)(n)).firestore!==e)throw new Ne(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dp extends ND{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new I(this.firestore,null,t)}}function MA(n,e,t){n=u(n,I);const r=u(n.firestore,It),o=_E(n.converter,e,t);return mm(r,[pE(up(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Rr.none())])}function OA(n,e,t,...r){n=u(n,I);const o=u(n.firestore,It),l=up(o);let h;return h="string"==typeof(e=(0,an.m9)(e))||e instanceof Pc?PD(l,"updateDoc",n._key,e,t,r):OD(l,"updateDoc",n._key,e),mm(o,[h.toMutation(n._key,Rr.exists(!0))])}function PA(n,...e){var t,r,o;n=(0,an.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||ht(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(ht(e[h])){const F=e[h];e[h]=null===(t=F.next)||void 0===t?void 0:t.bind(F),e[h+1]=null===(r=F.error)||void 0===r?void 0:r.bind(F),e[h+2]=null===(o=F.complete)||void 0===o?void 0:o.bind(F)}let E,A,N;if(n instanceof I)A=u(n.firestore,It),N=hc(n._key.path),E={next:F=>{e[h]&&e[h](FD(A,n,F))},error:e[h+1],complete:e[h+2]};else{const F=u(n,S);A=u(F.firestore,It),N=F._query;const X=new dp(A);E={next:ie=>{e[h]&&e[h](new _h(A,X,F,ie))},error:e[h+1],complete:e[h+2]},bA(n._query)}return function(F,X,ie,Ie){const Ze=new sp(Ie),ft=new nm(X,Ze,ie);return F.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return tp(yield yh(F),ft)})),()=>{Ze.pa(),F.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return K_(yield yh(F),ft)}))}}(Xn(A),N,m,E)}function mm(n,e){return function(t,r){const o=new ii;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function hD(n,e,t){return J_.apply(this,arguments)}(yield hv(t),r,o)})),o.promise}(Xn(n),e)}function FD(n,e,t){const r=t.docs.get(e._key),o=new dp(n);return new Rc(n,o,e._key,r,new cp(t.hasPendingWrites,t.fromCache),e.converter)}class lM extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=up(e)}get(e){const t=wh(e,this._firestore),r=new Xx(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return pt();const l=o[0];if(l.isFoundDocument())return new bv(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new bv(this._firestore,r,t._key,null,t.converter);throw pt()})}set(e,t,r){const o=wh(e,this._firestore),l=_E(o.converter,t,r),h=pE(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=wh(e,this._firestore);let h;return h="string"==typeof(t=(0,an.m9)(t))||t instanceof Pc?PD(this._dataReader,"Transaction.update",l._key,t,r,o):OD(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=wh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wh(e,this._firestore),r=new dp(this._firestore);return super.get(e).then(o=>new Rc(this._firestore,r,t._key,o._document,new cp(!1,!1),t.converter))}}function LD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function kA(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function NA(){if(!function o0(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ac=tu.SDK_VERSION,(0,tu._registerComponent)(new Ht.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new It(o,new t0(t.getProvider("auth-internal")),new Ny(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,tu.registerVersion)(ZC,"3.4.7",n),(0,tu.registerVersion)(ZC,"3.4.7","esm2017")}();class Iv{constructor(e){this._delegate=e}static fromBase64String(e){return NA(),new Iv(vl.fromBase64String(e))}static fromUint8Array(e){return kA(),new Iv(vl.fromUint8Array(e))}toBase64(){return NA(),this._delegate.toBase64()}toUint8Array(){return kA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function VD(n){return function _M(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class vM{enableIndexedDbPersistence(e,t){return function pv(n,e){hA(n=u(n,It));const t=Xn(n),r=n._freezeSettings(),o=new sv;return gm(t,o,new sE(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function gv(n){hA(n=u(n,It));const e=Xn(n),t=n._freezeSettings(),r=new sv;return gm(e,r,new _D(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mv(n){if(n._initialized&&!n._terminated)throw new Ne(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ii;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(t=(0,De.Z)(function*(r){if(!Xo.vt())return Promise.resolve();const o=r+"main";yield Xo.delete(o)}),function(r){return t.apply(this,arguments)})(jg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class FA{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof pu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&bf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function w(n,e,t,r={}){var o;const l=(n=u(n,y))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&bf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=Ei.MOCK_USER;else{h=(0,an.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ne(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ei(E)}n._authCredentials=new KC(new Xw(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function _v(n){return function ED(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield bD(n),t=yield lE(n);return e.setNetworkEnabled(!0),function(r){const o=tt(r);return o.lu.delete(0),oh(o)}(t)}))}(Xn(n=u(n,It)))}(this._delegate)}disableNetwork(){return function vv(n){return function CD(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield bD(n),t=yield lE(n);return e.setNetworkEnabled(!1),(r=(0,De.Z)(function*(o){const l=tt(o);l.lu.add(0),yield ah(l),l._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Xn(n=u(n,It)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,xD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function yv(n){return function(e){const t=new ii;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function rA(n,e){return Zb.apply(this,arguments)}(yield hv(e),t)})),t.promise}(Xn(n=u(n,It)))}(this._delegate)}onSnapshotsInSync(e){return function uM(n,e){return function lA(n,e){const t=new sp(e);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield yh(n),o=t,tt(r).Tu.add(o),void o.next();var r,o})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield yh(n),o=t,void tt(r).Tu.delete(o);var r,o}))}}(Xn(n=u(n,It)),ht(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ym(this,U(this._delegate,e))}catch(t){throw Vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Sa(this,re(this._delegate,e))}catch(t){throw Vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function W(n,e){if(n=u(n,y),cE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new S(n,null,(t=e,new Yo(wn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function cM(n,e){return function cA(n,e){const t=new ii;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const r=yield(o=n,fm(o).then(l=>l.datastore));var o;new wD(n.asyncQueue,r,e,t).run()})),t.promise}(Xn(n=u(n,It)),t=>e(new lM(n,t)))}(this._delegate,t=>e(new LA(this,t)))}batch(){return Xn(this._delegate),new VA(new xA(this._delegate,e=>mm(this._delegate,e)))}loadBundle(e){return function Px(n,e){const t=Xn(n=u(n,It)),r=new Oe;return function AD(n,e,t,r){const o=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,E=function(E,A){if(E instanceof Uint8Array)return ov(E,A);if(E instanceof ArrayBuffer)return ov(new Uint8Array(E),A);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new oE(E,h);var E}(t,xc(e));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function rE(n,e,t){const r=tt(n);var o;(o=(0,De.Z)(function*(l,h,m){try{const E=yield h.getMetadata();if(yield function(X,ie){const Ie=tt(X),Ze=ui(ie.createTime);return Ie.persistence.runTransaction("hasNewerBundle","readonly",ft=>Ie.ds.getBundleMetadata(ft,ie.id)).then(ft=>!!ft&&ft.createTime.compareTo(Ze)>=0)}(l.localStore,E))return yield h.close(),m._completeWith({taskState:"Success",documentsLoaded:(X=E).totalDocuments,bytesLoaded:X.totalBytes,totalDocuments:X.totalDocuments,totalBytes:X.totalBytes}),Promise.resolve(new Set);m._updateProgress(rm(E));const A=new aD(E,l.localStore,h.M);let N=yield h.fa();for(;N;){const X=yield A.Nu(N);X&&m._updateProgress(X),N=yield h.fa()}const F=yield A.complete();return yield _l(l,F.Ou,void 0),yield function(X,ie){const Ie=tt(X);return Ie.persistence.runTransaction("Save bundle","readwrite",Ze=>Ie.ds.saveBundleMetadata(Ze,ie))}(l.localStore,E),m._completeWith(F.progress),Promise.resolve(F.Mu)}catch(E){return bf("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var X}),function(l,h,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield hv(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Rx(n,e){return function dA(n,e){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(t,r){const o=tt(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.ds.getNamedQuery(l,r))}(yield dv(n),e)}))}(Xn(n=u(n,It)),e).then(t=>t?new S(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Us(this,t):null)}}class vE extends ND{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iv(new vl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Sa.forKey(t,this.firestore,null)}}class LA{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vE(e)}get(e){const t=fp(e);return this._delegate.get(t).then(r=>new Dv(this._firestore,new Rc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=fp(e);return r?(LD("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=fp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=fp(e);return this._delegate.delete(t),this}}class VA{constructor(e){this._delegate=e}set(e,t,r){const o=fp(e);return r?(LD("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=fp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=fp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class hp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ev(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Tv(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=hp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new hp(e,new vE(e),t),o.set(t,l)),l}}hp.INSTANCES=new WeakMap;class Sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Sa(t,new I(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new Sa(t,new I(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ym(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ym(this.firestore,U(this._delegate,e))}catch(t){throw Vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,an.m9)(e))instanceof I&&Ce(this._delegate,e)}set(e,t){t=LD("DocumentReference.set",t);try{return t?MA(this._delegate,e,t):MA(this._delegate,e)}catch(r){throw Vs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?OA(this._delegate,e):OA(this._delegate,e,t,...r)}catch(o){throw Vs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function oM(n){return mm(u(n.firestore,It),[new Mt(n._key,Rr.none())])}(this._delegate)}onSnapshot(...e){const t=UA(e),r=BA(e,o=>new Dv(this.firestore,new Rc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return PA(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function tM(n){n=u(n,I);const e=u(n.firestore,It),t=Xn(e),r=new dp(e);return function ID(n,e){const t=new ii;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(o,l,h){try{const m=yield function(E,A){const N=tt(E);return N.persistence.runTransaction("read document","readonly",F=>N.ai.Bs(F,A))}(o,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Ne(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=ep(m,`Failed to get document '${l} from cache`);h.reject(E)}}),function(o,l,h){return r.apply(this,arguments)})(yield dv(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Rc(e,r,n._key,o,new cp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function nM(n){n=u(n,I);const e=u(n.firestore,It);return DD(Xn(e),n._key,{source:"server"}).then(t=>FD(e,n,t))}(this._delegate):function eM(n){n=u(n,I);const e=u(n.firestore,It);return DD(Xn(e),n._key).then(t=>FD(e,n,t))}(this._delegate),t.then(r=>new Dv(this.firestore,new Rc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Sa(this.firestore,this._delegate.withConverter(e?hp.getInstance(this.firestore,e):null))}}function Vs(n,e,t){return n.message=n.message.replace(e,t),n}function UA(n){for(const e of n)if("object"==typeof e&&!VD(e))return e;return{}}function BA(n,e){var t,r;let o;return o=VD(n[0])?n[0]:VD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Dv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wA(this._delegate,e._delegate)}}class Tv extends Dv{data(e){const t=this._delegate.data(e);return function Jw(n,e){n||pt()}(void 0!==t),t}}class Us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vE(e)}where(e,t,r){try{return new Us(this.firestore,vh(this._delegate,function Gx(n,e,t){const r=e,o=yE("where",n);return new Hx(o,r,t)}(e,t,r)))}catch(o){throw Vs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Us(this.firestore,vh(this._delegate,function zx(n,e="asc"){const t=e,r=yE("orderBy",n);return new qx(r,t)}(e,t)))}catch(r){throw Vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,vh(this._delegate,function Wx(n){return c("limit",n),new EA("limit",n,"F")}(e)))}catch(t){throw Vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,vh(this._delegate,function Zx(n){return c("limitToLast",n),new EA("limitToLast",n,"L")}(e)))}catch(t){throw Vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,vh(this._delegate,function Kx(...n){return new CA("startAt",n,!0)}(...e)))}catch(t){throw Vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,vh(this._delegate,function Yx(...n){return new CA("startAfter",n,!1)}(...e)))}catch(t){throw Vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,vh(this._delegate,function Qx(...n){return new IA("endBefore",n,!1)}(...e)))}catch(t){throw Vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,vh(this._delegate,function Jx(...n){return new IA("endAt",n,!0)}(...e)))}catch(t){throw Vs(t,"endAt()","Query.endAt()")}}isEqual(e){return qe(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function iM(n){n=u(n,S);const e=u(n.firestore,It),t=Xn(e),r=new dp(e);return function uA(n,e){const t=new ii;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(o,l,h){try{const m=yield nh(o,l,!0),E=new uD(l,m.hi),A=E.Gu(m.documents),N=E.applyChanges(A,!1);h.resolve(N.snapshot)}catch(m){const E=ep(m,`Failed to execute query '${l} against cache`);h.reject(E)}}),function(o,l,h){return r.apply(this,arguments)})(yield dv(n),e,t);var r})),t.promise}(t,n._query).then(o=>new _h(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function sM(n){n=u(n,S);const e=u(n.firestore,It),t=Xn(e),r=new dp(e);return TD(t,n._query,{source:"server"}).then(o=>new _h(e,r,n,o))}(this._delegate):function rM(n){n=u(n,S);const e=u(n.firestore,It),t=Xn(e),r=new dp(e);return bA(n._query),TD(t,n._query).then(o=>new _h(e,r,n,o))}(this._delegate),t.then(r=>new UD(this.firestore,new _h(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=UA(e),r=BA(e,o=>new UD(this.firestore,new _h(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return PA(this._delegate,t,r)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?hp.getInstance(this.firestore,e):null))}}class bM{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Tv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Tv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bM(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Tv(this._firestore,r))})}isEqual(e){return wA(this._delegate,e._delegate)}}class ym extends Us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Sa(this.firestore,e):null}doc(e){try{return new Sa(this.firestore,void 0===e?re(this._delegate):re(this._delegate,e))}catch(t){throw Vs(t,"doc()","CollectionReference.doc()")}}add(e){return function aM(n,e){const t=u(n.firestore,It),r=re(n),o=_E(n.converter,e);return mm(t,[pE(up(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Sa(this.firestore,t))}isEqual(e){return Ce(this._delegate,e._delegate)}withConverter(e){return new ym(this.firestore,this._delegate.withConverter(e?hp.getInstance(this.firestore,e):null))}}function fp(n){return u(n,I)}class BD{constructor(...e){this._delegate=new Pc(...e)}static documentId(){return new BD(si.keyField().canonicalString())}isEqual(e){return(e=(0,an.m9)(e))instanceof Pc&&this._delegate._internalPath.isEqual(e._internalPath)}}class pp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function hM(){return new MD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new pp(e)}static delete(){const e=function dM(){return new wv("deleteField")}();return e._methodName="FieldValue.delete",new pp(e)}static arrayUnion(...e){const t=function fM(...n){return new Lx("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new pp(t)}static arrayRemove(...e){const t=function pM(...n){return new Vx("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new pp(t)}static increment(e){const t=function gM(n){return new Ux("increment",n)}(e);return t._methodName="FieldValue.increment",new pp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const EM={Firestore:FA,GeoPoint:hE,Timestamp:_r,Blob:Iv,Transaction:LA,WriteBatch:VA,DocumentReference:Sa,DocumentSnapshot:Dv,Query:Us,QueryDocumentSnapshot:Tv,QuerySnapshot:UD,CollectionReference:ym,FieldPath:BD,FieldValue:pp,setLogLevel:function wM(n){!function Md(n){uc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function IM(n){(function CM(n,e){n.INTERNAL.registerComponent(new Ht.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},EM)))})(n,(e,t)=>new FA(e,t,new vM)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(gC.Z);var DM=V(6451),wE=V(5363),TM=V(6063);class AM extends C.x{constructor(e=1/0,t=1/0,r=TM.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;t||(r.push(e),!o&&r.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!e.closed;h+=r?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const h=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=h;E+=2)m=E;m&&r.splice(0,m+1)}}}var SM=V(3099);function jA(n,e,t){var r,o;let l,h=!1;return n&&"object"==typeof n?(l=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=n.windowTime)&&void 0!==o?o:1/0,h=!!n.refCount,t=n.scheduler):l=null!=n?n:1/0,(0,SM.B)({connector:()=>new AM(l,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function $A(n,e){return(0,ya.m)(e)?yr(()=>n,e):yr(()=>n)}var jD=V(9468),gp=V(5867);class _m{constructor(e){return e}}class HA{constructor(){return(0,gp.C6)()}}const $D=new d.OlP("angularfire2._apps"),MM={provide:_m,useFactory:function xM(n){return n&&1===n.length?n[0]:new _m((0,gp.Mq)())},deps:[[new d.FiY,$D]]},OM={provide:HA,deps:[[new d.FiY,$D]]};function PM(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new _m(r)}}let RM=(()=>{class n{constructor(t){(0,gp.KN)("angularfire",Yn.q4.full,"core"),(0,gp.KN)("angularfire",Yn.q4.full,"app"),(0,gp.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[MM,OM]}),n})();function kM(n,...e){return{ngModule:RM,providers:[{provide:$D,useFactory:PM(n),multi:!0,deps:[d.R0b,d.zs3,Yn.HU,...e]}]}}const NM=(0,Yn.u3)(gp.ZF,!0),GA=new Map,FM={activated:!1,tokenObservers:[]},LM={initialized:!1,enabled:!1};function Vi(n){return GA.get(n)||FM}function Du(n,e){GA.set(n,e)}function bE(){return LM}class $M{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,De.Z)(function*(){t.stop();try{t.pending=new an.BH,yield function HM(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new an.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Bs=new an.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zA(n){if(!Vi(n).activated)throw Bs.create("use-before-activation",{appName:n.name})}function qD(n,e){return zD.apply(this,arguments)}function zD(){return zD=(0,De.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const F=yield o.getHeartbeatsHeader();F&&(r["X-Firebase-Client"]=F)}const l={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,l)}catch(F){throw Bs.create("fetch-network-error",{originalErrorMessage:F.message})}if(200!==h.status)throw Bs.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(F){throw Bs.create("fetch-parse-error",{originalErrorMessage:F.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Bs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const A=1e3*Number(E[1]),N=Date.now();return{token:m.attestationToken,expireTimeMillis:N+A,issuedAtTimeMillis:N}}),zD.apply(this,arguments)}function ZM(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Av="firebase-app-check-store";let IE=null;function ZA(){return IE||(IE=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Bs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Av,{keyPath:"compositeKey"})}}catch(t){e(Bs.create("storage-open",{originalErrorMessage:t.message}))}}),IE)}function WD(){return WD=(0,De.Z)(function*(n,e){const r=(yield ZA()).transaction(Av,"readwrite"),l=r.objectStore(Av).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=E=>{h()},r.onerror=E=>{var A;m(Bs.create("storage-set",{originalErrorMessage:null===(A=E.target.error)||void 0===A?void 0:A.message}))}})}),WD.apply(this,arguments)}const Sv=new nu.Yd("@firebase/app-check");function JA(n,e){return(0,an.hl)()?function JM(n,e){return function KA(n,e){return WD.apply(this,arguments)}(function QA(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Sv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function XA(){return bE().enabled}function eS(){return QD.apply(this,arguments)}function QD(){return QD=(0,De.Z)(function*(){const n=bE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),QD.apply(this,arguments)}const i1={error:"UNKNOWN_ERROR"};function s1(n){return an.US.encodeString(JSON.stringify(n),!1)}function DE(n){return JD.apply(this,arguments)}function JD(){return JD=(0,De.Z)(function*(n,e=!1){const t=n.app;zA(t);const r=Vi(t);let l,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&TE(E)&&(o=E)}if(!e&&o&&TE(o))return{token:o.token};let m,h=!1;if(XA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qD(ZM(t,yield eS()),n.heartbeatServiceProvider).then(A=>(r.exchangeTokenPromise=void 0,A)),h=!0);const E=yield r.exchangeTokenPromise;return yield JA(t,E),Du(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),h=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Sv.warn(E.message):Sv.error(E),l=E}return o?(m={token:o.token},Du(t,Object.assign(Object.assign({},r),{token:o})),yield JA(t,o)):m=a1(l),h&&nS(t,m),m}),JD.apply(this,arguments)}function eT(n,e){const t=Vi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Du(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function tS(n){const{app:e}=n,t=Vi(e);let r=t.tokenRefresher;r||(r=function o1(n){const{app:e}=n;return new $M((0,De.Z)(function*(){let r;if(r=Vi(e).token?yield DE(n,!0):yield DE(n),r.error)throw r.error}),()=>!0,()=>{const t=Vi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Du(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function nS(n,e){const t=Vi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function TE(n){return n.expireTimeMillis-Date.now()>0}function a1(n){return{token:s1(i1),error:n}}class u1{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Vi(this.app);for(const t of e)eT(this.app,t.next);return Promise.resolve()}}const cS="app-check-internal";!function E1(){(0,tu._registerComponent)(new Ht.wA("app-check",n=>function l1(n,e){return new u1(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cS).initialize()})),(0,tu._registerComponent)(new Ht.wA(cS,n=>function c1(n){return{getToken:e=>DE(n,e),addTokenListener:e=>function XD(n,e,t,r){const{app:o}=n,l=Vi(o),h={next:t,error:r,type:e};if(Du(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&TE(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),tS(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>tS(n))}(n,"INTERNAL",e),removeTokenListener:e=>eT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tu.registerVersion)("@firebase/app-check","0.5.5")}();class SE{constructor(){return(0,Yn.vb)("app-check")}}"undefined"!=typeof window&&window,V(127);const hS=new d.OlP("angularfire2.auth.use-emulator"),fS=new d.OlP("angularfire2.auth.settings"),pS=new d.OlP("angularfire2.auth.tenant-id"),gS=new d.OlP("angularfire2.auth.langugage-code"),mS=new d.OlP("angularfire2.auth.use-device-language"),yS=new d.OlP("angularfire.auth.persistence"),_S=(n,e,t,r,o,l,h,m)=>(0,co.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,l&&E.useDeviceLanguage(),h)for(const[A,N]of Object.entries(h))E.settings[A]=N;return m&&E.setPersistence(m),E},[t,r,o,l,h,m]);let vS=(()=>{class n{constructor(t,r,o,l,h,m,E,A,N,F,X,ie){const Ie=new C.x,Ze=b(void 0).pipe((0,wE.Q)(h.outsideAngular),yr(()=>l.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,5881)))),(0,Qt.U)(()=>(0,co.on)(t,l,r)),(0,Qt.U)(ft=>_S(ft,l,m,A,N,F,E,X)),jA({bufferSize:1,refCount:!1}));if(ia(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=b(null);else{Ze.pipe(ro()).subscribe();const Xt=Ze.pipe(yr(kt=>kt.getRedirectResult().then(un=>un,()=>null)),Yn.iC,jA({bufferSize:1,refCount:!1})),Rt=Ze.pipe(yr(kt=>new $.y(un=>({unsubscribe:l.runOutsideAngular(()=>kt.onAuthStateChanged(gn=>un.next(gn),gn=>un.error(gn),()=>un.complete()))})))),bn=Ze.pipe(yr(kt=>new $.y(un=>({unsubscribe:l.runOutsideAngular(()=>kt.onIdTokenChanged(gn=>un.next(gn),gn=>un.error(gn),()=>un.complete()))}))));this.authState=Xt.pipe($A(Rt),(0,jD.R)(h.outsideAngular),(0,wE.Q)(h.insideAngular)),this.user=Xt.pipe($A(bn),(0,jD.R)(h.outsideAngular),(0,wE.Q)(h.insideAngular)),this.idToken=this.user.pipe(yr(kt=>kt?(0,jn.D)(kt.getIdToken()):b(null))),this.idTokenResult=this.user.pipe(yr(kt=>kt?(0,jn.D)(kt.getIdTokenResult()):b(null))),this.credential=(0,DM.T)(Xt,Ie,this.authState.pipe(Zi(kt=>!kt))).pipe((0,Qt.U)(kt=>(null==kt?void 0:kt.user)?kt:null),(0,jD.R)(h.outsideAngular),(0,wE.Q)(h.insideAngular))}return(0,co.pX)(this,Ze,l,{spy:{apply:(ft,Xt,Rt)=>{(ft.startsWith("signIn")||ft.startsWith("createUser"))&&Rt.then(bn=>Ie.next(bn))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(co.Dh),d.LFG(co.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Yn.HU),d.LFG(hS,8),d.LFG(fS,8),d.LFG(pS,8),d.LFG(gS,8),d.LFG(mS,8),d.LFG(yS,8),d.LFG(SE,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function wS(n,e){return function S1(n,e=aw.z){return new $.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function sT(n,e){return wS(n,e).pipe((0,Qt.U)(t=>({payload:t,type:"query"})))}function xE(n,e){return sT(n,e).pipe(Wi(void 0),Km(),(0,Qt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const E=o.find(N=>N.doc.ref.isEqual(h.ref)),A=null==t?void 0:t.payload.docs.find(N=>N.ref.isEqual(h.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(h.metadata)||!E&&A&&JSON.stringify(A.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function bS(n,e,t){return xE(n,t).pipe(As((r,o)=>function M1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function O1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return oT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return oT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return oT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function fC(n,e=ki.y){return n=null!=n?n:pC,(0,tn.e)((t,r)=>{let o,l=!0;t.subscribe(new Or.Q(r,h=>{const m=e(h);(l||!n(o,m))&&(l=!1,o=m,r.next(h))}))})}(),(0,Qt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function oT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function ES(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class CS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=xE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Qt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Wi(void 0),Km(),Zi(([r,o])=>o.length>0||!r),(0,Qt.U)(([r,o])=>o),Yn.iC)}auditTrail(e){return this.stateChanges(e).pipe(As((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ES(e);return bS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}valueChanges(e={}){return sT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Yn.iC)}get(e){return(0,jn.D)(this.query.get(e)).pipe(Yn.iC)}add(e){return this.ref.add(e)}doc(e){return new IS(this.ref.doc(e),this.afs)}}class IS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=DS(r,t);return new CS(o,l,this.afs)}snapshotChanges(){return function x1(n,e){return wS(n,e).pipe(Wi(void 0),Km(),(0,Qt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Qt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,jn.D)(this.ref.get(e)).pipe(Yn.iC)}}class P1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?xE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Zi(t=>t.length>0),Yn.iC):xE(this.query,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}auditTrail(e){return this.stateChanges(e).pipe(As((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ES(e);return bS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}valueChanges(e={}){return sT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Yn.iC)}get(e){return(0,jn.D)(this.query.get(e)).pipe(Yn.iC)}}const R1=new d.OlP("angularfire2.enableFirestorePersistence"),k1=new d.OlP("angularfire2.firestore.persistenceSettings"),N1=new d.OlP("angularfire2.firestore.settings"),F1=new d.OlP("angularfire2.firestore.use-emulator");function DS(n,e=(t=>t)){return{query:e(n),ref:n}}let L1=(()=>{class n{constructor(t,r,o,l,h,m,E,A,N,F,X,ie,Ie,Ze,ft,Xt,Rt){this.schedulers=E;const bn=(0,co.on)(t,m,r),kt=N;F&&_S(bn,m,X,Ie,Ze,ft,ie,Xt),[this.firestore,this.persistenceEnabled$]=(0,co.cc)(`${bn.name}.firestore`,"AngularFirestore",bn.name,()=>{const un=m.runOutsideAngular(()=>bn.firestore());if(l&&un.settings(l),kt&&un.useEmulator(...kt),o&&!ia(h)){const gn=()=>{try{return(0,jn.D)(un.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(bl){return"undefined"!=typeof console&&console.warn(bl),b(!1)}};return[un,m.runOutsideAngular(gn)]}return[un,b(!1)]},[l,kt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=DS(o,r),m=this.schedulers.ngZone.run(()=>l);return new CS(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new P1(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new IS(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(co.Dh),d.LFG(co.xv,8),d.LFG(R1,8),d.LFG(N1,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Yn.HU),d.LFG(k1,8),d.LFG(F1,8),d.LFG(vS,8),d.LFG(hS,8),d.LFG(fS,8),d.LFG(pS,8),d.LFG(gS,8),d.LFG(mS,8),d.LFG(yS,8),d.LFG(SE,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),V1=(()=>{class n{constructor(t){this.afs=t,this.ColletionMensaje=t.collection("Mensajes")}guardarMensaje(t,r,o){var l=this;return(0,De.Z)(function*(){yield l.ColletionMensaje.doc().set({Nombre:t,Correo:r,Mensaje:o}).then(()=>{ow().fire({position:"center",icon:"success",title:"Mensaje enviado",showConfirmButton:!1,timer:1500})}).catch(()=>{ow().fire({position:"center",icon:"error",title:"Ocurrio un error al mandar mensaje, vuelve a intentarlo mas tarde",showConfirmButton:!1,timer:1500})})})()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(L1))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),mp=(()=>{class n extends TS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const wl=new d.OlP("NgValueAccessor"),j1={provide:wl,useExisting:(0,d.Gpc)(()=>ME),multi:!0},H1=new d.OlP("CompositionEventMode");let ME=(()=>{class n extends TS{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $1(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(H1,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[d._Bn([j1]),d.qOj]}),n})();function bh(n){return null==n||0===n.length}const ds=new d.OlP("NgValidators"),Eh=new d.OlP("NgAsyncValidators");function xv(n){return null}function LS(n){return null!=n}function VS(n){const e=(0,d.QGY)(n)?(0,jn.D)(n):n;return(0,d.CqO)(e),e}function US(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function BS(n,e){return e.map(t=>t(n))}function jS(n){return n.map(e=>function q1(n){return!n.validate}(e)?e:t=>e.validate(t))}function aT(n){return null!=n?function $S(n){if(!n)return null;const e=n.filter(LS);return 0==e.length?null:function(t){return US(BS(t,e))}}(jS(n)):null}function uT(n){return null!=n?function HS(n){if(!n)return null;const e=n.filter(LS);return 0==e.length?null:function(t){return function U1(...n){const e=(0,$n.jO)(n),{args:t,keys:r}=Hn(n),o=new $.y(l=>{const{length:h}=t;if(!h)return void l.complete();const m=new Array(h);let E=h,A=h;for(let N=0;N<h;N++){let F=!1;(0,is.Xf)(t[N]).subscribe(new Or.Q(l,X=>{F||(F=!0,A--),m[N]=X},()=>E--,void 0,()=>{(!E||!F)&&(A||l.next(r?no(r,m):m),l.complete())}))}});return e?o.pipe(pa(e)):o}(BS(t,e).map(VS)).pipe((0,Qt.U)(US))}}(jS(n)):null}function GS(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function lT(n){return n?Array.isArray(n)?n:[n]:[]}function OE(n,e){return Array.isArray(n)?n.includes(e):n===e}function WS(n,e){const t=lT(e);return lT(n).forEach(o=>{OE(t,o)||t.push(o)}),t}function ZS(n,e){return lT(e).filter(t=>!OE(n,t))}class KS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=aT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ch extends KS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class js extends KS{get formDirective(){return null}get path(){return null}}let QS=(()=>{class n extends class YS{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ch,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})();function Mv(n,e){(function hT(n,e){const t=function qS(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(GS(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function zS(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(GS(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();NE(e._rawValidators,o),NE(e._rawAsyncValidators,o)})(n,e),e.valueAccessor.writeValue(n.value),function eO(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&XS(n,e)})}(n,e),function nO(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function tO(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&XS(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function X1(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function NE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function LE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ov="VALID",VE="INVALID",vm="PENDING",Pv="DISABLED";function mT(n){return(_T(n)?n.validators:n)||null}function nx(n){return Array.isArray(n)?aT(n):n||null}function yT(n,e){return(_T(e)?e.asyncValidators:n)||null}function rx(n){return Array.isArray(n)?uT(n):n||null}function _T(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const vT=n=>n instanceof bT;function sx(n){return(n=>n instanceof ux)(n)?n.value:n.getRawValue()}function ox(n,e){const t=vT(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[e])throw new d.vHH(1001,"")}function ax(n,e){vT(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new d.vHH(1002,"")})}class wT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=nx(this._rawValidators),this._composedAsyncValidatorFn=rx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ov}get invalid(){return this.status===VE}get pending(){return this.status==vm}get disabled(){return this.status===Pv}get enabled(){return this.status!==Pv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=nx(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=rx(e)}addValidators(e){this.setValidators(WS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZS(e,this._rawAsyncValidators))}hasValidator(e){return OE(this._rawValidators,e)}hasAsyncValidator(e){return OE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vm,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pv,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ov,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ov||this.status===vm)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pv:Ov}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vm,this._hasOwnPendingAsyncValidator=!0;const t=VS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function oO(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=vT(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof uO)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Pv:this.errors?VE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vm)?vm:this._anyControlsHaveStatus(VE)?VE:Ov}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_T(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ux extends wT{constructor(e=null,t,r){super(mT(t),yT(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){LE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){LE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class bT extends wT{constructor(e,t,r){super(mT(t),yT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ax(this,e),Object.keys(e).forEach(r=>{ox(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=sx(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class uO extends wT{constructor(e,t,r){super(mT(t),yT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ax(this,e),e.forEach((r,o)=>{ox(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>sx(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const dO={provide:Ch,useExisting:(0,d.Gpc)(()=>CT)},dx=(()=>Promise.resolve(null))();let CT=(()=>{class n extends Ch{constructor(t,r,o,l){super(),this.control=new ux,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function pT(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===ME?t=l:function sO(n){return Object.getPrototypeOf(n.constructor)===mp}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function fT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function RE(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){dx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;dx.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(js,9),d.Y36(ds,10),d.Y36(Eh,10),d.Y36(wl,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([dO]),d.qOj,d.TTD]}),n})(),fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();let kv=(()=>{class n{constructor(){this._validator=xv}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xv,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const MO={provide:ds,useExisting:(0,d.Gpc)(()=>UE),multi:!0};let UE=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function OS(n){return bh(n.value)?{required:!0}:null}(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[d._Bn([MO])]}),n})();const RO={provide:ds,useExisting:(0,d.Gpc)(()=>xT),multi:!0};let xT=(()=>{class n extends kv{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function Ex(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function kS(n){return e=>bh(e.value)||!function SS(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[d._Bn([RO]),d.qOj]}),n})();const NO={provide:ds,useExisting:(0,d.Gpc)(()=>MT),multi:!0};let MT=(()=>{class n{constructor(){this._validator=xv}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=function FS(n){if(!n)return xv;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(bh(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(this.pattern)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("pattern",r.pattern?r.pattern:null)},inputs:{pattern:"pattern"},features:[d._Bn([NO]),d.TTD]}),n})(),FO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[fx]]}),n})(),LO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[FO]}),n})();const OT=function(n,e){return{"is-invalid":n,"is-valid":e}};let VO=(()=>{class n{constructor(t){this.firebase=t,this.nombre="",this.correo="",this.mensaje=""}ngOnInit(){}EnviaMensaje(){var t=this;return(0,De.Z)(function*(){yield t.firebase.guardarMensaje(t.nombre,t.correo,t.mensaje).then(()=>{location.reload()})})()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(V1))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-contacto"]],decls:69,vars:19,consts:[[1,"contenedor"],[1,"texto"],[1,"l1"],[1,"text-color2","l2"],[1,"contacto"],[1,"targetas"],[1,"targeta"],[1,"fa-solid","fa-envelope-circle-check"],[1,"la1"],[1,"la2"],["href","mailto:darkargarcia85@gmail.com",1,"la3","text-color2"],[1,"fa-brands","fa-facebook-messenger"],["href","https://m.me/darkarhackergarciaoficial/",1,"la3","text-color2"],[1,"fa-brands","fa-whatsapp"],["href","https://api.whatsapp.com/send?phone=5548391648",1,"la3","text-color2"],["action","",1,"formulario"],[1,"form-floating","mb-3"],["type","text","id","floatingInput","placeholder","Nombre","name","nombre1","required","","minlength","5",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre1","ngModel"],["for","floatingInput "],[1,"invalid-feedback",3,"hidden"],["type","email","id","floatingInput","placeholder","Correo Electronico","name","correo1","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["correo1","ngModel"],[1,"form-floating"],["placeholder","Mensaje","id","floatingTextarea2","name","mensaje1","required","","minlength","15",1,"form-control",2,"height","100px",3,"ngModel","ngClass","ngModelChange"],["mensaje1","ngModel"],["for","floatingTextarea2"],[1,"button1",3,"disabled","click"]],template:function(t,r){if(1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"label",2),d._uU(3,"Ponerse en contacto"),d.qZA(),d._UZ(4,"br"),d.TgZ(5,"label",3),d._uU(6,"Contactame"),d.qZA(),d.qZA(),d.TgZ(7,"div",4),d.TgZ(8,"div",5),d.TgZ(9,"div",6),d._UZ(10,"i",7),d._UZ(11,"br"),d.TgZ(12,"label",8),d._uU(13,"Email"),d.qZA(),d._UZ(14,"br"),d.TgZ(15,"label",9),d._uU(16,"darkargarcia85@gmail.com"),d.qZA(),d._UZ(17,"br"),d.TgZ(18,"a",10),d._uU(19,"Enviar un mensaje"),d.qZA(),d._UZ(20,"br"),d.qZA(),d.TgZ(21,"div",6),d._UZ(22,"i",11),d._UZ(23,"br"),d.TgZ(24,"label",8),d._uU(25,"Messenger"),d.qZA(),d._UZ(26,"br"),d.TgZ(27,"label",9),d._uU(28,"darkarhackergarciaoficial"),d.qZA(),d._UZ(29,"br"),d.TgZ(30,"a",12),d._uU(31,"Enviar un mensaje"),d.qZA(),d._UZ(32,"br"),d.qZA(),d.TgZ(33,"div",6),d._UZ(34,"i",13),d._UZ(35,"br"),d.TgZ(36,"label",8),d._uU(37,"Whatsapp"),d.qZA(),d._UZ(38,"br"),d.TgZ(39,"label",9),d._uU(40,"5548391648"),d.qZA(),d._UZ(41,"br"),d.TgZ(42,"a",14),d._uU(43,"Enviar un mensaje"),d.qZA(),d._UZ(44,"br"),d.qZA(),d.qZA(),d.TgZ(45,"div",15),d.TgZ(46,"div",16),d.TgZ(47,"input",17,18),d.NdJ("ngModelChange",function(l){return r.nombre=l}),d.qZA(),d.TgZ(49,"label",19),d._uU(50,"Nombre"),d.qZA(),d.TgZ(51,"div",20),d._uU(52," el nombre debe ser mayor a 4 caracteres "),d.qZA(),d.qZA(),d.TgZ(53,"div",16),d.TgZ(54,"input",21,22),d.NdJ("ngModelChange",function(l){return r.correo=l}),d.qZA(),d.TgZ(56,"label",19),d._uU(57,"Email"),d.qZA(),d.TgZ(58,"div",20),d._uU(59," Correo invalido "),d.qZA(),d.qZA(),d.TgZ(60,"div",23),d.TgZ(61,"textarea",24,25),d.NdJ("ngModelChange",function(l){return r.mensaje=l}),d.qZA(),d.TgZ(63,"label",26),d._uU(64,"Mensaje"),d.qZA(),d.TgZ(65,"div",20),d._uU(66," el Mensaje debe ser mayor a 14 caracteres "),d.qZA(),d.qZA(),d.TgZ(67,"button",27),d.NdJ("click",function(){return r.EnviaMensaje()}),d._uU(68,"Enviar"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const o=d.MAs(48),l=d.MAs(55),h=d.MAs(62);d.xp6(47),d.Q6J("ngModel",r.nombre)("ngClass",d.WLB(10,OT,o.errors&&o.touched,!o.errors&&o.touched)),d.xp6(4),d.Q6J("hidden",!o.errors),d.xp6(3),d.Q6J("ngModel",r.correo)("ngClass",d.WLB(13,OT,l.errors&&l.touched,!l.errors&&l.touched)),d.xp6(4),d.Q6J("hidden",!l.errors),d.xp6(3),d.Q6J("ngModel",r.mensaje)("ngClass",d.WLB(16,OT,h.errors&&h.touched,!h.errors&&h.touched)),d.xp6(4),d.Q6J("hidden",!h.errors),d.xp6(2),d.Q6J("disabled",o.errors||l.errors||h.errors)}},directives:[ME,UE,xT,QS,CT,Ai,MT],styles:[".contenedor[_ngcontent-%COMP%]{width:100%}.texto[_ngcontent-%COMP%]{width:100%;text-align:center}.l1[_ngcontent-%COMP%]{font-size:12px}.l2[_ngcontent-%COMP%]{font-size:24px}.contacto[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;gap:20px}.targetas[_ngcontent-%COMP%]{width:30%;display:block}.targeta[_ngcontent-%COMP%]{width:70%;padding:20px;background-color:#27275f;text-align:center;border-radius:15px;transition:all .3s;cursor:pointer;margin:10px auto}.targeta[_ngcontent-%COMP%]:hover{background-color:transparent;border:1px solid #4EB4F7}.targeta[_ngcontent-%COMP%]   .la2[_ngcontent-%COMP%]{color:#999;font-size:12px}.la3[_ngcontent-%COMP%]{text-decoration:none}.formulario[_ngcontent-%COMP%]{margin-top:20px;width:50%;color:#999}.formulario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formulario[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #999;color:#fff;transition:all .3s}.formulario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .formulario[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#4eb4f7}.button1[_ngcontent-%COMP%], .button2[_ngcontent-%COMP%]{margin:10px 5px;text-decoration:none;cursor:pointer;transition:all .3s;padding:10px 15px}.button1[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #4EB4F7;color:#4eb4f7;border-radius:10px}.button1[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}@media screen and (max-width:800px){.contacto[_ngcontent-%COMP%]{width:100%;display:block}.targetas[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.targeta[_ngcontent-%COMP%]{width:30%}.formulario[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}}@media screen and (max-width:562px){.contacto[_ngcontent-%COMP%]{display:block}.targetas[_ngcontent-%COMP%]{display:block;width:100%;margin-right:auto;margin-left:auto}.targeta[_ngcontent-%COMP%]{width:70%}.formulario[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}}"]}),n})(),UO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-footer"]],decls:30,vars:0,consts:[[1,"footer"],[1,"texts"],[1,"nombre"],[1,"lista"],["href","#home"],["href","#sobremi"],["href","#miexperiencia"],["href","#misproyectos"],["href","#contacto"],[1,"redes"],["href","https://www.facebook.com/darkarhackergarciaoficial/"],[1,"fa-brands","fa-facebook"],["href","https://www.instagram.com/leo._.garcia0/"],[1,"fa-brands","fa-instagram"],[1,"label"],["for",""]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1"),d._uU(4,"Leonardo"),d.qZA(),d.qZA(),d.TgZ(5,"div",3),d.TgZ(6,"ul"),d.TgZ(7,"li"),d.TgZ(8,"a",4),d._uU(9,"Home"),d.qZA(),d.qZA(),d.TgZ(10,"li"),d.TgZ(11,"a",5),d._uU(12,"Sobre mi"),d.qZA(),d.qZA(),d.TgZ(13,"li"),d.TgZ(14,"a",6),d._uU(15,"Mi expereincia"),d.qZA(),d.qZA(),d.TgZ(16,"li"),d.TgZ(17,"a",7),d._uU(18,"Mis proyectos"),d.qZA(),d.qZA(),d.TgZ(19,"li"),d.TgZ(20,"a",8),d._uU(21,"Contacto"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"div",9),d.TgZ(23,"a",10),d._UZ(24,"i",11),d.qZA(),d.TgZ(25,"a",12),d._UZ(26,"i",13),d.qZA(),d.qZA(),d.TgZ(27,"div",14),d.TgZ(28,"label",15),d._uU(29,"\xa9 Leonardo - Todos los derechos reservados"),d.qZA(),d.qZA(),d.qZA(),d.qZA())},styles:[".footer[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.texts[_ngcontent-%COMP%]{width:70%}.nombre[_ngcontent-%COMP%]{width:100%;text-align:center}.lista[_ngcontent-%COMP%]{width:100%}.lista[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:center;align-items:center}.lista[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 15px;margin:10px;color:#000;text-decoration:none}.redes[_ngcontent-%COMP%]{width:50%;margin-left:auto;margin-right:auto;display:flex;justify-content:center;align-items:center}.redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:24px;padding:8px 15px;color:#fff;background-color:#000;margin:10px;border-radius:10px;transition:all .3s}.redes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:transparent;color:#000;border:1px solid black}.label[_ngcontent-%COMP%]{width:100%;text-align:center}@media screen and (max-width: 934px){.texts[_ngcontent-%COMP%]{width:90%}}@media screen and (max-width: 727px){.texts[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 654px){.lista[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:center;list-style:none;display:block}.lista[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:10px}}"]}),n})(),BO=(()=>{class n{constructor(){this.title="portafolioWeb"}button1(){var t,r,o,l,h;null===(t=document.getElementById("a1"))||void 0===t||t.classList.add("bg-secundario"),null===(r=document.getElementById("a2"))||void 0===r||r.classList.remove("bg-secundario"),null===(o=document.getElementById("a3"))||void 0===o||o.classList.remove("bg-secundario"),null===(l=document.getElementById("a4"))||void 0===l||l.classList.remove("bg-secundario"),null===(h=document.getElementById("a5"))||void 0===h||h.classList.remove("bg-secundario")}button2(){var t,r,o,l,h;null===(t=document.getElementById("a1"))||void 0===t||t.classList.remove("bg-secundario"),null===(r=document.getElementById("a2"))||void 0===r||r.classList.add("bg-secundario"),null===(o=document.getElementById("a3"))||void 0===o||o.classList.remove("bg-secundario"),null===(l=document.getElementById("a4"))||void 0===l||l.classList.remove("bg-secundario"),null===(h=document.getElementById("a5"))||void 0===h||h.classList.remove("bg-secundario")}button3(){var t,r,o,l,h;null===(t=document.getElementById("a1"))||void 0===t||t.classList.remove("bg-secundario"),null===(r=document.getElementById("a2"))||void 0===r||r.classList.remove("bg-secundario"),null===(o=document.getElementById("a3"))||void 0===o||o.classList.add("bg-secundario"),null===(l=document.getElementById("a4"))||void 0===l||l.classList.remove("bg-secundario"),null===(h=document.getElementById("a5"))||void 0===h||h.classList.remove("bg-secundario")}button4(){var t,r,o,l,h;null===(t=document.getElementById("a1"))||void 0===t||t.classList.remove("bg-secundario"),null===(r=document.getElementById("a2"))||void 0===r||r.classList.remove("bg-secundario"),null===(o=document.getElementById("a3"))||void 0===o||o.classList.remove("bg-secundario"),null===(l=document.getElementById("a4"))||void 0===l||l.classList.add("bg-secundario"),null===(h=document.getElementById("a5"))||void 0===h||h.classList.remove("bg-secundario")}button5(){var t,r,o,l,h;null===(t=document.getElementById("a1"))||void 0===t||t.classList.remove("bg-secundario"),null===(r=document.getElementById("a2"))||void 0===r||r.classList.remove("bg-secundario"),null===(o=document.getElementById("a3"))||void 0===o||o.classList.remove("bg-secundario"),null===(l=document.getElementById("a4"))||void 0===l||l.classList.remove("bg-secundario"),null===(h=document.getElementById("a5"))||void 0===h||h.classList.add("bg-secundario")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:24,vars:0,consts:[[1,"contenedor"],["id","home",1,"bg-primario","text-white"],["id","sobremi",1,"bg-primario","text-white"],["id","miexperiencia",1,"bg-primario","text-white"],["id","misproyectos",1,"bg-primario","text-white"],["id","contacto",1,"bg-primario","text-white"],[1,"animate__animated","animate__fadeInDown"],["href","#home","id","a1",1,"a",3,"click"],[1,"fa-solid","fa-house"],["href","#sobremi","id","a2",1,"a",3,"click"],[1,"fa-solid","fa-user"],["href","#miexperiencia","id","a3",1,"a",3,"click"],[1,"fa-solid","fa-book"],["href","#misproyectos","id","a4",1,"a",3,"click"],[1,"fa-solid","fa-heart-pulse"],["href","#contacto","id","a5",1,"a",3,"click"],[1,"fa-solid","fa-message"],["id","footer","role","contentinfo"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"app-navegador"),d.qZA(),d.TgZ(3,"div",2),d._UZ(4,"app-sobremi"),d.qZA(),d.TgZ(5,"div",3),d._UZ(6,"app-miexperience"),d.qZA(),d.TgZ(7,"div",4),d._UZ(8,"app-proyectos"),d.qZA(),d.TgZ(9,"div",5),d._UZ(10,"app-contacto"),d.qZA(),d.TgZ(11,"nav",6),d.TgZ(12,"a",7),d.NdJ("click",function(){return r.button1()}),d._UZ(13,"i",8),d.qZA(),d.TgZ(14,"a",9),d.NdJ("click",function(){return r.button2()}),d._UZ(15,"i",10),d.qZA(),d.TgZ(16,"a",11),d.NdJ("click",function(){return r.button3()}),d._UZ(17,"i",12),d.qZA(),d.TgZ(18,"a",13),d.NdJ("click",function(){return r.button4()}),d._UZ(19,"i",14),d.qZA(),d.TgZ(20,"a",15),d.NdJ("click",function(){return r.button5()}),d._UZ(21,"i",16),d.qZA(),d.qZA(),d.TgZ(22,"footer",17),d._UZ(23,"app-footer"),d.qZA(),d.qZA())},directives:[cC,nw,UT,hC,VO,UO],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;height:100%}nav[_ngcontent-%COMP%]{width:30%;height:10%;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);position:fixed;bottom:10px;left:20%;right:20%;margin-left:auto;margin-right:auto;box-shadow:2px 2px 5px #000;padding:10px;border-width:2px 4px;border-radius:40px;display:flex;justify-content:center;align-items:center;gap:20px}nav[_ngcontent-%COMP%]   .a[_ngcontent-%COMP%]{transition:all .2s;color:#fff;padding:15px;border-radius:200px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#4eb4f7}#home[_ngcontent-%COMP%]{width:100%;height:100%}#sobremi[_ngcontent-%COMP%], #miexperiencia[_ngcontent-%COMP%], #misproyectos[_ngcontent-%COMP%], #contacto[_ngcontent-%COMP%]{width:100%;height:auto}#footer[_ngcontent-%COMP%]{width:100%;height:70%;background-color:#4198d3}@media screen and (max-width: 912px){nav[_ngcontent-%COMP%]{width:50%;left:0;right:0;bottom:25px}.a[_ngcontent-%COMP%]{font-size:24px}}@media screen and (max-width: 540px){nav[_ngcontent-%COMP%]{width:60%;left:0;right:0;bottom:25px}}@media screen and (max-width: 413px){nav[_ngcontent-%COMP%]{width:90%;left:0;right:0;padding:25px}}@media screen and (max-width:414px){nav[_ngcontent-%COMP%]{width:90%;left:0;right:0;padding:20px}}@media screen and (max-width: 360px){nav[_ngcontent-%COMP%]{width:90%;left:0;right:0;padding:20px}.a[_ngcontent-%COMP%]{font-size:18px}}"]}),n})();V(2165);class Mx{constructor(){return(0,Yn.vb)("auth")}}class kT{constructor(e){return e}}const Ox="firestore",NT=new d.OlP("angularfire2.firestore-instances");function zO(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new kT(r)}}const WO={provide:class GO{constructor(){return(0,Yn.vb)(Ox)}},deps:[[new d.FiY,NT]]},ZO={provide:kT,useFactory:function qO(n,e){const t=(0,Yn.JM)(Ox,n,e);return t&&new kT(t)},deps:[[new d.FiY,NT],_m]};let KO=(()=>{class n{constructor(){(0,gp.KN)("angularfire",Yn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[ZO,WO]}),n})();function YO(n,...e){return{ngModule:KO,providers:[{provide:NT,useFactory:zO(n),multi:!0,deps:[d.R0b,d.zs3,Yn.HU,HA,[new d.FiY,Mx],[new d.FiY,SE],...e]}]}}const QO=(0,Yn.u3)(Ls,!0),FT_firebase={apiKey:"AIzaSyD1LroaOdm_8PeyK8lEvIMjqyOLpGtaJ4Y",authDomain:"leonardo-portafolio.firebaseapp.com",projectId:"leonardo-portafolio",storageBucket:"leonardo-portafolio.appspot.com",messagingSenderId:"171593045922",appId:"1:171593045922:web:1c21f4dffe6f1b2ed284fb",measurementId:"G-11ZC7PVSXN"};let JO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[BO]}),n.\u0275inj=d.cJS({providers:[],imports:[[ka,lC,LO,kM(()=>NM(FT_firebase)),YO(()=>QO()),co.hO.initializeApp(FT_firebase)]]}),n})();(0,d.G48)(),la().bootstrapModule(JO).catch(n=>console.error(n))},5867:(vt,Se,V)=>{"use strict";V.d(Se,{Mq:()=>d.getApp,C6:()=>d.getApps,ZF:()=>d.initializeApp,KN:()=>d.registerVersion});var d=V(9681);(0,d.registerVersion)("firebase","9.6.10","app")},127:(vt,Se,V)=>{"use strict";V.d(Se,{Z:()=>d.Z});var d=V(3942);d.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(vt,Se,V)=>{"use strict";V.r(Se);var d=V(5861),j=V(3942),k=V(2165),oe=V(2090),ce=(V(9681),V(1877),V(4859));function de(){return window}function K(){return(K=(0,d.Z)(function*(L,B,q){var le;const{BuildInfo:Be}=de();(0,k.ap)(B.sessionId,"AuthEvent did not contain a session ID");const We=yield ye(B.sessionId),At={};return(0,k.aq)()?At.ibi=Be.packageName:(0,k.ar)()?At.apn=Be.packageName:(0,k.as)(L,"operation-not-supported-in-this-environment"),Be.displayName&&(At.appDisplayName=Be.displayName),At.sessionId=We,(0,k.at)(L,q,B.type,void 0,null!==(le=B.eventId)&&void 0!==le?le:void 0,At)})).apply(this,arguments)}function Ke(){return(Ke=(0,d.Z)(function*(L){const{BuildInfo:B}=de(),q={};(0,k.aq)()?q.iosBundleId=B.packageName:(0,k.ar)()?q.androidPackageName=B.packageName:(0,k.as)(L,"operation-not-supported-in-this-environment"),yield(0,k.au)(L,q)})).apply(this,arguments)}function je(){return(je=(0,d.Z)(function*(L,B,q){const{cordova:le}=de();let Be=()=>{};try{yield new Promise((We,At)=>{let st=null;function Ut(){var Yt;We();const Fr=null===(Yt=le.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof Fr&&Fr(),"function"==typeof(null==q?void 0:q.close)&&q.close()}function In(){st||(st=window.setTimeout(()=>{At((0,k.av)(L,"redirect-cancelled-by-user"))},2e3))}function zn(){"visible"===(null==document?void 0:document.visibilityState)&&In()}B.addPassiveListener(Ut),document.addEventListener("resume",In,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",zn,!1),Be=()=>{B.removePassiveListener(Ut),document.removeEventListener("resume",In,!1),document.removeEventListener("visibilitychange",zn,!1),st&&window.clearTimeout(st)}})}finally{Be()}})).apply(this,arguments)}function ye(L){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,d.Z)(function*(L){const B=$e(L),q=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(q)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $e(L){if((0,k.ap)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(L);const B=new ArrayBuffer(L.length),q=new Uint8Array(B);for(let le=0;le<L.length;le++)q[le]=L.charCodeAt(le);return q}class rt extends k.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(B)),super.onEvent(B)}initialized(){var B=this;return(0,d.Z)(function*(){yield B.initPromise})()}}function Y(L){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(L){const B=yield he()._get(ue(L));return B&&(yield he()._remove(ue(L))),B})).apply(this,arguments)}function _e(){const L=[],B="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<20;q++){const le=Math.floor(Math.random()*B.length);L.push(B.charAt(le))}return L.join("")}function he(){return(0,k.ax)(k.b)}function ue(L){return(0,k.ay)("authEvent",L.config.apiKey,L.name)}function Ot(L){if(!(null==L?void 0:L.includes("?")))return{};const[B,...q]=L.split("?");return(0,oe.zd)(q.join("?"))}function ut(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.av)("no-auth-event")}}function hr(){var L;return(null===(L=null==self?void 0:self.location)||void 0===L?void 0:L.protocol)||null}function Tn(L=(0,oe.z$)()){return!("file:"!==hr()&&"ionic:"!==hr()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){try{const L=self.localStorage,B=k.aG();if(L)return L.setItem(B,"1"),L.removeItem(B),!function Sr(L=(0,oe.z$)()){return function An(){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function di(L=(0,oe.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,oe.hl)()}catch(L){return ke()&&(0,oe.hl)()}return!1}function ke(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cn(){return(function vr(){return"http:"===hr()||"https:"===hr()}()||(0,oe.ru)()||Tn())&&!function ln(){return(0,oe.b$)()||(0,oe.UG)()}()&&wr()&&!ke()}function sn(){return Tn()&&"undefined"!=typeof document}function Nn(){return(Nn=(0,d.Z)(function*(){return!!sn()&&new Promise(L=>{const B=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(B),L(!0)})})})).apply(this,arguments)}const cn={LOCAL:"local",NONE:"none",SESSION:"session"},Bn=k.aw,hi="persistence";function dn(L){return er.apply(this,arguments)}function er(){return(er=(0,d.Z)(function*(L){yield L._initializationPromise;const B=Dt(),q=k.ay(hi,L.config.apiKey,L.name);B&&B.setItem(q,L._getPersistence())})).apply(this,arguments)}function Dt(){var L;try{return(null===(L=function yn(){return"undefined"!=typeof window?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch(B){return null}}const Xe=k.aw;class _t{constructor(){this.browserResolver=k.ax(k.k),this.cordovaResolver=k.ax(class Wn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aA}_initialize(B){var q=this;return(0,d.Z)(function*(){const le=B._key();let Be=q.eventManagers.get(le);return Be||(Be=new rt(B),q.eventManagers.set(le,Be),q.attachCallbackListeners(B,Be)),Be})()}_openPopup(B){(0,k.as)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,q,le,Be){var We=this;return(0,d.Z)(function*(){!function ve(L){var B,q,le,Be,We,At,st,Ut,In,zn;const Yt=de();(0,k.aw)("function"==typeof(null===(B=null==Yt?void 0:Yt.universalLinks)||void 0===B?void 0:B.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aw)(void 0!==(null===(q=null==Yt?void 0:Yt.BuildInfo)||void 0===q?void 0:q.packageName),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aw)("function"==typeof(null===(We=null===(Be=null===(le=null==Yt?void 0:Yt.cordova)||void 0===le?void 0:le.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===We?void 0:We.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(Ut=null===(st=null===(At=null==Yt?void 0:Yt.cordova)||void 0===At?void 0:At.plugins)||void 0===st?void 0:st.browsertab)||void 0===Ut?void 0:Ut.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(zn=null===(In=null==Yt?void 0:Yt.cordova)||void 0===In?void 0:In.InAppBrowser)||void 0===zn?void 0:zn.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const At=yield We._initialize(B);yield At.initialized(),At.resetRedirect(),(0,k.aB)(),yield We._originValidation(B);const st=function Pe(L,B,q=null){return{type:B,eventId:q,urlResponse:null,sessionId:_e(),postBody:null,tenantId:L.tenantId,error:(0,k.av)(L,"no-auth-event")}}(B,le,Be);yield function at(L,B){return he()._set(ue(L),B)}(B,st);const Ut=yield function z(L,B,q){return K.apply(this,arguments)}(B,st,q),In=yield function Re(L){const{cordova:B}=de();return new Promise(q=>{B.plugins.browsertab.isAvailable(le=>{let Be=null;le?B.plugins.browsertab.openUrl(L):Be=B.InAppBrowser.open(L,(0,k.ao)()?"_blank":"_system","location=yes"),q(Be)})})}(Ut);return function Le(L,B,q){return je.apply(this,arguments)}(B,At,In)})()}_isIframeWebStorageSupported(B,q){throw new Error("Method not implemented.")}_originValidation(B){const q=B._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function se(L){return Ke.apply(this,arguments)}(B)),this.originValidationPromises[q]}attachCallbackListeners(B,q){const{universalLinks:le,handleOpenURL:Be,BuildInfo:We}=de(),At=setTimeout((0,d.Z)(function*(){yield Y(B),q.onEvent(ut())}),500),st=function(){var zn=(0,d.Z)(function*(Yt){clearTimeout(At);const Fr=yield Y(B);let qr=null;Fr&&(null==Yt?void 0:Yt.url)&&(qr=function ne(L,B){var q,le;const Be=function fe(L){const B=Ot(L),q=B.link?decodeURIComponent(B.link):void 0,le=Ot(q).link,Be=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return Ot(Be).link||Be||le||q||L}(B);if(Be.includes("/__/auth/callback")){const We=Ot(Be),At=We.firebaseError?function Ve(L){try{return JSON.parse(L)}catch(B){return null}}(decodeURIComponent(We.firebaseError)):null,st=null===(le=null===(q=null==At?void 0:At.code)||void 0===q?void 0:q.split("auth/"))||void 0===le?void 0:le[1],Ut=st?(0,k.av)(st):null;return Ut?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:Ut,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:Be,postBody:null}}return null}(Fr,Yt.url)),q.onEvent(qr||ut())});return function(Fr){return zn.apply(this,arguments)}}();void 0!==le&&"function"==typeof le.subscribe&&le.subscribe(null,st);const Ut=Be,In=`${We.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var zn=(0,d.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(In)&&st({url:Yt}),"function"==typeof Ut)try{Ut(Yt)}catch(Fr){console.error(Fr)}});return function(Yt){return zn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aA}_initialize(B){var q=this;return(0,d.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,q,le,Be){var We=this;return(0,d.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openPopup(B,q,le,Be)})()}_openRedirect(B,q,le,Be){var We=this;return(0,d.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openRedirect(B,q,le,Be)})()}_isIframeWebStorageSupported(B,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,q)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return sn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,d.Z)(function*(){if(B.underlyingResolver)return;const q=yield function lt(){return Nn.apply(this,arguments)}();B.underlyingResolver=q?B.cordovaResolver:B.browserResolver})()}}function Nr(L){return L.unwrap()}function Ct(L){return tr(L)}function tr(L){const{_tokenResponse:B}=L instanceof oe.ZR?L.customData:L;if(!B)return null;if(!(L instanceof oe.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return k.P.credentialFromResult(L);const q=B.providerId;if(!q||q===k.o.PASSWORD)return null;let le;switch(q){case k.o.GOOGLE:le=k.N;break;case k.o.FACEBOOK:le=k.M;break;case k.o.GITHUB:le=k.Q;break;case k.o.TWITTER:le=k.V;break;default:const{oauthIdToken:Be,oauthAccessToken:We,oauthTokenSecret:At,pendingToken:st,nonce:Ut}=B;return We||At||Be||st?st?q.startsWith("saml.")?k.aJ._create(q,st):k.I._fromParams({providerId:q,signInMethod:q,pendingToken:st,idToken:Be,accessToken:We}):new k.T(q).credential({idToken:Be,accessToken:We,rawNonce:Ut}):null}return L instanceof oe.ZR?le.credentialFromError(L):le.credentialFromResult(L)}function hn(L,B){return B.catch(q=>{throw q instanceof oe.ZR&&function Jr(L,B){var q;const le=null===(q=B.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===B.code)B.resolver=new Zt(L,k.am(L,B));else if(le){const Be=tr(B),We=B;Be&&(We.credential=Be,We.tenantId=le.tenantId||void 0,We.email=le.email||void 0,We.phoneNumber=le.phoneNumber||void 0)}}(L,q),q}).then(q=>{const Be=q.user;return{operationType:q.operationType,credential:Ct(q),additionalUserInfo:k.ak(q),user:Te.getOrCreate(Be)}})}function ct(L,B){return qn.apply(this,arguments)}function qn(){return(qn=(0,d.Z)(function*(L,B){const q=yield B;return{verificationId:q.verificationId,confirm:le=>hn(L,q.confirm(le))}})).apply(this,arguments)}class Zt{constructor(B,q){this.resolver=q,this.auth=function qt(L){return L.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return hn(Nr(this.auth),this.resolver.resolveSignIn(B))}}class Te{constructor(B){this._delegate=B,this.multiFactor=k.an(B)}static getOrCreate(B){return Te.USER_MAP.has(B)||Te.USER_MAP.set(B,new Te(B)),Te.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var q=this;return(0,d.Z)(function*(){return hn(q.auth,k.Y(q._delegate,B))})()}linkWithPhoneNumber(B,q){var le=this;return(0,d.Z)(function*(){return ct(le.auth,k.l(le._delegate,B,q))})()}linkWithPopup(B){var q=this;return(0,d.Z)(function*(){return hn(q.auth,k.d(q._delegate,B,_t))})()}linkWithRedirect(B){var q=this;return(0,d.Z)(function*(){return yield dn(k.aC(q.auth)),k.g(q._delegate,B,_t)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var q=this;return(0,d.Z)(function*(){return hn(q.auth,k.Z(q._delegate,B))})()}reauthenticateWithPhoneNumber(B,q){return ct(this.auth,k.r(this._delegate,B,q))}reauthenticateWithPopup(B){return hn(this.auth,k.e(this._delegate,B,_t))}reauthenticateWithRedirect(B){var q=this;return(0,d.Z)(function*(){return yield dn(k.aC(q.auth)),k.h(q._delegate,B,_t)})()}sendEmailVerification(B){return k.aa(this._delegate,B)}unlink(B){var q=this;return(0,d.Z)(function*(){return yield k.aj(q._delegate,B),q})()}updateEmail(B){return k.af(this._delegate,B)}updatePassword(B){return k.ag(this._delegate,B)}updatePhoneNumber(B){return k.u(this._delegate,B)}updateProfile(B){return k.ae(this._delegate,B)}verifyBeforeUpdateEmail(B,q){return k.ab(this._delegate,B,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Te.USER_MAP=new WeakMap;const Ae=k.aw;let it=(()=>{class L{constructor(q,le){if(this.app=q,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=q.options;Ae(Be,"invalid-api-key",{appName:q.name}),Ae(Be,"invalid-api-key",{appName:q.name});const We="undefined"!=typeof window?_t:void 0;this._delegate=le.initialize({options:{persistence:en(Be,q.name),popupRedirectResolver:We}}),this._delegate._updateErrorMap(k.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Te.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,le){k.E(this._delegate,q,le)}applyActionCode(q){return k.a1(this._delegate,q)}checkActionCode(q){return k.a2(this._delegate,q)}confirmPasswordReset(q,le){return k.a0(this._delegate,q,le)}createUserWithEmailAndPassword(q,le){var Be=this;return(0,d.Z)(function*(){return hn(Be._delegate,k.a4(Be._delegate,q,le))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return k.a9(this._delegate,q)}isSignInWithEmailLink(q){return k.a7(this._delegate,q)}getRedirectResult(){var q=this;return(0,d.Z)(function*(){Ae(Cn(),q._delegate,"operation-not-supported-in-this-environment");const le=yield k.j(q._delegate,_t);return le?hn(q._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function rn(L,B){(0,k.aC)(L)._logFramework(B)}(this._delegate,q)}onAuthStateChanged(q,le,Be){const{next:We,error:At,complete:st}=Et(q,le,Be);return this._delegate.onAuthStateChanged(We,At,st)}onIdTokenChanged(q,le,Be){const{next:We,error:At,complete:st}=Et(q,le,Be);return this._delegate.onIdTokenChanged(We,At,st)}sendSignInLinkToEmail(q,le){return k.a6(this._delegate,q,le)}sendPasswordResetEmail(q,le){return k.$(this._delegate,q,le||void 0)}setPersistence(q){var le=this;return(0,d.Z)(function*(){let Be;switch(function wt(L,B){Bn(Object.values(cn).includes(B),L,"invalid-persistence-type"),(0,oe.b$)()?Bn(B!==cn.SESSION,L,"unsupported-persistence-type"):(0,oe.UG)()?Bn(B===cn.NONE,L,"unsupported-persistence-type"):ke()?Bn(B===cn.NONE||B===cn.LOCAL&&(0,oe.hl)(),L,"unsupported-persistence-type"):Bn(B===cn.NONE||wr(),L,"unsupported-persistence-type")}(le._delegate,q),q){case cn.SESSION:Be=k.a;break;case cn.LOCAL:Be=(yield k.ax(k.i)._isAvailable())?k.i:k.b;break;case cn.NONE:Be=k.K;break;default:return k.as("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return hn(this._delegate,k.W(this._delegate))}signInWithCredential(q){return hn(this._delegate,k.X(this._delegate,q))}signInWithCustomToken(q){return hn(this._delegate,k._(this._delegate,q))}signInWithEmailAndPassword(q,le){return hn(this._delegate,k.a5(this._delegate,q,le))}signInWithEmailLink(q,le){return hn(this._delegate,k.a8(this._delegate,q,le))}signInWithPhoneNumber(q,le){return ct(this._delegate,k.s(this._delegate,q,le))}signInWithPopup(q){var le=this;return(0,d.Z)(function*(){return Ae(Cn(),le._delegate,"operation-not-supported-in-this-environment"),hn(le._delegate,k.c(le._delegate,q,_t))})()}signInWithRedirect(q){var le=this;return(0,d.Z)(function*(){return Ae(Cn(),le._delegate,"operation-not-supported-in-this-environment"),yield dn(le._delegate),k.f(le._delegate,q,_t)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return k.a3(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=cn,L})();function Et(L,B,q){let le=L;"function"!=typeof L&&({next:le,error:B,complete:q}=L);const Be=le;return{next:At=>Be(At&&Te.getOrCreate(At)),error:B,complete:q}}function en(L,B){const q=function Gr(L,B){const q=Dt();if(!q)return[];const le=k.ay(hi,L,B);switch(q.getItem(le)){case cn.NONE:return[k.K];case cn.LOCAL:return[k.i,k.a];case cn.SESSION:return[k.a];default:return[]}}(L,B);if("undefined"!=typeof self&&!q.includes(k.i)&&q.push(k.i),"undefined"!=typeof window)for(const le of[k.b,k.a])q.includes(le)||q.push(le);return q.includes(k.K)||q.push(k.K),q}class Lt{constructor(){this.providerId="phone",this._delegate=new k.P(Nr(j.Z.auth()))}static credential(B,q){return k.P.credential(B,q)}verifyPhoneNumber(B,q){return this._delegate.verifyPhoneNumber(B,q)}unwrap(){return this._delegate}}Lt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Lt.PROVIDER_ID=k.P.PROVIDER_ID;const Z=k.aw;class G{constructor(B,q,le=j.Z.app()){var Be;Z(null===(Be=le.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new k.R(B,q,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function we(L){L.INTERNAL.registerComponent(new ce.wA("auth-compat",B=>{const q=B.getProvider("app-compat").getImmediate(),le=B.getProvider("auth");return new it(q,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.L,FacebookAuthProvider:k.M,GithubAuthProvider:k.Q,GoogleAuthProvider:k.N,OAuthProvider:k.T,SAMLAuthProvider:k.U,PhoneAuthProvider:Lt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:G,TwitterAuthProvider:k.V,Auth:it,AuthCredential:k.G,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.2.11")}(j.Z)},8306:(vt,Se,V)=>{"use strict";V.d(Se,{y:()=>z});var d=V(2961),j=V(727),k=V(8822),oe=V(4671);var ce=V(2416),de=V(576),ge=V(2806);let z=(()=>{class Re{constructor(je){je&&(this._subscribe=je)}lift(je){const ve=new Re;return ve.source=this,ve.operator=je,ve}subscribe(je,ve,ye){const Ue=function Ke(Re){return Re&&Re instanceof d.Lv||function se(Re){return Re&&(0,de.m)(Re.next)&&(0,de.m)(Re.error)&&(0,de.m)(Re.complete)}(Re)&&(0,j.Nn)(Re)}(je)?je:new d.Hp(je,ve,ye);return(0,ge.x)(()=>{const{operator:$e,source:He}=this;Ue.add($e?$e.call(Ue,He):He?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(je){try{return this._subscribe(je)}catch(ve){je.error(ve)}}forEach(je,ve){return new(ve=K(ve))((ye,Ue)=>{let $e;$e=this.subscribe(He=>{try{je(He)}catch(rt){Ue(rt),null==$e||$e.unsubscribe()}},Ue,ye)})}_subscribe(je){var ve;return null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(je)}[k.L](){return this}pipe(...je){return function Ee(Re){return 0===Re.length?oe.y:1===Re.length?Re[0]:function(je){return Re.reduce((ve,ye)=>ye(ve),je)}}(je)(this)}toPromise(je){return new(je=K(je))((ve,ye)=>{let Ue;this.subscribe($e=>Ue=$e,$e=>ye($e),()=>ve(Ue))})}}return Re.create=Le=>new Re(Le),Re})();function K(Re){var Le;return null!==(Le=null!=Re?Re:ce.v.Promise)&&void 0!==Le?Le:Promise}},7579:(vt,Se,V)=>{"use strict";V.d(Se,{x:()=>ce});var d=V(8306),j=V(727);const oe=(0,V(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=V(8737),Ee=V(2806);let ce=(()=>{class ge extends d.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const se=new de(this,this);return se.operator=K,se}_throwIfClosed(){if(this.closed)throw new oe}next(K){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const se=this.observers.slice();for(const Ke of se)Ke.next(K)}})}error(K){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:se}=this;for(;se.length;)se.shift().error(K)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:se,isStopped:Ke,observers:Re}=this;return se||Ke?j.Lc:(Re.push(K),new j.w0(()=>(0,ae.P)(Re,K)))}_checkFinalizedStatuses(K){const{hasError:se,thrownError:Ke,isStopped:Re}=this;se?K.error(Ke):Re&&K.complete()}asObservable(){const K=new d.y;return K.source=this,K}}return ge.create=(z,K)=>new de(z,K),ge})();class de extends ce{constructor(z,K){super(),this.destination=z,this.source=K}next(z){var K,se;null===(se=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===se||se.call(K,z)}error(z){var K,se;null===(se=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===se||se.call(K,z)}complete(){var z,K;null===(K=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===K||K.call(z)}_subscribe(z){var K,se;return null!==(se=null===(K=this.source)||void 0===K?void 0:K.subscribe(z))&&void 0!==se?se:j.Lc}}},2961:(vt,Se,V)=>{"use strict";V.d(Se,{Hp:()=>Ke,Lv:()=>se});var d=V(576),j=V(727),k=V(2416),oe=V(7849);function ae(){}const Ee=ge("C",void 0,void 0);function ge(ye,Ue,$e){return{kind:ye,value:Ue,error:$e}}var z=V(3410),K=V(2806);class se extends j.w0{constructor(Ue){super(),this.isStopped=!1,Ue?(this.destination=Ue,(0,j.Nn)(Ue)&&Ue.add(this)):this.destination=ve}static create(Ue,$e,He){return new Ke(Ue,$e,He)}next(Ue){this.isStopped?je(function de(ye){return ge("N",ye,void 0)}(Ue),this):this._next(Ue)}error(Ue){this.isStopped?je(function ce(ye){return ge("E",void 0,ye)}(Ue),this):(this.isStopped=!0,this._error(Ue))}complete(){this.isStopped?je(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ue){this.destination.next(Ue)}_error(Ue){try{this.destination.error(Ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ke extends se{constructor(Ue,$e,He){let rt;if(super(),(0,d.m)(Ue))rt=Ue;else if(Ue){let Pe;({next:rt,error:$e,complete:He}=Ue),this&&k.v.useDeprecatedNextContext?(Pe=Object.create(Ue),Pe.unsubscribe=()=>this.unsubscribe()):Pe=Ue,rt=null==rt?void 0:rt.bind(Pe),$e=null==$e?void 0:$e.bind(Pe),He=null==He?void 0:He.bind(Pe)}this.destination={next:rt?Re(rt):ae,error:Re(null!=$e?$e:Le),complete:He?Re(He):ae}}}function Re(ye,Ue){return(...$e)=>{try{ye(...$e)}catch(He){k.v.useDeprecatedSynchronousErrorHandling?(0,K.O)(He):(0,oe.h)(He)}}}function Le(ye){throw ye}function je(ye,Ue){const{onStoppedNotification:$e}=k.v;$e&&z.z.setTimeout(()=>$e(ye,Ue))}const ve={closed:!0,next:ae,error:Le,complete:ae}},727:(vt,Se,V)=>{"use strict";V.d(Se,{Lc:()=>Ee,w0:()=>ae,Nn:()=>ce});var d=V(576);const k=(0,V(3888).d)(ge=>function(K){ge(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((se,Ke)=>`${Ke+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var oe=V(8737);class ae{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Re of K)Re.remove(this);else K.remove(this);const{initialTeardown:se}=this;if((0,d.m)(se))try{se()}catch(Re){z=Re instanceof k?Re.errors:[Re]}const{_teardowns:Ke}=this;if(Ke){this._teardowns=null;for(const Re of Ke)try{de(Re)}catch(Le){z=null!=z?z:[],Le instanceof k?z=[...z,...Le.errors]:z.push(Le)}}if(z)throw new k(z)}}add(z){var K;if(z&&z!==this)if(this.closed)de(z);else{if(z instanceof ae){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._teardowns=null!==(K=this._teardowns)&&void 0!==K?K:[]).push(z)}}_hasParent(z){const{_parentage:K}=this;return K===z||Array.isArray(K)&&K.includes(z)}_addParent(z){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(z),K):K?[K,z]:z}_removeParent(z){const{_parentage:K}=this;K===z?this._parentage=null:Array.isArray(K)&&(0,oe.P)(K,z)}remove(z){const{_teardowns:K}=this;K&&(0,oe.P)(K,z),z instanceof ae&&z._removeParent(this)}}ae.EMPTY=(()=>{const ge=new ae;return ge.closed=!0,ge})();const Ee=ae.EMPTY;function ce(ge){return ge instanceof ae||ge&&"closed"in ge&&(0,d.m)(ge.remove)&&(0,d.m)(ge.add)&&(0,d.m)(ge.unsubscribe)}function de(ge){(0,d.m)(ge)?ge():ge.unsubscribe()}},2416:(vt,Se,V)=>{"use strict";V.d(Se,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Se,V)=>{"use strict";V.d(Se,{E:()=>j});const j=new(V(8306).y)(ae=>ae.complete())},8996:(vt,Se,V)=>{"use strict";V.d(Se,{D:()=>rt});var d=V(8421),j=V(5363),k=V(9468),Ee=V(8306),de=V(2202),ge=V(576),z=V(9672);function se(Pe,at){if(!Pe)throw new Error("Iterable cannot be null");return new Ee.y(Y=>{(0,z.f)(Y,at,()=>{const yt=Pe[Symbol.asyncIterator]();(0,z.f)(Y,at,()=>{yt.next().then(ne=>{ne.done?Y.complete():Y.next(ne.value)})},0,!0)})})}var Ke=V(3670),Re=V(8239),Le=V(1144),je=V(6495),ve=V(2206),ye=V(4532),Ue=V(3260);function rt(Pe,at){return at?function He(Pe,at){if(null!=Pe){if((0,Ke.c)(Pe))return function oe(Pe,at){return(0,d.Xf)(Pe).pipe((0,k.R)(at),(0,j.Q)(at))}(Pe,at);if((0,Le.z)(Pe))return function ce(Pe,at){return new Ee.y(Y=>{let yt=0;return at.schedule(function(){yt===Pe.length?Y.complete():(Y.next(Pe[yt++]),Y.closed||this.schedule())})})}(Pe,at);if((0,Re.t)(Pe))return function ae(Pe,at){return(0,d.Xf)(Pe).pipe((0,k.R)(at),(0,j.Q)(at))}(Pe,at);if((0,ve.D)(Pe))return se(Pe,at);if((0,je.T)(Pe))return function K(Pe,at){return new Ee.y(Y=>{let yt;return(0,z.f)(Y,at,()=>{yt=Pe[de.h](),(0,z.f)(Y,at,()=>{let ne,_e;try{({value:ne,done:_e}=yt.next())}catch(he){return void Y.error(he)}_e?Y.complete():Y.next(ne)},0,!0)}),()=>(0,ge.m)(null==yt?void 0:yt.return)&&yt.return()})}(Pe,at);if((0,Ue.L)(Pe))return function $e(Pe,at){return se((0,Ue.Q)(Pe),at)}(Pe,at)}throw(0,ye.z)(Pe)}(Pe,at):(0,d.Xf)(Pe)}},8421:(vt,Se,V)=>{"use strict";V.d(Se,{Xf:()=>Ke});var d=V(5987),j=V(1144),k=V(8239),oe=V(8306),ae=V(3670),Ee=V(2206),ce=V(4532),de=V(6495),ge=V(3260),z=V(576),K=V(7849),se=V(8822);function Ke(He){if(He instanceof oe.y)return He;if(null!=He){if((0,ae.c)(He))return function Re(He){return new oe.y(rt=>{const Pe=He[se.L]();if((0,z.m)(Pe.subscribe))return Pe.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,j.z)(He))return function Le(He){return new oe.y(rt=>{for(let Pe=0;Pe<He.length&&!rt.closed;Pe++)rt.next(He[Pe]);rt.complete()})}(He);if((0,k.t)(He))return function je(He){return new oe.y(rt=>{He.then(Pe=>{rt.closed||(rt.next(Pe),rt.complete())},Pe=>rt.error(Pe)).then(null,K.h)})}(He);if((0,Ee.D)(He))return ye(He);if((0,de.T)(He))return function ve(He){return new oe.y(rt=>{for(const Pe of He)if(rt.next(Pe),rt.closed)return;rt.complete()})}(He);if((0,ge.L)(He))return function Ue(He){return ye((0,ge.Q)(He))}(He)}throw(0,ce.z)(He)}function ye(He){return new oe.y(rt=>{(function $e(He,rt){var Pe,at,Y,yt;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Pe=(0,d.KL)(He);!(at=yield Pe.next()).done;)if(rt.next(at.value),rt.closed)return}catch(ne){Y={error:ne}}finally{try{at&&!at.done&&(yt=Pe.return)&&(yield yt.call(Pe))}finally{if(Y)throw Y.error}}rt.complete()})})(He,rt).catch(Pe=>rt.error(Pe))})}},6451:(vt,Se,V)=>{"use strict";V.d(Se,{T:()=>Ee});var d=V(8189),j=V(8421),k=V(515),oe=V(7669),ae=V(8996);function Ee(...ce){const de=(0,oe.yG)(ce),ge=(0,oe._6)(ce,1/0),z=ce;return z.length?1===z.length?(0,j.Xf)(z[0]):(0,d.J)(ge)((0,ae.D)(z,de)):k.E}},5403:(vt,Se,V)=>{"use strict";V.d(Se,{Q:()=>j});var d=V(2961);class j extends d.Lv{constructor(oe,ae,Ee,ce,de){super(oe),this.onFinalize=de,this._next=ae?function(ge){try{ae(ge)}catch(z){oe.error(z)}}:super._next,this._error=ce?function(ge){try{ce(ge)}catch(z){oe.error(z)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(ge){oe.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}},4004:(vt,Se,V)=>{"use strict";V.d(Se,{U:()=>k});var d=V(4482),j=V(5403);function k(oe,ae){return(0,d.e)((Ee,ce)=>{let de=0;Ee.subscribe(new j.Q(ce,ge=>{ce.next(oe.call(ae,ge,de++))}))})}},8189:(vt,Se,V)=>{"use strict";V.d(Se,{J:()=>k});var d=V(5577),j=V(4671);function k(oe=1/0){return(0,d.z)(j.y,oe)}},5577:(vt,Se,V)=>{"use strict";V.d(Se,{z:()=>de});var d=V(4004),j=V(8421),k=V(4482),oe=V(9672),ae=V(5403),ce=V(576);function de(ge,z,K=1/0){return(0,ce.m)(z)?de((se,Ke)=>(0,d.U)((Re,Le)=>z(se,Re,Ke,Le))((0,j.Xf)(ge(se,Ke))),K):("number"==typeof z&&(K=z),(0,k.e)((se,Ke)=>function Ee(ge,z,K,se,Ke,Re,Le,je){const ve=[];let ye=0,Ue=0,$e=!1;const He=()=>{$e&&!ve.length&&!ye&&z.complete()},rt=at=>ye<se?Pe(at):ve.push(at),Pe=at=>{Re&&z.next(at),ye++;let Y=!1;(0,j.Xf)(K(at,Ue++)).subscribe(new ae.Q(z,yt=>{null==Ke||Ke(yt),Re?rt(yt):z.next(yt)},()=>{Y=!0},void 0,()=>{if(Y)try{for(ye--;ve.length&&ye<se;){const yt=ve.shift();Le?(0,oe.f)(z,Le,()=>Pe(yt)):Pe(yt)}He()}catch(yt){z.error(yt)}}))};return ge.subscribe(new ae.Q(z,rt,()=>{$e=!0,He()})),()=>{null==je||je()}}(se,Ke,ge,K)))}},5363:(vt,Se,V)=>{"use strict";V.d(Se,{Q:()=>oe});var d=V(9672),j=V(4482),k=V(5403);function oe(ae,Ee=0){return(0,j.e)((ce,de)=>{ce.subscribe(new k.Q(de,ge=>(0,d.f)(de,ae,()=>de.next(ge),Ee),()=>(0,d.f)(de,ae,()=>de.complete(),Ee),ge=>(0,d.f)(de,ae,()=>de.error(ge),Ee)))})}},3099:(vt,Se,V)=>{"use strict";V.d(Se,{B:()=>Ee});var d=V(8996),j=V(5698),k=V(7579),oe=V(2961),ae=V(4482);function Ee(de={}){const{connector:ge=(()=>new k.x),resetOnError:z=!0,resetOnComplete:K=!0,resetOnRefCountZero:se=!0}=de;return Ke=>{let Re=null,Le=null,je=null,ve=0,ye=!1,Ue=!1;const $e=()=>{null==Le||Le.unsubscribe(),Le=null},He=()=>{$e(),Re=je=null,ye=Ue=!1},rt=()=>{const Pe=Re;He(),null==Pe||Pe.unsubscribe()};return(0,ae.e)((Pe,at)=>{ve++,!Ue&&!ye&&$e();const Y=je=null!=je?je:ge();at.add(()=>{ve--,0===ve&&!Ue&&!ye&&(Le=ce(rt,se))}),Y.subscribe(at),Re||(Re=new oe.Hp({next:yt=>Y.next(yt),error:yt=>{Ue=!0,$e(),Le=ce(He,z,yt),Y.error(yt)},complete:()=>{ye=!0,$e(),Le=ce(He,K),Y.complete()}}),(0,d.D)(Pe).subscribe(Re))})(Ke)}}function ce(de,ge,...z){return!0===ge?(de(),null):!1===ge?null:ge(...z).pipe((0,j.q)(1)).subscribe(()=>de())}},9468:(vt,Se,V)=>{"use strict";V.d(Se,{R:()=>j});var d=V(4482);function j(k,oe=0){return(0,d.e)((ae,Ee)=>{Ee.add(k.schedule(()=>ae.subscribe(Ee),oe))})}},5698:(vt,Se,V)=>{"use strict";V.d(Se,{q:()=>oe});var d=V(515),j=V(4482),k=V(5403);function oe(ae){return ae<=0?()=>d.E:(0,j.e)((Ee,ce)=>{let de=0;Ee.subscribe(new k.Q(ce,ge=>{++de<=ae&&(ce.next(ge),ae<=de&&ce.complete())}))})}},8505:(vt,Se,V)=>{"use strict";V.d(Se,{b:()=>ae});var d=V(576),j=V(4482),k=V(5403),oe=V(4671);function ae(Ee,ce,de){const ge=(0,d.m)(Ee)||ce||de?{next:Ee,error:ce,complete:de}:Ee;return ge?(0,j.e)((z,K)=>{var se;null===(se=ge.subscribe)||void 0===se||se.call(ge);let Ke=!0;z.subscribe(new k.Q(K,Re=>{var Le;null===(Le=ge.next)||void 0===Le||Le.call(ge,Re),K.next(Re)},()=>{var Re;Ke=!1,null===(Re=ge.complete)||void 0===Re||Re.call(ge),K.complete()},Re=>{var Le;Ke=!1,null===(Le=ge.error)||void 0===Le||Le.call(ge,Re),K.error(Re)},()=>{var Re,Le;Ke&&(null===(Re=ge.unsubscribe)||void 0===Re||Re.call(ge)),null===(Le=ge.finalize)||void 0===Le||Le.call(ge)}))}):oe.y}},4408:(vt,Se,V)=>{"use strict";V.d(Se,{o:()=>ae});var d=V(727);class j extends d.w0{constructor(ce,de){super()}schedule(ce,de=0){return this}}const k={setInterval(...Ee){const{delegate:ce}=k;return((null==ce?void 0:ce.setInterval)||setInterval)(...Ee)},clearInterval(Ee){const{delegate:ce}=k;return((null==ce?void 0:ce.clearInterval)||clearInterval)(Ee)},delegate:void 0};var oe=V(8737);class ae extends j{constructor(ce,de){super(ce,de),this.scheduler=ce,this.work=de,this.pending=!1}schedule(ce,de=0){if(this.closed)return this;this.state=ce;const ge=this.id,z=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(z,ge,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(z,this.id,de),this}requestAsyncId(ce,de,ge=0){return k.setInterval(ce.flush.bind(ce,this),ge)}recycleAsyncId(ce,de,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return de;k.clearInterval(de)}execute(ce,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ce,de);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,de){let z,ge=!1;try{this.work(ce)}catch(K){ge=!0,z=K||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ce,scheduler:de}=this,{actions:ge}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ge,this),null!=ce&&(this.id=this.recycleAsyncId(de,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Se,V)=>{"use strict";V.d(Se,{v:()=>k});var d=V(6063);class j{constructor(ae,Ee=j.now){this.schedulerActionCtor=ae,this.now=Ee}schedule(ae,Ee=0,ce){return new this.schedulerActionCtor(this,ae).schedule(ce,Ee)}}j.now=d.l.now;class k extends j{constructor(ae,Ee=j.now){super(ae,Ee),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:Ee}=this;if(this._active)return void Ee.push(ae);let ce;this._active=!0;do{if(ce=ae.execute(ae.state,ae.delay))break}while(ae=Ee.shift());if(this._active=!1,ce){for(;ae=Ee.shift();)ae.unsubscribe();throw ce}}}},4986:(vt,Se,V)=>{"use strict";V.d(Se,{z:()=>k});var d=V(4408);const k=new(V(7565).v)(d.o)},6063:(vt,Se,V)=>{"use strict";V.d(Se,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(vt,Se,V)=>{"use strict";V.d(Se,{z:()=>d});const d={setTimeout(...j){const{delegate:k}=d;return((null==k?void 0:k.setTimeout)||setTimeout)(...j)},clearTimeout(j){const{delegate:k}=d;return((null==k?void 0:k.clearTimeout)||clearTimeout)(j)},delegate:void 0}},2202:(vt,Se,V)=>{"use strict";V.d(Se,{h:()=>j});const j=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Se,V)=>{"use strict";V.d(Se,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(vt,Se,V)=>{"use strict";V.d(Se,{_6:()=>Ee,jO:()=>oe,yG:()=>ae});var d=V(576);function k(ce){return ce[ce.length-1]}function oe(ce){return(0,d.m)(k(ce))?ce.pop():void 0}function ae(ce){return function j(ce){return ce&&(0,d.m)(ce.schedule)}(k(ce))?ce.pop():void 0}function Ee(ce,de){return"number"==typeof k(ce)?ce.pop():de}},8737:(vt,Se,V)=>{"use strict";function d(j,k){if(j){const oe=j.indexOf(k);0<=oe&&j.splice(oe,1)}}V.d(Se,{P:()=>d})},3888:(vt,Se,V)=>{"use strict";function d(j){const oe=j(ae=>{Error.call(ae),ae.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}V.d(Se,{d:()=>d})},2806:(vt,Se,V)=>{"use strict";V.d(Se,{x:()=>k,O:()=>oe});var d=V(2416);let j=null;function k(ae){if(d.v.useDeprecatedSynchronousErrorHandling){const Ee=!j;if(Ee&&(j={errorThrown:!1,error:null}),ae(),Ee){const{errorThrown:ce,error:de}=j;if(j=null,ce)throw de}}else ae()}function oe(ae){d.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=ae)}},9672:(vt,Se,V)=>{"use strict";function d(j,k,oe,ae=0,Ee=!1){const ce=k.schedule(function(){oe(),Ee?j.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(j.add(ce),!Ee)return ce}V.d(Se,{f:()=>d})},4671:(vt,Se,V)=>{"use strict";function d(j){return j}V.d(Se,{y:()=>d})},1144:(vt,Se,V)=>{"use strict";V.d(Se,{z:()=>d});const d=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(vt,Se,V)=>{"use strict";V.d(Se,{D:()=>j});var d=V(576);function j(k){return Symbol.asyncIterator&&(0,d.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(vt,Se,V)=>{"use strict";function d(j){return"function"==typeof j}V.d(Se,{m:()=>d})},3670:(vt,Se,V)=>{"use strict";V.d(Se,{c:()=>k});var d=V(8822),j=V(576);function k(oe){return(0,j.m)(oe[d.L])}},6495:(vt,Se,V)=>{"use strict";V.d(Se,{T:()=>k});var d=V(2202),j=V(576);function k(oe){return(0,j.m)(null==oe?void 0:oe[d.h])}},8239:(vt,Se,V)=>{"use strict";V.d(Se,{t:()=>j});var d=V(576);function j(k){return(0,d.m)(null==k?void 0:k.then)}},3260:(vt,Se,V)=>{"use strict";V.d(Se,{Q:()=>k,L:()=>oe});var d=V(5987),j=V(576);function k(ae){return(0,d.FC)(this,arguments,function*(){const ce=ae.getReader();try{for(;;){const{value:de,done:ge}=yield(0,d.qq)(ce.read());if(ge)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(de)}}finally{ce.releaseLock()}})}function oe(ae){return(0,j.m)(null==ae?void 0:ae.getReader)}},4482:(vt,Se,V)=>{"use strict";V.d(Se,{A:()=>j,e:()=>k});var d=V(576);function j(oe){return(0,d.m)(null==oe?void 0:oe.lift)}function k(oe){return ae=>{if(j(ae))return ae.lift(function(Ee){try{return oe(Ee,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(vt,Se,V)=>{"use strict";V.d(Se,{h:()=>k});var d=V(2416),j=V(3410);function k(oe){j.z.setTimeout(()=>{const{onUnhandledError:ae}=d.v;if(!ae)throw oe;ae(oe)})}},4532:(vt,Se,V)=>{"use strict";function d(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Se,{z:()=>d})},5226:function(vt){vt.exports=function(){"use strict";const Se="SweetAlert2:",d=b=>b.charAt(0).toUpperCase()+b.slice(1),j=b=>Array.prototype.slice.call(b),k=b=>{console.warn("".concat(Se," ").concat("object"==typeof b?b.join(" "):b))},oe=b=>{console.error("".concat(Se," ").concat(b))},ae=[],ce=(b,C)=>{(b=>{ae.includes(b)||(ae.push(b),k(b))})('"'.concat(b,'" is deprecated and will be removed in the next major release. Please use "').concat(C,'" instead.'))},de=b=>"function"==typeof b?b():b,ge=b=>b&&"function"==typeof b.toPromise,z=b=>ge(b)?b.toPromise():Promise.resolve(b),K=b=>b&&Promise.resolve(b)===b,se={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ke=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Re={},Le=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],je=b=>Object.prototype.hasOwnProperty.call(se,b),ve=b=>-1!==Ke.indexOf(b),ye=b=>Re[b],Ue=b=>{je(b)||k('Unknown parameter "'.concat(b,'"'))},$e=b=>{Le.includes(b)&&k('The parameter "'.concat(b,'" is incompatible with toasts'))},He=b=>{ye(b)&&ce(b,ye(b))},at=b=>{const C={};for(const M in b)C[b[M]]="swal2-"+b[M];return C},Y=at(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),yt=at(["success","warning","info","question","error"]),ne=()=>document.body.querySelector(".".concat(Y.container)),_e=b=>{const C=ne();return C?C.querySelector(b):null},he=b=>_e(".".concat(b)),ue=()=>he(Y.popup),Ve=()=>he(Y.icon),fe=()=>he(Y.title),Ot=()=>he(Y["html-container"]),mn=()=>he(Y.image),Wn=()=>he(Y["progress-steps"]),gt=()=>he(Y["validation-message"]),ut=()=>_e(".".concat(Y.actions," .").concat(Y.confirm)),rn=()=>_e(".".concat(Y.actions," .").concat(Y.deny)),dr=()=>_e(".".concat(Y.loader)),Kt=()=>_e(".".concat(Y.actions," .").concat(Y.cancel)),hr=()=>he(Y.actions),vr=()=>he(Y.footer),Tn=()=>he(Y["timer-progress-bar"]),ln=()=>he(Y.close),di=()=>{const b=j(ue().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((M,$)=>{const xe=parseInt(M.getAttribute("tabindex")),dt=parseInt($.getAttribute("tabindex"));return xe>dt?1:xe<dt?-1:0}),C=j(ue().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(M=>"-1"!==M.getAttribute("tabindex"));return(b=>{const C=[];for(let M=0;M<b.length;M++)-1===C.indexOf(b[M])&&C.push(b[M]);return C})(b.concat(C)).filter(M=>qt(M))},Sr=()=>lt(document.body,Y.shown)&&!lt(document.body,Y["toast-shown"])&&!lt(document.body,Y["no-backdrop"]),wr=()=>ue()&&lt(ue(),Y.toast),Cn={previousBodyPadding:null},sn=(b,C)=>{if(b.textContent="",C){const $=(new DOMParser).parseFromString(C,"text/html");j($.querySelector("head").childNodes).forEach(xe=>{b.appendChild(xe)}),j($.querySelector("body").childNodes).forEach(xe=>{b.appendChild(xe)})}},lt=(b,C)=>{if(!C)return!1;const M=C.split(/\s+/);for(let $=0;$<M.length;$++)if(!b.classList.contains(M[$]))return!1;return!0},yn=(b,C,M)=>{if(((b,C)=>{j(b.classList).forEach(M=>{!Object.values(Y).includes(M)&&!Object.values(yt).includes(M)&&!Object.values(C.showClass).includes(M)&&b.classList.remove(M)})})(b,C),C.customClass&&C.customClass[M]){if("string"!=typeof C.customClass[M]&&!C.customClass[M].forEach)return k("Invalid type of customClass.".concat(M,'! Expected string or iterable object, got "').concat(typeof C.customClass[M],'"'));wt(b,C.customClass[M])}},cn=(b,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return b.querySelector(".".concat(Y.popup," > .").concat(Y[C]));case"checkbox":return b.querySelector(".".concat(Y.popup," > .").concat(Y.checkbox," input"));case"radio":return b.querySelector(".".concat(Y.popup," > .").concat(Y.radio," input:checked"))||b.querySelector(".".concat(Y.popup," > .").concat(Y.radio," input:first-child"));case"range":return b.querySelector(".".concat(Y.popup," > .").concat(Y.range," input"));default:return b.querySelector(".".concat(Y.popup," > .").concat(Y.input))}},Bn=b=>{if(b.focus(),"file"!==b.type){const C=b.value;b.value="",b.value=C}},hi=(b,C,M)=>{!b||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach($=>{Array.isArray(b)?b.forEach(xe=>{M?xe.classList.add($):xe.classList.remove($)}):M?b.classList.add($):b.classList.remove($)}))},wt=(b,C)=>{hi(b,C,!0)},dn=(b,C)=>{hi(b,C,!1)},er=(b,C)=>{const M=j(b.childNodes);for(let $=0;$<M.length;$++)if(lt(M[$],C))return M[$]},Gr=(b,C,M)=>{M==="".concat(parseInt(M))&&(M=parseInt(M)),M||0===parseInt(M)?b.style[C]="number"==typeof M?"".concat(M,"px"):M:b.style.removeProperty(C)},Dt=function(b){b.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Xe=b=>{b.style.display="none"},_t=(b,C,M,$)=>{const xe=b.querySelector(C);xe&&(xe.style[M]=$)},Nr=(b,C,M)=>{C?Dt(b,M):Xe(b)},qt=b=>!(!b||!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)),Jr=b=>b.scrollHeight>b.clientHeight,tr=b=>{const C=window.getComputedStyle(b),M=parseFloat(C.getPropertyValue("animation-duration")||"0"),$=parseFloat(C.getPropertyValue("transition-duration")||"0");return M>0||$>0},hn=function(b){let C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const M=Tn();qt(M)&&(C&&(M.style.transition="none",M.style.width="100%"),setTimeout(()=>{M.style.transition="width ".concat(b/1e3,"s linear"),M.style.width="0%"},10))},qn=()=>"undefined"==typeof window||"undefined"==typeof document,Te={},it=b=>new Promise(C=>{if(!b)return C();const M=window.scrollX,$=window.scrollY;Te.restoreFocusTimeout=setTimeout(()=>{Te.previousActiveElement&&Te.previousActiveElement.focus?(Te.previousActiveElement.focus(),Te.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(M,$)}),Et='\n <div aria-labelledby="'.concat(Y.title,'" aria-describedby="').concat(Y["html-container"],'" class="').concat(Y.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Y.close,'"></button>\n   <ul class="').concat(Y["progress-steps"],'"></ul>\n   <div class="').concat(Y.icon,'"></div>\n   <img class="').concat(Y.image,'" />\n   <h2 class="').concat(Y.title,'" id="').concat(Y.title,'"></h2>\n   <div class="').concat(Y["html-container"],'" id="').concat(Y["html-container"],'"></div>\n   <input class="').concat(Y.input,'" />\n   <input type="file" class="').concat(Y.file,'" />\n   <div class="').concat(Y.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Y.select,'"></select>\n   <div class="').concat(Y.radio,'"></div>\n   <label for="').concat(Y.checkbox,'" class="').concat(Y.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(Y.label,'"></span>\n   </label>\n   <textarea class="').concat(Y.textarea,'"></textarea>\n   <div class="').concat(Y["validation-message"],'" id="').concat(Y["validation-message"],'"></div>\n   <div class="').concat(Y.actions,'">\n     <div class="').concat(Y.loader,'"></div>\n     <button type="button" class="').concat(Y.confirm,'"></button>\n     <button type="button" class="').concat(Y.deny,'"></button>\n     <button type="button" class="').concat(Y.cancel,'"></button>\n   </div>\n   <div class="').concat(Y.footer,'"></div>\n   <div class="').concat(Y["timer-progress-bar-container"],'">\n     <div class="').concat(Y["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Lt=()=>{Te.currentInstance.resetValidationMessage()},L=b=>{const C=(()=>{const b=ne();return!!b&&(b.remove(),dn([document.documentElement,document.body],[Y["no-backdrop"],Y["toast-shown"],Y["has-column"]]),!0)})();if(qn())return void oe("SweetAlert2 requires document to initialize");const M=document.createElement("div");M.className=Y.container,C&&wt(M,Y["no-transition"]),sn(M,Et);const $=(b=>"string"==typeof b?document.querySelector(b):b)(b.target);$.appendChild(M),(b=>{const C=ue();C.setAttribute("role",b.toast?"alert":"dialog"),C.setAttribute("aria-live",b.toast?"polite":"assertive"),b.toast||C.setAttribute("aria-modal","true")})(b),(b=>{"rtl"===window.getComputedStyle(b).direction&&wt(ne(),Y.rtl)})($),(()=>{const b=ue(),C=er(b,Y.input),M=er(b,Y.file),$=b.querySelector(".".concat(Y.range," input")),xe=b.querySelector(".".concat(Y.range," output")),dt=er(b,Y.select),Vn=b.querySelector(".".concat(Y.checkbox," input")),ar=er(b,Y.textarea);C.oninput=Lt,M.onchange=Lt,dt.onchange=Lt,Vn.onchange=Lt,ar.oninput=Lt,$.oninput=()=>{Lt(),xe.value=$.value},$.onchange=()=>{Lt(),$.nextSibling.value=$.value}})()},B=(b,C)=>{b instanceof HTMLElement?C.appendChild(b):"object"==typeof b?q(b,C):b&&sn(C,b)},q=(b,C)=>{b.jquery?le(C,b):sn(C,b.toString())},le=(b,C)=>{if(b.textContent="",0 in C)for(let M=0;M in C;M++)b.appendChild(C[M].cloneNode(!0));else b.appendChild(C.cloneNode(!0))},Be=(()=>{if(qn())return!1;const b=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const M in C)if(Object.prototype.hasOwnProperty.call(C,M)&&void 0!==b.style[M])return C[M];return!1})(),At=(b,C)=>{const M=hr(),$=dr();C.showConfirmButton||C.showDenyButton||C.showCancelButton?Dt(M):Xe(M),yn(M,C,"actions"),function st(b,C,M){const $=ut(),xe=rn(),dt=Kt();In($,"confirm",M),In(xe,"deny",M),In(dt,"cancel",M),function Ut(b,C,M,$){if(!$.buttonsStyling)return dn([b,C,M],Y.styled);wt([b,C,M],Y.styled),$.confirmButtonColor&&(b.style.backgroundColor=$.confirmButtonColor,wt(b,Y["default-outline"])),$.denyButtonColor&&(C.style.backgroundColor=$.denyButtonColor,wt(C,Y["default-outline"])),$.cancelButtonColor&&(M.style.backgroundColor=$.cancelButtonColor,wt(M,Y["default-outline"]))}($,xe,dt,M),M.reverseButtons&&(M.toast?(b.insertBefore(dt,$),b.insertBefore(xe,$)):(b.insertBefore(dt,C),b.insertBefore(xe,C),b.insertBefore($,C)))}(M,$,C),sn($,C.loaderHtml),yn($,C,"loader")};function In(b,C,M){Nr(b,M["show".concat(d(C),"Button")],"inline-block"),sn(b,M["".concat(C,"ButtonText")]),b.setAttribute("aria-label",M["".concat(C,"ButtonAriaLabel")]),b.className=Y[C],yn(b,M,"".concat(C,"Button")),wt(b,M["".concat(C,"ButtonClass")])}const qr=(b,C)=>{const M=ne();!M||(function zn(b,C){"string"==typeof C?b.style.background=C:C||wt([document.documentElement,document.body],Y["no-backdrop"])}(M,C.backdrop),function Yt(b,C){C in Y?wt(b,Y[C]):(k('The "position" parameter is not valid, defaulting to "center"'),wt(b,Y.center))}(M,C.position),function Fr(b,C){if(C&&"string"==typeof C){const M="grow-".concat(C);M in Y&&wt(b,Y[M])}}(M,C.grow),yn(M,C,"container"))};var bt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ta=["input","file","range","select","radio","checkbox","textarea"],Qe=b=>{if(!jt[b.input])return oe('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(b.input,'"'));const C=xr(b.input),M=jt[b.input](C,b);Dt(M),setTimeout(()=>{Bn(M)})},on=(b,C)=>{const M=cn(ue(),b);if(M){(b=>{for(let C=0;C<b.attributes.length;C++){const M=b.attributes[C].name;["type","value","style"].includes(M)||b.removeAttribute(M)}})(M);for(const $ in C)M.setAttribute($,C[$])}},Zn=b=>{const C=xr(b.input);b.customClass&&wt(C,b.customClass.input)},Ui=(b,C)=>{(!b.placeholder||C.inputPlaceholder)&&(b.placeholder=C.inputPlaceholder)},Fn=(b,C,M)=>{if(M.inputLabel){b.id=Y.input;const $=document.createElement("label"),xe=Y["input-label"];$.setAttribute("for",b.id),$.className=xe,wt($,M.customClass.inputLabel),$.innerText=M.inputLabel,C.insertAdjacentElement("beforebegin",$)}},xr=b=>{const C=Y[b]?Y[b]:Y.input;return er(ue(),C)},jt={};jt.text=jt.email=jt.password=jt.number=jt.tel=jt.url=(b,C)=>("string"==typeof C.inputValue||"number"==typeof C.inputValue?b.value=C.inputValue:K(C.inputValue)||k('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof C.inputValue,'"')),Fn(b,b,C),Ui(b,C),b.type=C.input,b),jt.file=(b,C)=>(Fn(b,b,C),Ui(b,C),b),jt.range=(b,C)=>{const M=b.querySelector("input"),$=b.querySelector("output");return M.value=C.inputValue,M.type=C.input,$.value=C.inputValue,Fn(M,b,C),b},jt.select=(b,C)=>{if(b.textContent="",C.inputPlaceholder){const M=document.createElement("option");sn(M,C.inputPlaceholder),M.value="",M.disabled=!0,M.selected=!0,b.appendChild(M)}return Fn(b,b,C),b},jt.radio=b=>(b.textContent="",b),jt.checkbox=(b,C)=>{const M=cn(ue(),"checkbox");M.value="1",M.id=Y.checkbox,M.checked=Boolean(C.inputValue);const $=b.querySelector("span");return sn($,C.inputPlaceholder),b},jt.textarea=(b,C)=>{b.value=C.inputValue,Ui(b,C),Fn(b,b,C);return setTimeout(()=>{if("MutationObserver"in window){const $=parseInt(window.getComputedStyle(ue()).width);new MutationObserver(()=>{const dt=b.offsetWidth+($=>parseInt(window.getComputedStyle($).marginLeft)+parseInt(window.getComputedStyle($).marginRight))(b);ue().style.width=dt>$?"".concat(dt,"px"):null}).observe(b,{attributes:!0,attributeFilter:["style"]})}}),b};const Qn=(b,C)=>{const M=Ot();yn(M,C,"htmlContainer"),C.html?(B(C.html,M),Dt(M,"block")):C.text?(M.textContent=C.text,Dt(M,"block")):Xe(M),((b,C)=>{const M=ue(),$=bt.innerParams.get(b),xe=!$||C.input!==$.input;ta.forEach(dt=>{const Vn=Y[dt],ar=er(M,Vn);on(dt,C.inputAttributes),ar.className=Vn,xe&&Xe(ar)}),C.input&&(xe&&Qe(C),Zn(C))})(b,C)},Ai=(b,C)=>{for(const M in yt)C.icon!==M&&dn(b,yt[M]);wt(b,yt[C.icon]),fs(b,C),wo(),yn(b,C,"icon")},wo=()=>{const b=ue(),C=window.getComputedStyle(b).getPropertyValue("background-color"),M=b.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let $=0;$<M.length;$++)M[$].style.backgroundColor=C},fi=(b,C)=>{b.textContent="",sn(b,C.iconHtml?zr(C.iconHtml):"success"===C.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===C.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':zr({question:"?",warning:"!",info:"i"}[C.icon]))},fs=(b,C)=>{if(C.iconColor){b.style.color=C.iconColor,b.style.borderColor=C.iconColor;for(const M of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])_t(b,M,"backgroundColor",C.iconColor);_t(b,".swal2-success-ring","borderColor",C.iconColor)}},zr=b=>'<div class="'.concat(Y["icon-content"],'">').concat(b,"</div>"),ei=(b,C)=>{const M=Wn();if(!C.progressSteps||0===C.progressSteps.length)return Xe(M);Dt(M),M.textContent="",C.currentProgressStep>=C.progressSteps.length&&k("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach(($,xe)=>{const dt=(b=>{const C=document.createElement("li");return wt(C,Y["progress-step"]),sn(C,b),C})($);if(M.appendChild(dt),xe===C.currentProgressStep&&wt(dt,Y["active-progress-step"]),xe!==C.progressSteps.length-1){const Vn=(b=>{const C=document.createElement("li");return wt(C,Y["progress-step-line"]),b.progressStepsDistance&&(C.style.width=b.progressStepsDistance),C})(C);M.appendChild(Vn)}})},ps=(b,C)=>{b.className="".concat(Y.popup," ").concat(qt(b)?C.showClass.popup:""),C.toast?(wt([document.documentElement,document.body],Y["toast-shown"]),wt(b,Y.toast)):wt(b,Y.modal),yn(b,C,"popup"),"string"==typeof C.customClass&&wt(b,C.customClass),C.icon&&wt(b,Y["icon-".concat(C.icon)])},Eo=(b,C)=>{((b,C)=>{const M=ne(),$=ue();C.toast?(Gr(M,"width",C.width),$.style.width="100%",$.insertBefore(dr(),Ve())):Gr($,"width",C.width),Gr($,"padding",C.padding),C.color&&($.style.color=C.color),C.background&&($.style.background=C.background),Xe(gt()),ps($,C)})(0,C),qr(0,C),ei(0,C),((b,C)=>{const M=bt.innerParams.get(b),$=Ve();M&&C.icon===M.icon?(fi($,C),Ai($,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(yt).indexOf(C.icon)?(oe('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(C.icon,'"')),Xe($)):(Dt($),fi($,C),Ai($,C),wt($,C.showClass.icon)):Xe($)})(b,C),((b,C)=>{const M=mn();if(!C.imageUrl)return Xe(M);Dt(M,""),M.setAttribute("src",C.imageUrl),M.setAttribute("alt",C.imageAlt),Gr(M,"width",C.imageWidth),Gr(M,"height",C.imageHeight),M.className=Y.image,yn(M,C,"image")})(0,C),((b,C)=>{const M=fe();Nr(M,C.title||C.titleText,"block"),C.title&&B(C.title,M),C.titleText&&(M.innerText=C.titleText),yn(M,C,"title")})(0,C),((b,C)=>{const M=ln();sn(M,C.closeButtonHtml),yn(M,C,"closeButton"),Nr(M,C.showCloseButton),M.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),Qn(b,C),At(0,C),((b,C)=>{const M=vr();Nr(M,C.footer),C.footer&&B(C.footer,M),yn(M,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(ue())},pr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Au=()=>{j(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},Cl=["swal-title","swal-html","swal-footer"],Il=b=>{const C={};return j(b.querySelectorAll("swal-param")).forEach(M=>{es(M,["name","value"]);const $=M.getAttribute("name"),xe=M.getAttribute("value");"boolean"==typeof se[$]&&"false"===xe&&(C[$]=!1),"object"==typeof se[$]&&(C[$]=JSON.parse(xe))}),C},Su=b=>{const C={};return j(b.querySelectorAll("swal-button")).forEach(M=>{es(M,["type","color","aria-label"]);const $=M.getAttribute("type");C["".concat($,"ButtonText")]=M.innerHTML,C["show".concat(d($),"Button")]=!0,M.hasAttribute("color")&&(C["".concat($,"ButtonColor")]=M.getAttribute("color")),M.hasAttribute("aria-label")&&(C["".concat($,"ButtonAriaLabel")]=M.getAttribute("aria-label"))}),C},Dl=b=>{const C={},M=b.querySelector("swal-image");return M&&(es(M,["src","width","height","alt"]),M.hasAttribute("src")&&(C.imageUrl=M.getAttribute("src")),M.hasAttribute("width")&&(C.imageWidth=M.getAttribute("width")),M.hasAttribute("height")&&(C.imageHeight=M.getAttribute("height")),M.hasAttribute("alt")&&(C.imageAlt=M.getAttribute("alt"))),C},xu=b=>{const C={},M=b.querySelector("swal-icon");return M&&(es(M,["type","color"]),M.hasAttribute("type")&&(C.icon=M.getAttribute("type")),M.hasAttribute("color")&&(C.iconColor=M.getAttribute("color")),C.iconHtml=M.innerHTML),C},kc=b=>{const C={},M=b.querySelector("swal-input");M&&(es(M,["type","label","placeholder","value"]),C.input=M.getAttribute("type")||"text",M.hasAttribute("label")&&(C.inputLabel=M.getAttribute("label")),M.hasAttribute("placeholder")&&(C.inputPlaceholder=M.getAttribute("placeholder")),M.hasAttribute("value")&&(C.inputValue=M.getAttribute("value")));const $=b.querySelectorAll("swal-input-option");return $.length&&(C.inputOptions={},j($).forEach(xe=>{es(xe,["value"]);const dt=xe.getAttribute("value");C.inputOptions[dt]=xe.innerHTML})),C},Co=(b,C)=>{const M={};for(const $ in C){const xe=C[$],dt=b.querySelector(xe);dt&&(es(dt,[]),M[xe.replace(/^swal-/,"")]=dt.innerHTML.trim())}return M},$s=b=>{const C=Cl.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);j(b.children).forEach(M=>{const $=M.tagName.toLowerCase();-1===C.indexOf($)&&k("Unrecognized element <".concat($,">"))})},es=(b,C)=>{j(b.attributes).forEach(M=>{-1===C.indexOf(M.name)&&k(['Unrecognized attribute "'.concat(M.name,'" on <').concat(b.tagName.toLowerCase(),">."),"".concat(C.length?"Allowed attributes are: ".concat(C.join(", ")):"To set the value, use HTML within the element.")])})};var na={email:(b,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(b)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(b,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(b)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function Ou(b){(function Mu(b){b.inputValidator||Object.keys(na).forEach(C=>{b.input===C&&(b.inputValidator=na[C])})})(b),b.showLoaderOnConfirm&&!b.preConfirm&&k("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Nc(b){(!b.target||"string"==typeof b.target&&!document.querySelector(b.target)||"string"!=typeof b.target&&!b.target.appendChild)&&(k('Target parameter is not valid, defaulting to "body"'),b.target="body")}(b),"string"==typeof b.title&&(b.title=b.title.split("\n").join("<br />")),L(b)}class Fc{constructor(C,M){this.callback=C,this.remaining=M,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(C){const M=this.running;return M&&this.stop(),this.remaining+=C,M&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Tl=()=>{null===Cn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Cn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Cn.previousBodyPadding+(()=>{const b=document.createElement("div");b.className=Y["scrollbar-measure"],document.body.appendChild(b);const C=b.getBoundingClientRect().width-b.clientWidth;return document.body.removeChild(b),C})(),"px"))},Pu=()=>{const b=navigator.userAgent,C=!!b.match(/iPad/i)||!!b.match(/iPhone/i),M=!!b.match(/WebKit/i);if(C&&M&&!b.match(/CriOS/i)){const xe=44;ue().scrollHeight>window.innerHeight-xe&&(ne().style.paddingBottom="".concat(xe,"px"))}},xa=()=>{const b=ne();let C;b.ontouchstart=M=>{C=Lc(M)},b.ontouchmove=M=>{C&&(M.preventDefault(),M.stopPropagation())}},Lc=b=>{const C=b.target,M=ne();return!(xi(b)||Al(b)||C!==M&&(Jr(M)||"INPUT"===C.tagName||"TEXTAREA"===C.tagName||Jr(Ot())&&Ot().contains(C)))},xi=b=>b.touches&&b.touches.length&&"stylus"===b.touches[0].touchType,Al=b=>b.touches&&b.touches.length>1,$i=b=>{const C=ne(),M=ue();"function"==typeof b.willOpen&&b.willOpen(M);const xe=window.getComputedStyle(document.body).overflowY;Hi(C,M,b),setTimeout(()=>{Sl(C,M)},10),Sr()&&(gr(C,b.scrollbarPadding,xe),j(document.body.children).forEach(C=>{C===ne()||C.contains(ne())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!wr()&&!Te.previousActiveElement&&(Te.previousActiveElement=document.activeElement),"function"==typeof b.didOpen&&setTimeout(()=>b.didOpen(M)),dn(C,Y["no-transition"])},Ma=b=>{const C=ue();if(b.target!==C)return;const M=ne();C.removeEventListener(Be,Ma),M.style.overflowY="auto"},Sl=(b,C)=>{Be&&tr(C)?(b.style.overflowY="hidden",C.addEventListener(Be,Ma)):b.style.overflowY="auto"},gr=(b,C,M)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!lt(document.body,Y.iosfix)){const C=document.body.scrollTop;document.body.style.top="".concat(-1*C,"px"),wt(document.body,Y.iosfix),xa(),Pu()}})(),C&&"hidden"!==M&&Tl(),setTimeout(()=>{b.scrollTop=0})},Hi=(b,C,M)=>{wt(b,M.showClass.backdrop),C.style.setProperty("opacity","0","important"),Dt(C,"grid"),setTimeout(()=>{wt(C,M.showClass.popup),C.style.removeProperty("opacity")},10),wt([document.documentElement,document.body],Y.shown),M.heightAuto&&M.backdrop&&!M.toast&&wt([document.documentElement,document.body],Y["height-auto"])},Mi=b=>{let C=ue();C||new $n,C=ue();const M=dr();wr()?Xe(Ve()):Oa(C,b),Dt(M),C.setAttribute("data-loading",!0),C.setAttribute("aria-busy",!0),C.focus()},Oa=(b,C)=>{const M=hr(),$=dr();!C&&qt(ut())&&(C=ut()),Dt(M),C&&(Xe(C),$.setAttribute("data-button-to-replace",C.className)),$.parentNode.insertBefore($,C),wt([b,M],Y.loading)},Pa=b=>b.checked?1:0,sa=b=>b.checked?b.value:null,Vc=b=>b.files.length?null!==b.getAttribute("multiple")?b.files:b.files[0]:null,Do=(b,C)=>{const M=ue(),$=xe=>vn[C.input](M,Gs(xe),C);ge(C.inputOptions)||K(C.inputOptions)?(Mi(ut()),z(C.inputOptions).then(xe=>{b.hideLoading(),$(xe)})):"object"==typeof C.inputOptions?$(C.inputOptions):oe("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof C.inputOptions))},Hs=(b,C)=>{const M=b.getInput();Xe(M),z(C.inputValue).then($=>{M.value="number"===C.input?parseFloat($)||0:"".concat($),Dt(M),M.focus(),b.hideLoading()}).catch($=>{oe("Error in inputValue promise: ".concat($)),M.value="",Dt(M),M.focus(),b.hideLoading()})},vn={select:(b,C,M)=>{const $=er(b,Y.select),xe=(dt,Vn,ar)=>{const Hn=document.createElement("option");Hn.value=ar,sn(Hn,Vn),Hn.selected=gs(ar,M.inputValue),dt.appendChild(Hn)};C.forEach(dt=>{const Vn=dt[0],ar=dt[1];if(Array.isArray(ar)){const Hn=document.createElement("optgroup");Hn.label=Vn,Hn.disabled=!1,$.appendChild(Hn),ar.forEach(Ri=>xe(Hn,Ri[1],Ri[0]))}else xe($,ar,Vn)}),$.focus()},radio:(b,C,M)=>{const $=er(b,Y.radio);C.forEach(dt=>{const Vn=dt[0],ar=dt[1],Hn=document.createElement("input"),Ri=document.createElement("label");Hn.type="radio",Hn.name=Y.radio,Hn.value=Vn,gs(Vn,M.inputValue)&&(Hn.checked=!0);const ki=document.createElement("span");sn(ki,ar),ki.className=Y.label,Ri.appendChild(Hn),Ri.appendChild(ki),$.appendChild(Ri)});const xe=$.querySelectorAll("input");xe.length&&xe[0].focus()}},Gs=b=>{const C=[];return"undefined"!=typeof Map&&b instanceof Map?b.forEach((M,$)=>{let xe=M;"object"==typeof xe&&(xe=Gs(xe)),C.push([$,xe])}):Object.keys(b).forEach(M=>{let $=b[M];"object"==typeof $&&($=Gs($)),C.push([M,$])}),C},gs=(b,C)=>C&&C.toString()===b.toString();function Kn(){const b=bt.innerParams.get(this);if(!b)return;const C=bt.domCache.get(this);Xe(C.loader),wr()?b.icon&&Dt(Ve()):To(C),dn([C.popup,C.actions],Y.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const To=b=>{const C=b.popup.getElementsByClassName(b.loader.getAttribute("data-button-to-replace"));C.length?Dt(C[0],"inline-block"):!qt(ut())&&!qt(rn())&&!qt(Kt())&&Xe(b.actions)};var nr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ms=()=>ut()&&ut().click(),_n=b=>{b.keydownTarget&&b.keydownHandlerAdded&&(b.keydownTarget.removeEventListener("keydown",b.keydownHandler,{capture:b.keydownListenerCapture}),b.keydownHandlerAdded=!1)},Gi=(b,C,M)=>{const $=di();if($.length)return(C+=M)===$.length?C=0:-1===C&&(C=$.length-1),$[C].focus();ue().focus()},So=["ArrowRight","ArrowDown"],Zr=["ArrowLeft","ArrowUp"],vs=(b,C,M)=>{const $=bt.innerParams.get(b);!$||C.isComposing||229===C.keyCode||($.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?ns(b,C,$):"Tab"===C.key?mt(C,$):[...So,...Zr].includes(C.key)?ws(C.key):"Escape"===C.key&&oa(C,$,M))},ns=(b,C,M)=>{if(de(M.allowEnterKey)&&C.target&&b.getInput()&&C.target.outerHTML===b.getInput().outerHTML){if(["textarea","file"].includes(M.input))return;ms(),C.preventDefault()}},mt=(b,C)=>{const M=b.target,$=di();let xe=-1;for(let dt=0;dt<$.length;dt++)if(M===$[dt]){xe=dt;break}Gi(0,xe,b.shiftKey?-1:1),b.stopPropagation(),b.preventDefault()},ws=b=>{if(![ut(),rn(),Kt()].includes(document.activeElement))return;const xe=So.includes(b)?"nextElementSibling":"previousElementSibling";let dt=document.activeElement;for(let Vn=0;Vn<hr().children.length;Vn++){if(dt=dt[xe],!dt)return;if(qt(dt)&&dt instanceof HTMLButtonElement)break}dt instanceof HTMLButtonElement&&dt.focus()},oa=(b,C,M)=>{de(C.allowEscapeKey)&&(b.preventDefault(),M(pr.esc))};function bs(b,C,M,$){wr()?zs(b,$):(it(M).then(()=>zs(b,$)),_n(Te)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),Sr()&&(null!==Cn.previousBodyPadding&&(document.body.style.paddingRight="".concat(Cn.previousBodyPadding,"px"),Cn.previousBodyPadding=null),(()=>{if(lt(document.body,Y.iosfix)){const b=parseInt(document.body.style.top,10);dn(document.body,Y.iosfix),document.body.style.top="",document.body.scrollTop=-1*b}})(),Au()),function qs(){dn([document.documentElement,document.body],[Y.shown,Y["height-auto"],Y["no-backdrop"],Y["toast-shown"]])}()}function Es(b){b=Mo(b);const C=nr.swalPromiseResolve.get(this),M=Ru(this);this.isAwaitingPromise()?b.isDismissed||(zt(this),C(b)):M&&C(b)}const Ru=b=>{const C=ue();if(!C)return!1;const M=bt.innerParams.get(b);if(!M||lt(C,M.hideClass.popup))return!1;dn(C,M.showClass.popup),wt(C,M.hideClass.popup);const $=ne();return dn($,M.showClass.backdrop),wt($,M.hideClass.backdrop),xn(b,C,M),!0};const zt=b=>{b.isAwaitingPromise()&&(bt.awaitingPromise.delete(b),bt.innerParams.get(b)||b._destroy())},Mo=b=>void 0===b?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},b),xn=(b,C,M)=>{const $=ne(),xe=Be&&tr(C);"function"==typeof M.willClose&&M.willClose(C),xe?Cs(b,C,$,M.returnFocus,M.didClose):bs(b,$,M.returnFocus,M.didClose)},Cs=(b,C,M,$,xe)=>{Te.swalCloseEventFinishedCallback=bs.bind(null,b,M,$,xe),C.addEventListener(Be,function(dt){dt.target===C&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback)})},zs=(b,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(b.params)(),b._destroy()})};function mr(b,C,M){const $=bt.domCache.get(b);C.forEach(xe=>{$[xe].disabled=M})}function Is(b,C){if(!b)return!1;if("radio"===b.type){const $=b.parentNode.parentNode.querySelectorAll("input");for(let xe=0;xe<$.length;xe++)$[xe].disabled=C}else b.disabled=C}const qi=b=>{const C={};return Object.keys(b).forEach(M=>{ve(M)?C[M]=b[M]:k('Invalid parameter to update: "'.concat(M,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),C};const Po=b=>{Ks(b),delete b.params,delete Te.keydownHandler,delete Te.keydownTarget,delete Te.currentInstance},Ks=b=>{b.isAwaitingPromise()?(Ds(bt,b),bt.awaitingPromise.set(b,!0)):(Ds(nr,b),Ds(bt,b))},Ds=(b,C)=>{for(const M in b)b[M].delete(C)};var Ro=Object.freeze({hideLoading:Kn,disableLoading:Kn,getInput:function ti(b){const C=bt.innerParams.get(b||this),M=bt.domCache.get(b||this);return M?cn(M.popup,C.input):null},close:Es,isAwaitingPromise:function xo(){return!!bt.awaitingPromise.get(this)},rejectPromise:function Me(b){const C=nr.swalPromiseReject.get(this);zt(this),C&&C(b)},handleAwaitingPromise:zt,closePopup:Es,closeModal:Es,closeToast:Es,enableButtons:function Ws(){mr(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function aa(){mr(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Ra(){return Is(this.getInput(),!1)},disableInput:function Oo(){return Is(this.getInput(),!0)},showValidationMessage:function Zs(b){const C=bt.domCache.get(this),M=bt.innerParams.get(this);sn(C.validationMessage,b),C.validationMessage.className=Y["validation-message"],M.customClass&&M.customClass.validationMessage&&wt(C.validationMessage,M.customClass.validationMessage),Dt(C.validationMessage);const $=this.getInput();$&&($.setAttribute("aria-invalid",!0),$.setAttribute("aria-describedby",Y["validation-message"]),Bn($),wt($,Y.inputerror))},resetValidationMessage:function or(){const b=bt.domCache.get(this);b.validationMessage&&Xe(b.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),dn(C,Y.inputerror))},getProgressSteps:function pi(){return bt.domCache.get(this).progressSteps},update:function ua(b){const C=ue(),M=bt.innerParams.get(this);if(!C||lt(C,M.hideClass.popup))return k("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const $=qi(b),xe=Object.assign({},M,$);Eo(this,xe),bt.innerParams.set(this,xe),Object.defineProperties(this,{params:{value:Object.assign({},this.params,b),writable:!1,enumerable:!0}})},_destroy:function Oi(){const b=bt.domCache.get(this),C=bt.innerParams.get(this);C?(b.popup&&Te.swalCloseEventFinishedCallback&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback),Te.deferDisposalTimer&&(clearTimeout(Te.deferDisposalTimer),delete Te.deferDisposalTimer),"function"==typeof C.didDestroy&&C.didDestroy(),Po(this)):Ks(this)}});const Qs=(b,C)=>{const M=bt.innerParams.get(b);if(!M.input)return oe('The "input" parameter is needed to be set when using returnInputValueOn'.concat(d(C)));const $=((b,C)=>{const M=b.getInput();if(!M)return null;switch(C.input){case"checkbox":return Pa(M);case"radio":return sa(M);case"file":return Vc(M);default:return C.inputAutoTrim?M.value.trim():M.value}})(b,M);M.inputValidator?ka(b,$,C):b.getInput().checkValidity()?"deny"===C?No(b,$):ca(b,$):(b.enableButtons(),b.showValidationMessage(M.validationMessage))},ka=(b,C,M)=>{const $=bt.innerParams.get(b);b.disableInput(),Promise.resolve().then(()=>z($.inputValidator(C,$.validationMessage))).then(dt=>{b.enableButtons(),b.enableInput(),dt?b.showValidationMessage(dt):"deny"===M?No(b,C):ca(b,C)})},No=(b,C)=>{const M=bt.innerParams.get(b||void 0);M.showLoaderOnDeny&&Mi(rn()),M.preDeny?(bt.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>z(M.preDeny(C,M.validationMessage))).then(xe=>{!1===xe?(b.hideLoading(),zt(b)):b.closePopup({isDenied:!0,value:void 0===xe?C:xe})}).catch(xe=>Xs(b||void 0,xe))):b.closePopup({isDenied:!0,value:C})},Js=(b,C)=>{b.closePopup({isConfirmed:!0,value:C})},Xs=(b,C)=>{b.rejectPromise(C)},ca=(b,C)=>{const M=bt.innerParams.get(b||void 0);M.showLoaderOnConfirm&&Mi(),M.preConfirm?(b.resetValidationMessage(),bt.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>z(M.preConfirm(C,M.validationMessage))).then(xe=>{qt(gt())||!1===xe?(b.hideLoading(),zt(b)):Js(b,void 0===xe?C:xe)}).catch(xe=>Xs(b||void 0,xe))):Js(b,C)},ku=(b,C,M)=>{C.popup.onclick=()=>{const $=bt.innerParams.get(b);$&&(eo($)||$.timer||$.input)||M(pr.close)}},eo=b=>b.showConfirmButton||b.showDenyButton||b.showCancelButton||b.showCloseButton;let Na=!1;const xl=b=>{b.popup.onmousedown=()=>{b.container.onmouseup=function(C){b.container.onmouseup=void 0,C.target===b.container&&(Na=!0)}}},Jn=b=>{b.container.onmousedown=()=>{b.popup.onmouseup=function(C){b.popup.onmouseup=void 0,(C.target===b.popup||b.popup.contains(C.target))&&(Na=!0)}}},Mr=(b,C,M)=>{C.container.onclick=$=>{const xe=bt.innerParams.get(b);Na?Na=!1:$.target===C.container&&de(xe.allowOutsideClick)&&M(pr.backdrop)}},da=b=>b instanceof Element||(b=>"object"==typeof b&&b.jquery)(b);const Uc=()=>{if(Te.timeout)return(()=>{const b=Tn(),C=parseInt(window.getComputedStyle(b).width);b.style.removeProperty("transition"),b.style.width="100%";const $=C/parseInt(window.getComputedStyle(b).width)*100;b.style.removeProperty("transition"),b.style.width="".concat($,"%")})(),Te.timeout.stop()},Pi=()=>{if(Te.timeout){const b=Te.timeout.start();return hn(b),b}};let ha=!1;const Va={};const Lo=b=>{for(let C=b.target;C&&C!==document;C=C.parentNode)for(const M in Va){const $=C.getAttribute(M);if($)return void Va[M].fire({template:$})}};var Bc=Object.freeze({isValidParameter:je,isUpdatableParameter:ve,isDeprecatedParameter:ye,argsToParams:b=>{const C={};return"object"!=typeof b[0]||da(b[0])?["title","html","icon"].forEach((M,$)=>{const xe=b[$];"string"==typeof xe||da(xe)?C[M]=xe:void 0!==xe&&oe("Unexpected type of ".concat(M,'! Expected "string" or "Element", got ').concat(typeof xe))}):Object.assign(C,b[0]),C},isVisible:()=>qt(ue()),clickConfirm:ms,clickDeny:()=>rn()&&rn().click(),clickCancel:()=>Kt()&&Kt().click(),getContainer:ne,getPopup:ue,getTitle:fe,getHtmlContainer:Ot,getImage:mn,getIcon:Ve,getInputLabel:()=>he(Y["input-label"]),getCloseButton:ln,getActions:hr,getConfirmButton:ut,getDenyButton:rn,getCancelButton:Kt,getLoader:dr,getFooter:vr,getTimerProgressBar:Tn,getFocusableElements:di,getValidationMessage:gt,isLoading:()=>ue().hasAttribute("data-loading"),fire:function Fa(){const b=this;for(var C=arguments.length,M=new Array(C),$=0;$<C;$++)M[$]=arguments[$];return new b(...M)},mixin:function Fu(b){return class C extends(this){_main($,xe){return super._main($,Object.assign({},b,xe))}}},showLoading:Mi,enableLoading:Mi,getTimerLeft:()=>Te.timeout&&Te.timeout.getTimerLeft(),stopTimer:Uc,resumeTimer:Pi,toggleTimer:()=>{const b=Te.timeout;return b&&(b.running?Uc():Pi())},increaseTimer:b=>{if(Te.timeout){const C=Te.timeout.increase(b);return hn(C,!0),C}},isTimerRunning:()=>Te.timeout&&Te.timeout.isRunning(),bindClickHandler:function Mn(){Va[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ha||(document.body.addEventListener("click",Lo),ha=!0)}});let Ua;class gi{constructor(){if("undefined"==typeof window)return;Ua=this;for(var C=arguments.length,M=new Array(C),$=0;$<C;$++)M[$]=arguments[$];const xe=Object.freeze(this.constructor.argsToParams(M));Object.defineProperties(this,{params:{value:xe,writable:!1,enumerable:!0,configurable:!0}});const dt=this._main(this.params);bt.promise.set(this,dt)}_main(C){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(b=>{!b.backdrop&&b.allowOutsideClick&&k('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in b)Ue(C),b.toast&&$e(C),He(C)})(Object.assign({},M,C)),Te.currentInstance&&(Te.currentInstance._destroy(),Sr()&&Au()),Te.currentInstance=this;const $=Vo(C,M);Ou($),Object.freeze($),Te.timeout&&(Te.timeout.stop(),delete Te.timeout),clearTimeout(Te.restoreFocusTimeout);const xe=Ba(this);return Eo(this,$),bt.innerParams.set(this,$),fa(this,xe,$)}then(C){return bt.promise.get(this).then(C)}finally(C){return bt.promise.get(this).finally(C)}}const fa=(b,C,M)=>new Promise(($,xe)=>{const dt=Vn=>{b.closePopup({isDismissed:!0,dismiss:Vn})};nr.swalPromiseResolve.set(b,$),nr.swalPromiseReject.set(b,xe),C.confirmButton.onclick=()=>(b=>{const C=bt.innerParams.get(b);b.disableButtons(),C.input?Qs(b,"confirm"):ca(b,!0)})(b),C.denyButton.onclick=()=>(b=>{const C=bt.innerParams.get(b);b.disableButtons(),C.returnInputValueOnDeny?Qs(b,"deny"):No(b,!1)})(b),C.cancelButton.onclick=()=>((b,C)=>{b.disableButtons(),C(pr.cancel)})(b,dt),C.closeButton.onclick=()=>dt(pr.close),((b,C,M)=>{bt.innerParams.get(b).toast?ku(b,C,M):(xl(C),Jn(C),Mr(b,C,M))})(b,C,dt),((b,C,M,$)=>{_n(C),M.toast||(C.keydownHandler=xe=>vs(b,xe,$),C.keydownTarget=M.keydownListenerCapture?window:ue(),C.keydownListenerCapture=M.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(b,Te,M,dt),((b,C)=>{"select"===C.input||"radio"===C.input?Do(b,C):["text","email","number","tel","textarea"].includes(C.input)&&(ge(C.inputValue)||K(C.inputValue))&&(Mi(ut()),Hs(b,C))})(b,M),$i(M),Ih(Te,M,dt),jc(C,M),setTimeout(()=>{C.container.scrollTop=0})}),Vo=(b,C)=>{const M=(b=>{const C="string"==typeof b.template?document.querySelector(b.template):b.template;if(!C)return{};const M=C.content;return $s(M),Object.assign(Il(M),Su(M),Dl(M),xu(M),kc(M),Co(M,Cl))})(b),$=Object.assign({},se,C,M,b);return $.showClass=Object.assign({},se.showClass,$.showClass),$.hideClass=Object.assign({},se.hideClass,$.hideClass),$},Ba=b=>{const C={popup:ue(),container:ne(),actions:hr(),confirmButton:ut(),denyButton:rn(),cancelButton:Kt(),loader:dr(),closeButton:ln(),validationMessage:gt(),progressSteps:Wn()};return bt.domCache.set(b,C),C},Ih=(b,C,M)=>{const $=Tn();Xe($),C.timer&&(b.timeout=new Fc(()=>{M("timer"),delete b.timeout},C.timer),C.timerProgressBar&&(Dt($),yn($,C,"timerProgressBar"),setTimeout(()=>{b.timeout&&b.timeout.running&&hn(C.timer)})))},jc=(b,C)=>{if(!C.toast){if(!de(C.allowEnterKey))return jn();ja(b,C)||Gi(0,-1,1)}},ja=(b,C)=>C.focusDeny&&qt(b.denyButton)?(b.denyButton.focus(),!0):C.focusCancel&&qt(b.cancelButton)?(b.cancelButton.focus(),!0):!(!C.focusConfirm||!qt(b.confirmButton)||(b.confirmButton.focus(),0)),jn=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(gi.prototype,Ro),Object.assign(gi,Bc),Object.keys(Ro).forEach(b=>{gi[b]=function(){if(Ua)return Ua[b](...arguments)}}),gi.DismissReason=pr,gi.version="11.4.7";const $n=gi;return $n.default=$n,$n}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Se,V){var d=Se.createElement("style");if(Se.getElementsByTagName("head")[0].appendChild(d),d.styleSheet)d.styleSheet.disabled||(d.styleSheet.cssText=V);else try{d.innerHTML=V}catch(j){d.innerText=V}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},5987:(vt,Se,V)=>{"use strict";function de(ne,_e,he,ue){return new(he||(he=Promise))(function(fe,Ot){function mn(ut){try{gt(ue.next(ut))}catch(rn){Ot(rn)}}function Wn(ut){try{gt(ue.throw(ut))}catch(rn){Ot(rn)}}function gt(ut){ut.done?fe(ut.value):function Ve(fe){return fe instanceof he?fe:new he(function(Ot){Ot(fe)})}(ut.value).then(mn,Wn)}gt((ue=ue.apply(ne,_e||[])).next())})}function ve(ne){return this instanceof ve?(this.v=ne,this):new ve(ne)}function ye(ne,_e,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,ue=he.apply(ne,_e||[]),fe=[];return Ve={},Ot("next"),Ot("throw"),Ot("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function Ot(En){ue[En]&&(Ve[En]=function(dr){return new Promise(function(Kt,hr){fe.push([En,dr,Kt,hr])>1||mn(En,dr)})})}function mn(En,dr){try{!function Wn(En){En.value instanceof ve?Promise.resolve(En.value.v).then(gt,ut):rn(fe[0][2],En)}(ue[En](dr))}catch(Kt){rn(fe[0][3],Kt)}}function gt(En){mn("next",En)}function ut(En){mn("throw",En)}function rn(En,dr){En(dr),fe.shift(),fe.length&&mn(fe[0][0],fe[0][1])}}function $e(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,_e=ne[Symbol.asyncIterator];return _e?_e.call(ne):(ne=function se(ne){var _e="function"==typeof Symbol&&Symbol.iterator,he=_e&&ne[_e],ue=0;if(he)return he.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&ue>=ne.length&&(ne=void 0),{value:ne&&ne[ue++],done:!ne}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),he={},ue("next"),ue("throw"),ue("return"),he[Symbol.asyncIterator]=function(){return this},he);function ue(fe){he[fe]=ne[fe]&&function(Ot){return new Promise(function(mn,Wn){!function Ve(fe,Ot,mn,Wn){Promise.resolve(Wn).then(function(gt){fe({value:gt,done:mn})},Ot)}(mn,Wn,(Ot=ne[fe](Ot)).done,Ot.value)})}}}V.d(Se,{mG:()=>de,qq:()=>ve,FC:()=>ye,KL:()=>$e})},5e3:(vt,Se,V)=>{"use strict";V.d(Se,{deG:()=>qa,tb:()=>Pb,AFp:()=>q_,ip1:()=>G_,CZH:()=>lh,hGG:()=>ID,z2F:()=>Mc,sBO:()=>nv,Sil:()=>Aa,_Vd:()=>Ec,EJc:()=>z_,SBq:()=>mo,qLn:()=>Zh,vpe:()=>Ta,tBr:()=>Lr,XFs:()=>lt,OlP:()=>Dn,zs3:()=>Ji,ZZ4:()=>op,aQg:()=>mh,soG:()=>ch,YKP:()=>wu,h0i:()=>vu,PXZ:()=>cD,R0b:()=>Fs,FiY:()=>On,Lbi:()=>em,g9A:()=>Ob,Qsj:()=>Lg,FYo:()=>v_,JOm:()=>Ca,tp0:()=>xs,Rgc:()=>Cu,dDg:()=>nm,q4F:()=>w_,GfV:()=>Wd,s_b:()=>Xd,ifc:()=>Dt,eFA:()=>im,G48:()=>tv,Gpc:()=>K,X6Q:()=>fD,_c5:()=>dv,VLi:()=>aD,c2e:()=>kb,zSh:()=>py,wAp:()=>Mt,vHH:()=>Le,cg1:()=>_c,kL8:()=>r_,dqk:()=>Ct,sIi:()=>yf,CqO:()=>jr,QGY:()=>sl,F4k:()=>o0,RDi:()=>Vc,AaK:()=>de,qOj:()=>Dd,TTD:()=>ts,_Bn:()=>dl,xp6:()=>nu,uIk:()=>vf,ekj:()=>Wy,Suo:()=>N_,Xpm:()=>Lt,lG2:()=>le,Yz7:()=>Kt,cJS:()=>vr,oAB:()=>L,Yjl:()=>Be,Y36:()=>Ef,_UZ:()=>Ly,qZA:()=>Nt,TgZ:()=>_r,n5z:()=>Ha,LFG:()=>ee,$8M:()=>yr,$Z:()=>Fy,NdJ:()=>Vy,CRH:()=>cb,oxw:()=>Rd,Q6J:()=>nn,s9C:()=>cc,WLB:()=>T_,iGM:()=>k_,MAs:()=>Sy,LSH:()=>x,YNc:()=>Ay,_uU:()=>Yy,Oqu:()=>Yo,hij:()=>Sf});var d=V(7579),j=V(727),k=V(8306),oe=V(6451),ae=V(3099);function Ee(i){for(let s in i)if(i[s]===Ee)return s;throw Error("Could not find renamed property on target object.")}function ce(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ge(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const z=Ee({__forward_ref__:Ee});function K(i){return i.__forward_ref__=K,i.toString=function(){return de(this())},i}function se(i){return Ke(i)?i():i}function Ke(i){return"function"==typeof i&&i.hasOwnProperty(z)&&i.__forward_ref__===K}class Le extends Error{constructor(s,a){super(function je(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function ve(i){return"string"==typeof i?i:null==i?"":String(i)}function ye(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ve(i)}function rt(i,s){const a=s?` in ${s}`:"";throw new Le(-201,`No provider for ${ye(i)} found${a}`)}function gt(i,s){null==i&&function ut(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Kt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function vr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Tn(i){return ln(i,wr)||ln(i,Cn)}function ln(i,s){return i.hasOwnProperty(s)?i[s]:null}function Sr(i){return i&&(i.hasOwnProperty(ke)||i.hasOwnProperty(sn))?i[ke]:null}const wr=Ee({\u0275prov:Ee}),ke=Ee({\u0275inj:Ee}),Cn=Ee({ngInjectableDef:Ee}),sn=Ee({ngInjectorDef:Ee});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Nn;function cn(i){const s=Nn;return Nn=i,s}function Bn(i,s,a){const u=Tn(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&lt.Optional?null:void 0!==s?s:void rt(de(i),"Injector")}function wt(i){return{toString:i}.toString()}var dn=(()=>((dn=dn||{})[dn.OnPush=0]="OnPush",dn[dn.Default=1]="Default",dn))(),Dt=(()=>{return(i=Dt||(Dt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Dt;var i})();const Xe="undefined"!=typeof globalThis&&globalThis,_t="undefined"!=typeof window&&window,Nr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct=Xe||"undefined"!=typeof global&&global||_t||Nr,hn={},ct=[],qn=Ee({\u0275cmp:Ee}),Zt=Ee({\u0275dir:Ee}),Te=Ee({\u0275pipe:Ee}),Ae=Ee({\u0275mod:Ee}),it=Ee({\u0275fac:Ee}),Et=Ee({__NG_ELEMENT_ID__:Ee});let en=0;function Lt(i){return wt(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||ct,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Dt.Emulated,id:"c",styles:i.styles||ct,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,p=i.features,y=i.pipes;return u.id+=en++,u.inputs=q(i.inputs,a),u.outputs=q(i.outputs),p&&p.forEach(w=>w(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(G):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(Q):null,u})}function G(i){return We(i)||function At(i){return i[Zt]||null}(i)}function Q(i){return function st(i){return i[Te]||null}(i)}const we={};function L(i){return wt(()=>{const s={type:i.type,bootstrap:i.bootstrap||ct,declarations:i.declarations||ct,imports:i.imports||ct,exports:i.exports||ct,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(we[i.id]=i.type),s})}function q(i,s){if(null==i)return hn;const a={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),a[c]=u,s&&(s[c]=p)}return a}const le=Lt;function Be(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function We(i){return i[qn]||null}function Ut(i,s){const a=i[Ae]||null;if(!a&&!0===s)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return a}function ei(i){return Array.isArray(i)&&"object"==typeof i[1]}function Si(i){return Array.isArray(i)&&!0===i[1]}function fr(i){return 0!=(8&i.flags)}function ps(i){return 2==(2&i.flags)}function Eo(i){return 1==(1&i.flags)}function pr(i){return null!==i.template}function El(i){return 0!=(512&i[2])}function xi(i,s){return i.hasOwnProperty(it)?i[it]:null}class Al{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function ts(){return ji}function ji(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ma),$i}function $i(){const i=gr(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===hn)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Ma(i,s,a,u){const c=gr(i)||function Hi(i,s){return i[Sl]=s}(i,{previous:hn,current:null}),p=c.current||(c.current={}),y=c.previous,w=this.declaredInputs[a],I=y[w];p[w]=new Al(I&&I.currentValue,s,y===hn),i[u]=s}ts.ngInherit=!0;const Sl="__ngSimpleChanges__";function gr(i){return i[Sl]||null}let sa;function Vc(i){sa=i}function vn(i){return!!i.listen}const Gs={createRenderer:(i,s)=>function Do(){return void 0!==sa?sa:"undefined"!=typeof document?document:void 0}()};function Kn(i){for(;Array.isArray(i);)i=i[0];return i}function nr(i,s){return Kn(s[i])}function Cr(i,s){return Kn(s[i.index])}function Ao(i,s){return i.data[s]}function _n(i,s){const a=s[i];return ei(a)?a:a[0]}function _s(i){return 4==(4&i[2])}function Gi(i){return 128==(128&i[2])}function Zr(i,s){return null==s?null:i[s]}function vs(i){i[18]=0}function ns(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const mt={lFrame:ca(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Es(){return mt.bindingsEnabled}function Me(){return mt.lFrame.lView}function zt(){return mt.lFrame.tView}function xn(){let i=Cs();for(;null!==i&&64===i.type;)i=i.parent;return i}function Cs(){return mt.lFrame.currentTNode}function mr(i,s){const a=mt.lFrame;a.currentTNode=i,a.isParent=s}function Is(){return mt.lFrame.isParent}function Oo(){return mt.isInCheckNoChangesMode}function Zs(i){mt.isInCheckNoChangesMode=i}function qi(){return mt.lFrame.bindingIndex++}function Ds(i,s){const a=mt.lFrame;a.bindingIndex=a.bindingRootIndex=i,ko(s)}function ko(i){mt.lFrame.currentDirectiveIndex=i}function la(){return mt.lFrame.currentQueryIndex}function Qs(i){mt.lFrame.currentQueryIndex=i}function ka(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function No(i,s,a){if(a&lt.SkipSelf){let c=s,p=i;for(;!(c=c.parent,null!==c||a&lt.Host||(c=ka(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;s=c,i=p}const u=mt.lFrame=Xs();return u.currentTNode=s,u.lView=i,!0}function Js(i){const s=Xs(),a=i[1];mt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Xs(){const i=mt.lFrame,s=null===i?null:i.child;return null===s?ca(i):s}function ca(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Fo(){const i=mt.lFrame;return mt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ku=Fo;function eo(){const i=Fo();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Jn(){return mt.lFrame.selectedIndex}function Mr(i){mt.lFrame.selectedIndex=i}function Ln(){const i=mt.lFrame;return Ao(i.tView,i.selectedIndex)}function Pi(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:O}=p;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=O&&(i.destroyHooks||(i.destroyHooks=[])).push(a,O)}}function La(i,s,a){ha(i,s,3,a)}function to(i,s,a,u){(3&i[2])===a&&ha(i,s,a,u)}function Lu(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function ha(i,s,a,u){const p=null!=u?u:-1,y=s.length-1;let w=0;for(let I=void 0!==u?65535&i[18]:0;I<y;I++)if("number"==typeof s[I+1]){if(w=s[I],null!=u&&w>=u)break}else s[I]<0&&(i[18]+=65536),(w<p||-1==p)&&(Va(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function Va(i,s,a,u){const c=a[u]<0,p=a[u+1],w=i[c?-a[u]:a[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Lo{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function ja(i,s,a){const u=vn(i);let c=0;for(;c<a.length;){const p=a[c];if("number"==typeof p){if(0!==p)break;c++;const y=a[c++],w=a[c++],I=a[c++];u?i.setAttribute(s,w,I,y):s.setAttributeNS(y,w,I)}else{const y=p,w=a[++c];$n(y)?u&&i.setProperty(s,y,w):u?i.setAttribute(s,y,w):s.setAttribute(y,w),c++}}return c}function jn(i){return 3===i||4===i||6===i}function $n(i){return 64===i.charCodeAt(0)}function b(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?a=c:0===a||C(i,a,c,null,-1===a||2===a?s[++u]:null)}}return i}function C(i,s,a,u,c){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==c&&(i[p+1]=c));if(u===i[p+1])return void(i[p+2]=c)}p++,null!==u&&p++,null!==c&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,a),null!==u&&i.splice(p++,0,u),null!==c&&i.splice(p++,0,c)}function M(i){return-1!==i}function $(i){return 32767&i}function dt(i,s){let a=function xe(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Vn=!0;function ar(i){const s=Vn;return Vn=i,s}let Qt=0;function $a(i,s){const a=no(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,pa(u.data,i),pa(s,null),pa(u.blueprint,null));const c=Or(i,s),p=i.injectorIndex;if(M(c)){const y=$(c),w=dt(c,s),I=w[1].data;for(let S=0;S<8;S++)s[p+S]=w[y+S]|I[y+S]}return s[p+8]=c,p}function pa(i,s){i.push(0,0,0,0,0,0,0,0,s)}function no(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Or(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,c=s;for(;null!==c;){const p=c[1],y=p.type;if(u=2===y?p.declTNode:1===y?c[6]:null,null===u)return-1;if(a++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Ts(i,s,a){!function Dh(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Et)&&(u=a[Et]),null==u&&(u=a[Et]=Qt++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function rs(i,s,a){if(a&lt.Optional)return i;rt(s,"NodeInjector")}function Vu(i,s,a,u){if(a&lt.Optional&&void 0===u&&(u=null),0==(a&(lt.Self|lt.Host))){const c=i[9],p=cn(void 0);try{return c?c.get(s,u,a&lt.Optional):Bn(s,u,a&lt.Optional)}finally{cn(p)}}return rs(u,s,a)}function Ol(i,s,a,u=lt.Default,c){if(null!==i){const p=function Ah(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Et)?i[Et]:void 0;return"number"==typeof s?s>=0?255&s:ga:s}(a);if("function"==typeof p){if(!No(s,i,u))return u&lt.Host?rs(c,a,u):Vu(s,a,u,c);try{const y=p(u);if(null!=y||u&lt.Optional)return y;rt(a)}finally{ku()}}else if("number"==typeof p){let y=null,w=no(i,s),I=-1,S=u&lt.Host?s[16][6]:null;for((-1===w||u&lt.SkipSelf)&&(I=-1===w?Or(i,s):s[w+8],-1!==I&&Pl(u,!1)?(y=s[1],w=$(I),s=dt(I,s)):w=-1);-1!==w;){const O=s[1];if(zi(p,w,O.data)){const U=Th(w,s,a,y,u,S);if(U!==Uo)return U}I=s[w+8],-1!==I&&Pl(u,s[1].data[w+8]===S)&&zi(p,w,s)?(y=O,w=$(I),s=dt(I,s)):w=-1}}}return Vu(s,a,u,c)}const Uo={};function ga(){return new tn(xn(),Me())}function Th(i,s,a,u,c,p){const y=s[1],w=y.data[i+8],O=Ni(w,y,a,null==u?ps(w)&&Vn:u!=y&&0!=(3&w.type),c&lt.Host&&p===w);return null!==O?is(s,y,O,w):Uo}function Ni(i,s,a,u,c){const p=i.providerIndexes,y=s.data,w=1048575&p,I=i.directiveStart,O=p>>20,W=c?w+O:i.directiveEnd;for(let re=u?w:w+O;re<W;re++){const Ce=y[re];if(re<I&&a===Ce||re>=I&&Ce.type===a)return re}if(c){const re=y[I];if(re&&pr(re)&&re.type===a)return I}return null}function is(i,s,a,u){let c=i[a];const p=s.data;if(function Bc(i){return i instanceof Lo}(c)){const y=c;y.resolving&&function Ue(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Le(-200,`Circular dependency in DI detected for ${i}${a}`)}(ye(p[a]));const w=ar(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?cn(y.injectImpl):null;No(i,u,lt.Default);try{c=i[a]=y.factory(void 0,p,i,u),s.firstCreatePass&&a>=u.directiveStart&&function Uc(i,s,a){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:p}=s.type.prototype;if(u){const y=ji(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==I&&cn(I),ar(w),y.resolving=!1,ku()}}return c}function zi(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Pl(i,s){return!(i&lt.Self||i&lt.Host&&s)}class tn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Ol(this._tNode,this._lView,s,u,a)}}function Ha(i){return wt(()=>{const s=i.prototype.constructor,a=s[it]||Ga(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const p=c[it]||Ga(c);if(p&&p!==a)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function Ga(i){return Ke(i)?()=>{const s=Ga(se(i));return s&&s()}:xi(i)}function yr(i){return function $c(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let c=0;for(;c<u;){const p=a[c];if(jn(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<u&&"string"==typeof a[c];)c++;else{if(p===s)return a[c+1];c+=2}}}return null}(xn(),i)}const Wi="__parameters__";function Ir(i,s,a){return wt(()=>{const u=function Zi(i){return function(...a){if(i){const u=i(...a);for(const c in u)this[c]=u[c]}}}(s);function c(...p){if(this instanceof c)return u.apply(this,p),this;const y=new c(...p);return w.annotation=y,w;function w(I,S,O){const U=I.hasOwnProperty(Wi)?I[Wi]:Object.defineProperty(I,Wi,{value:[]})[Wi];for(;U.length<=O;)U.push(null);return(U[O]=U[O]||[]).push(y),I}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Dn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Kt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const qa=new Dn("AnalyzeForEntryComponents");function mi(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),mi(u,s)):s!==i&&s.push(u)}return s}function os(i,s){i.forEach(a=>Array.isArray(a)?os(a,s):s(a))}function Uu(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function za(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function St(i,s,a){let u=yi(i,s);return u>=0?i[1|u]=a:(u=~u,function Rl(i,s,a,u){let c=i.length;if(c==s)i.push(a,u);else if(1===c)i.push(u,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function Wa(i,s){const a=yi(i,s);if(a>=0)return i[1|a]}function yi(i,s){return function kl(i,s,a){let u=0,c=i.length>>a;for(;c!==u;){const p=u+(c-u>>1),y=i[p<<a];if(s===y)return p<<a;y>s?c=p:u=p+1}return~(c<<a)}(i,s,1)}const lr={},$u="__NG_DI_FLAG__",ba="ngTempTokenPath",Wc=/\n/gm,Ll="__source",D=Ee({provide:String,useValue:Ee});let T;function P(i){const s=T;return T=i,s}function H(i,s=lt.Default){if(void 0===T)throw new Le(203,"");return null===T?Bn(i,void 0,s):T.get(i,s&lt.Optional?null:void 0,s)}function ee(i,s=lt.Default){return(function yn(){return Nn}()||H)(se(i),s)}function ot(i){const s=[];for(let a=0;a<i.length;a++){const u=se(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Le(900,"");let c,p=lt.Default;for(let y=0;y<u.length;y++){const w=u[y],I=Ft(w);"number"==typeof I?-1===I?c=w.token:p|=I:c=w}s.push(ee(c,p))}else s.push(ee(u))}return s}function Tt(i,s){return i[$u]=s,i.prototype[$u]=s,i}function Ft(i){return i[$u]}const Lr=Tt(Ir("Inject",i=>({token:i})),-1),On=Tt(Ir("Optional"),8),xs=Tt(Ir("SkipSelf"),4);class td{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ao(i){return i instanceof td?i.changingThisBreaksApplicationSecurity:i}const Om=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var f=(()=>((f=f||{})[f.NONE=0]="NONE",f[f.HTML=1]="HTML",f[f.STYLE=2]="STYLE",f[f.SCRIPT=3]="SCRIPT",f[f.URL=4]="URL",f[f.RESOURCE_URL=5]="RESOURCE_URL",f))();function x(i){const s=function Tr(){const i=Me();return i&&i[12]}();return s?s.sanitize(f.URL,i)||"":function jl(i,s){const a=function Tm(i){return i instanceof td&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?ao(i):function id(i){return(i=String(i)).match(Om)||i.match(qu)?i:"unsafe:"+i}(ve(i))}const Zu="__ngContext__";function Vr(i,s){i[Zu]=s}function ad(i){const s=function Xa(i){return i[Zu]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function km(i){return i.ngOriginalError}function Wh(i,...s){i.error(...s)}class Zh{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function HE(i){return i&&i.ngErrorLogger||Wh}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&km(s);for(;a&&km(a);)a=km(a);return a||null}}const jv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ct))();function eu(i){return i instanceof Function?i():i}var Ca=(()=>((Ca=Ca||{})[Ca.Important=1]="Important",Ca[Ca.DashCase=2]="DashCase",Ca))();function Lm(i,s){return undefined(i,s)}function Zl(i){const s=i[3];return Si(s)?s[3]:s}function Vm(i){return Um(i[13])}function Kh(i){return Um(i[4])}function Um(i){for(;null!==i&&!Si(i);)i=i[4];return i}function cd(i,s,a,u,c){if(null!=u){let p,y=!1;Si(u)?p=u:ei(u)&&(y=!0,u=u[0]);const w=Kn(u);0===i&&null!==a?null==c?Ku(s,a,w):dd(s,a,w,c||null,!0):1===i&&null!==a?dd(s,a,w,c||null,!0):2===i?function ew(i,s,a){const u=Rp(i,s);u&&function uC(i,s,a,u){vn(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}(s,w,y):3===i&&s.destroyNode(w),null!=p&&function lC(i,s,a,u,c){const p=a[7];p!==Kn(a)&&cd(s,i,u,p,c);for(let w=10;w<a.length;w++){const I=a[w];Yh(I[1],I,i,s,u,p)}}(s,i,p,a,c)}}function jm(i,s,a){return vn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function Kl(i,s){const a=i[9],u=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,ns(c,-1)),a.splice(u,1)}function Gm(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const c=u[17];null!==c&&c!==i&&Kl(c,u),s>0&&(i[a-1][4]=u[4]);const p=za(i,10+s);!function sC(i,s){Yh(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Wv(i,s){if(!(256&s[2])){const a=s[11];vn(a)&&a.destroyNode&&Yh(i,s,a,3,null,null),function Mp(i){let s=i[13];if(!s)return Op(i[1],i);for(;s;){let a=null;if(ei(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)ei(s)&&Op(s[1],s),s=s[3];null===s&&(s=i),ei(s)&&Op(s[1],s),a=s&&s[4]}s=a}}(s)}}function Op(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Zv(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const c=s[a[u]];if(!(c instanceof Lo)){const p=a[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=c[p[y]],I=p[y+1];try{I.call(w)}finally{}}else try{p.call(c)}finally{}}}}(i,s),function aC(i,s){const a=i.cleanup,u=s[7];let c=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],w="function"==typeof y?y(s):Kn(s[y]),I=u[c=a[p+2]],S=a[p+3];"boolean"==typeof S?w.removeEventListener(a[p],I,S):S>=0?u[c=S]():u[c=-S].unsubscribe(),p+=2}else{const y=u[c=a[p+1]];a[p].call(y)}if(null!==u){for(let p=c+1;p<u.length;p++)u[p]();s[7]=null}}(i,s),1===s[1].type&&vn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Si(s[3])){a!==s[3]&&Kl(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function qm(i,s,a){return function Pp(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===Dt.None||c===Dt.Emulated)return null}return Cr(u,a)}(i,s.parent,a)}function dd(i,s,a,u,c){vn(i)?i.insertBefore(s,a,u,c):s.insertBefore(a,u,c)}function Ku(i,s,a){vn(i)?i.appendChild(s,a):s.appendChild(a)}function zm(i,s,a,u,c){null!==u?dd(i,s,a,u,c):Ku(i,s,a)}function Rp(i,s){return vn(i)?i.parentNode(s):s.parentNode}let Jv=function Qv(i,s,a){return 40&i.type?Cr(i,a):null};function Np(i,s,a,u){const c=qm(i,u,s),p=s[11],w=function Yv(i,s,a){return Jv(i,s,a)}(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(a))for(let I=0;I<a.length;I++)zm(p,c,a[I],w,!1);else zm(p,c,a,w,!1)}function Fp(i,s){if(null!==s){const a=s.type;if(3&a)return Cr(s,i);if(4&a)return Wm(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Fp(i,u);{const c=i[s.index];return Si(c)?Wm(-1,c):Kn(c)}}if(32&a)return Lm(s,i)()||Kn(i[s.index]);{const u=Lp(i,s);return null!==u?Array.isArray(u)?u[0]:Fp(Zl(i[16]),u):Fp(i,s.next)}}return null}function Lp(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Wm(i,s){const a=10+i+1;if(a<s.length){const u=s[a],c=u[1].firstChild;if(null!==c)return Fp(u,c)}return s[7]}function Vp(i,s,a,u,c,p,y){for(;null!=a;){const w=u[a.index],I=a.type;if(y&&0===s&&(w&&Vr(Kn(w),u),a.flags|=4),64!=(64&a.flags))if(8&I)Vp(i,s,a.child,u,c,p,!1),cd(s,i,c,w,p);else if(32&I){const S=Lm(a,u);let O;for(;O=S();)cd(s,i,c,O,p);cd(s,i,c,w,p)}else 16&I?tw(i,s,u,a,c,p):cd(s,i,c,w,p);a=y?a.projectionNext:a.next}}function Yh(i,s,a,u,c,p){Vp(a,u,i.firstChild,s,c,p,!1)}function tw(i,s,a,u,c,p){const y=a[16],I=y[6].projection[u.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)cd(s,i,c,I[S],p);else Vp(i,s,I,y[3],c,p,!0)}function nw(i,s,a){vn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Zm(i,s,a){vn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function rw(i,s,a){let u=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const p=s.length;if(c+p===u||i.charCodeAt(c+p)<=32)return c}a=c+1}}const iw="ng-template";function dC(i,s,a){let u=0;for(;u<i.length;){let c=i[u++];if(a&&"class"===c){if(c=i[u],-1!==rw(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function sw(i){return 4===i.type&&i.value!==iw}function hC(i,s,a){return s===(4!==i.type||a?i.value:iw)}function De(i,s,a){let u=4;const c=i.attrs||[],p=function Km(i){for(let s=0;s<i.length;s++)if(jn(i[s]))return s;return i.length}(c);let y=!1;for(let w=0;w<s.length;w++){const I=s[w];if("number"!=typeof I){if(!y)if(4&u){if(u=2|1&u,""!==I&&!hC(i,I,a)||""===I&&1===s.length){if(Ho(u))return!1;y=!0}}else{const S=8&u?I:s[++w];if(8&u&&null!==i.attrs){if(!dC(i.attrs,S,a)){if(Ho(u))return!1;y=!0}continue}const U=ow(8&u?"class":I,c,sw(i),a);if(-1===U){if(Ho(u))return!1;y=!0;continue}if(""!==S){let W;W=U>p?"":c[U+1].toLowerCase();const re=8&u?W:null;if(re&&-1!==rw(re,S,0)||2&u&&S!==W){if(Ho(u))return!1;y=!0}}}}else{if(!y&&!Ho(u)&&!Ho(I))return!1;if(y&&Ho(I))continue;y=!1,u=I|1&u}}return Ho(u)||y}function Ho(i){return 0==(1&i)}function ow(i,s,a,u){if(null===s)return-1;let c=0;if(u||!a){let p=!1;for(;c<s.length;){const y=s[c];if(y===i)return c;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=s[++c];for(;"string"==typeof w;)w=s[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=p?1:2}return-1}return function fC(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function aw(i,s,a=!1){for(let u=0;u<s.length;u++)if(De(i,s[u],a))return!0;return!1}function co(i,s){return i?":not("+s.trim()+")":s}function BT(i){let s=i[0],a=1,u=2,c="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&u){const w=i[++a];c+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?c+="."+y:4&u&&(c+=" "+y);else""!==c&&!Ho(y)&&(s+=co(p,c),c=""),u=y,p=p||!Ho(u);a++}return""!==c&&(s+=co(p,c)),s}const Ht={};function nu(i){an(zt(),Me(),Jn()+i,Oo())}function an(i,s,a,u){if(!u)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&La(s,p,a)}else{const p=i.preOrderHooks;null!==p&&to(s,p,0,a)}Mr(a)}function ho(i,s){return i<<17|s<<2}function et(i){return i>>17&32767}function hd(i){return 2|i}function Go(i){return(131068&i)>>2}function Yl(i,s){return-131069&i|s<<2}function Qh(i){return 1|i}function _i(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const c=a[u],p=a[u+1];if(-1!==p){const y=i.data[p];Qs(c),y.contentQueries(2,s[p],p)}}}function iu(i,s,a,u,c,p,y,w,I,S){const O=s.blueprint.slice();return O[0]=c,O[2]=140|u,vs(O),O[3]=O[15]=i,O[8]=a,O[10]=y||i&&i[10],O[11]=w||i&&i[11],O[12]=I||i&&i[12]||null,O[9]=S||i&&i[9]||null,O[6]=p,O[16]=2==s.type?i[16]:O,O}function fd(i,s,a,u,c){let p=i.data[s];if(null===p)p=function ey(i,s,a,u,c){const p=Cs(),y=Is(),I=i.data[s]=function ny(i,s,a,u,c,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,u,c);return null===i.firstChild&&(i.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}(i,s,a,u,c),function Po(){return mt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=c;const y=function zs(){const i=mt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return mr(p,!0),p}function su(i,s,a,u){if(0===a)return-1;const c=s.length;for(let p=0;p<a;p++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function Qu(i,s,a){Js(s);try{const u=i.viewQuery;null!==u&&Xp(1,u,a);const c=i.template;null!==c&&qp(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&_i(i,s),i.staticViewQueries&&Xp(2,i.viewQuery,a);const p=i.components;null!==p&&function CC(i,s){for(let a=0;a<s.length;a++)Ow(i,s[a])}(s,p)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,eo()}}function Ju(i,s,a,u){const c=s[2];if(256==(256&c))return;Js(s);const p=Oo();try{vs(s),function ua(i){return mt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&qp(i,s,a,2,u);const y=3==(3&c);if(!p)if(y){const S=i.preOrderCheckHooks;null!==S&&La(s,S,null)}else{const S=i.preOrderHooks;null!==S&&to(s,S,0,null),Lu(s,0)}if(function Jl(i){for(let s=Vm(i);null!==s;s=Kh(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const c=a[u],p=c[3];0==(1024&c[2])&&ns(p,1),c[2]|=1024}}}(s),function OC(i){for(let s=Vm(i);null!==s;s=Kh(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1];Gi(u)&&Ju(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&_i(i,s),!p)if(y){const S=i.contentCheckHooks;null!==S&&La(s,S)}else{const S=i.contentHooks;null!==S&&to(s,S,1),Lu(s,1)}!function EC(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const c=a[u];if(c<0)Mr(~c);else{const p=c,y=a[++u],w=a[++u];Ds(y,p),w(2,s[p])}}}finally{Mr(-1)}}(i,s);const w=i.components;null!==w&&function nf(i,s){for(let a=0;a<s.length;a++)Mw(i,s[a])}(s,w);const I=i.viewQuery;if(null!==I&&Xp(2,I,u),!p)if(y){const S=i.viewCheckHooks;null!==S&&La(s,S)}else{const S=i.viewHooks;null!==S&&to(s,S,2),Lu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ns(s[3],-1))}finally{eo()}}function ty(i,s,a,u){const c=s[10],p=!Oo(),y=_s(s);try{p&&!y&&c.begin&&c.begin(),y&&Qu(i,s,u),Ju(i,s,a,u)}finally{p&&!y&&c.end&&c.end()}}function qp(i,s,a,u,c){const p=Jn(),y=2&u;try{Mr(-1),y&&s.length>20&&an(i,s,20,Oo()),a(u,c)}finally{Mr(p)}}function Wp(i,s,a){!Es()||(function Tw(i,s,a,u){const c=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||$a(a,s),Vr(u,s);const y=a.initialInputs;for(let w=c;w<p;w++){const I=i.data[w],S=pr(I);S&&Sw(s,a,I);const O=is(s,i,w,a);Vr(O,s),null!==y&&xC(0,w-c,O,I,0,y),S&&(_n(a.index,s)[8]=O)}}(i,s,a,Cr(a,s)),128==(128&a.flags)&&function AC(i,s,a){const u=a.directiveStart,c=a.directiveEnd,y=a.index,w=function Ro(){return mt.lFrame.currentDirectiveIndex}();try{Mr(y);for(let I=u;I<c;I++){const S=i.data[I],O=s[I];ko(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&of(S,O)}}finally{Mr(-1),ko(w)}}(i,s,a))}function Zp(i,s,a=Cr){const u=s.localNames;if(null!==u){let c=s.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],w=-1===y?a(s,i):i[y];i[c++]=w}}}function bw(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=rf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function rf(i,s,a,u,c,p,y,w,I,S){const O=20+u,U=O+c,W=function Ew(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:Ht);return a}(O,U),re="function"==typeof S?S():S;return W[1]={type:i,blueprint:W,template:a,queries:null,viewQuery:w,declTNode:s,data:W.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:re,incompleteFirstPass:!1}}function Yp(i,s,a,u){const c=tg(s);null===a?c.push(u):(c.push(a),i.firstCreatePass&&ng(i).push(u,c.length-1))}function Qp(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,c):a[u]=[s,c]}return a}function Li(i,s,a,u,c,p,y,w){const I=Cr(s,a);let O,S=s.inputs;!w&&null!=S&&(O=S[u])?(dy(i,a,O,u,c),ps(s)&&function ry(i,s){const a=_n(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function vi(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=y?y(c,s.value||"",u):c,vn(p)?p.setProperty(I,u,c):$n(u)||(I.setProperty?I.setProperty(u,c):I[u]=c))}function sf(i,s,a,u){let c=!1;if(Es()){const p=function oy(i,s,a){const u=i.directiveRegistry;let c=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];aw(a,y.selectors,!1)&&(c||(c=[]),Ts($a(a,s),i,y.type),pr(y)?(Jp(i,a),c.unshift(y)):c.push(y))}return c}(i,s,a),y=null===u?null:{"":-1};if(null!==p){c=!0,pd(a,i.data.length,p.length);for(let O=0;O<p.length;O++){const U=p[O];U.providersResolver&&U.providersResolver(U)}let w=!1,I=!1,S=su(i,s,p.length,null);for(let O=0;O<p.length;O++){const U=p[O];a.mergedAttrs=b(a.mergedAttrs,U.hostAttrs),ay(i,a,s,S,U),SC(S,U,y),null!==U.contentQueries&&(a.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(a.flags|=128);const W=U.type.prototype;!w&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!I&&(W.ngOnChanges||W.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),S++}!function ri(i,s){const u=s.directiveEnd,c=i.data,p=s.attrs,y=[];let w=null,I=null;for(let S=s.directiveStart;S<u;S++){const O=c[S],U=O.inputs,W=null===p||sw(s)?null:MC(U,p);y.push(W),w=Qp(U,S,w),I=Qp(O.outputs,S,I)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=w,s.outputs=I}(i,a)}y&&function Aw(i,s,a){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const p=a[s[c+1]];if(null==p)throw new Le(-301,`Export of name '${s[c+1]}' not found!`);u.push(s[c],p)}}}(a,u,y)}return a.mergedAttrs=b(a.mergedAttrs,a.attrs),c}function Dw(i,s,a,u,c,p){const y=p.hostBindings;if(y){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const I=~s.index;(function sy(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=I&&w.push(I),w.push(u,c,y)}}function of(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Jp(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function SC(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;pr(s)&&(a[""]=i)}}function pd(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function ay(i,s,a,u,c){i.data[u]=c;const p=c.factory||(c.factory=xi(c.type)),y=new Lo(p,pr(c),null);i.blueprint[u]=y,a[u]=y,Dw(i,s,0,u,su(i,a,c.hostVars,Ht),c)}function Sw(i,s,a){const u=Cr(s,i),c=bw(a),p=i[10],y=lf(i,iu(i,c,null,a.onPush?64:16,u,s,p,p.createRenderer(u,a),null,null));i[s.index]=y}function qo(i,s,a,u,c,p){const y=Cr(i,s);!function gd(i,s,a,u,c,p,y){if(null==p)vn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const w=null==y?ve(p):y(p,u||"",c);vn(i)?i.setAttribute(s,c,w,a):a?s.setAttributeNS(a,c,w):s.setAttribute(c,w)}}(s[11],y,p,i.value,a,u,c)}function xC(i,s,a,u,c,p){const y=p[s];if(null!==y){const w=u.setInput;for(let I=0;I<y.length;){const S=y[I++],O=y[I++],U=y[I++];null!==w?u.setInput(a,U,S,O):a[O]=U}}}function MC(i,s){let a=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return a}function xw(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function Mw(i,s){const a=_n(s,i);if(Gi(a)){const u=a[1];80&a[2]?Ju(u,a,u.template,a[8]):a[5]>0&&md(a)}}function md(i){for(let u=Vm(i);null!==u;u=Kh(u))for(let c=10;c<u.length;c++){const p=u[c];if(1024&p[2]){const y=p[1];Ju(y,p,y.template,p[8])}else p[5]>0&&md(p)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const c=_n(a[u],i);Gi(c)&&c[5]>0&&md(c)}}function Ow(i,s){const a=_n(s,i),u=a[1];(function uf(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),Qu(u,a,a[8])}function lf(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function wi(i){for(;i;){i[2]|=64;const s=Zl(i);if(El(i)&&!s)return i;i=s}return null}function yd(i,s,a){const u=s[10];u.begin&&u.begin();try{Ju(i,s,i.template,a)}catch(c){throw _d(s,c),c}finally{u.end&&u.end()}}function uy(i){!function Xl(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=ad(a),c=u[1];ty(c,u,c.template,a)}}(i[8])}function Xp(i,s,a){Qs(0),s(i,a)}const cy=(()=>Promise.resolve(null))();function tg(i){return i[7]||(i[7]=[])}function ng(i){return i.cleanup||(i.cleanup=[])}function _d(i,s){const a=i[9],u=a?a.get(Zh,null):null;u&&u.handleError(s)}function dy(i,s,a,u,c){for(let p=0;p<a.length;){const y=a[p++],w=a[p++],I=s[y],S=i.data[y];null!==S.setInput?S.setInput(I,c,u,w):I[w]=c}}function ou(i,s,a){const u=nr(s,i);!function qv(i,s,a){vn(i)?i.setValue(s,a):s.textContent=a}(i[11],u,a)}function vd(i,s,a){let u=a?i.styles:null,c=a?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?p=w:1==p?c=ge(c,w):2==p&&(u=ge(u,w+": "+s[++y]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=c:i.classesWithoutHost=c}const ig=new Dn("INJECTOR",-1);class fy{get(s,a=lr){if(a===lr){const u=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw u.name="NullInjectorError",u}return a}}const py=new Dn("Set Injector scope."),au={},kw={};let wd;function bd(){return void 0===wd&&(wd=new fy),wd}function Xu(i,s=null,a=null,u){const c=sg(i,s,a,u);return c._resolveInjectorDefTypes(),c}function sg(i,s=null,a=null,u){return new RC(i,a,s||bd(),u)}class RC{constructor(s,a,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&os(a,w=>this.processProvider(w,s,a)),os([s],w=>this.processInjectorType(w,[],p)),this.records.set(ig,ec(void 0,this));const y=this.records.get(py);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof s?null:de(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=lr,u=lt.Default){this.assertNotDestroyed();const c=P(this),p=cn(void 0);try{if(!(u&lt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const I=function cr(i){return"function"==typeof i||"object"==typeof i&&i instanceof Dn}(s)&&Tn(s);w=I&&this.injectableDefInScope(I)?ec(df(s),au):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(u&lt.Self?bd():this.parent).get(s,a=u&lt.Optional&&a===lr?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[ba]=y[ba]||[]).unshift(de(s)),c)throw y;return function fn(i,s,a,u){const c=i[ba];throw s[Ll]&&c.unshift(s[Ll]),i.message=function Vt(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=de(s);if(Array.isArray(s))c=s.map(de).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):de(w)))}c=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${c}]: ${i.replace(Wc,"\n  ")}`}("\n"+i.message,c,a,u),i.ngTokenPath=c,i[ba]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{cn(p),P(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(de(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,"")}processInjectorType(s,a,u){if(!(s=se(s)))return!1;let c=Sr(s);const p=null==c&&s.ngModule||void 0,y=void 0===p?s:p,w=-1!==u.indexOf(y);if(void 0!==p&&(c=Sr(p)),null==c)return!1;if(null!=c.imports&&!w){let O;u.push(y);try{os(c.imports,U=>{this.processInjectorType(U,a,u)&&(void 0===O&&(O=[]),O.push(U))})}finally{}if(void 0!==O)for(let U=0;U<O.length;U++){const{ngModule:W,providers:re}=O[U];os(re,Ce=>this.processProvider(Ce,W,re||ct))}}this.injectorDefTypes.add(y);const I=xi(y)||(()=>new y);this.records.set(y,ec(I,au));const S=c.providers;if(null!=S&&!w){const O=s;os(S,U=>this.processProvider(U,O,S))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,u){let c=lu(s=se(s))?s:se(s&&s.provide);const p=function gy(i,s,a){return Nw(i)?ec(void 0,i.useValue):ec(el(i),au)}(s);if(lu(s)||!0!==s.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=ec(void 0,au,!0),y.factory=()=>ot(y.multi),this.records.set(c,y)),c=s,y.multi.push(s)}this.records.set(c,p)}hydrate(s,a){return a.value===au&&(a.value=kw,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Fw(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=se(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function df(i){const s=Tn(i),a=null!==s?s.factory:xi(i);if(null!==a)return a;if(i instanceof Dn)throw new Le(204,"");if(i instanceof Function)return function Ed(i){const s=i.length;if(s>0)throw function Bo(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}(s,"?"),new Le(204,"");const a=function An(i){const s=i&&(i[wr]||i[Cn]);if(s){const a=function di(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Le(204,"")}function el(i,s,a){let u;if(lu(i)){const c=se(i);return xi(c)||df(c)}if(Nw(i))u=()=>se(i.useValue);else if(function uu(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...ot(i.deps||[]));else if(function tc(i){return!(!i||!i.useExisting)}(i))u=()=>ee(se(i.useExisting));else{const c=se(i&&(i.useClass||i.provide));if(!function ag(i){return!!i.deps}(i))return xi(c)||df(c);u=()=>new c(...ot(i.deps))}return u}function ec(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Nw(i){return null!==i&&"object"==typeof i&&D in i}function lu(i){return"function"==typeof i}let Ji=(()=>{class i{static create(a,u){var c;if(Array.isArray(a))return Xu({name:""},u,a,"");{const p=null!==(c=a.name)&&void 0!==c?c:"";return Xu({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=lr,i.NULL=new fy,i.\u0275prov=Kt({token:i,providedIn:"any",factory:()=>ee(ig)}),i.__NG_ELEMENT_ID__=-1,i})();function BC(i,s){Pi(ad(i)[1],xn())}function Dd(i){let s=function zw(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let c;if(pr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Le(903,"");c=s.\u0275dir}if(c){if(a){u.push(c);const y=i;y.inputs=Td(i.inputs),y.declaredInputs=Td(i.declaredInputs),y.outputs=Td(i.outputs);const w=c.hostBindings;w&&pf(i,w);const I=c.viewQuery,S=c.contentQueries;if(I&&by(i,I),S&&Ww(i,S),ce(i.inputs,c.inputs),ce(i.declaredInputs,c.declaredInputs),ce(i.outputs,c.outputs),pr(c)&&c.data.animation){const O=i.data;O.animation=(O.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(i),w===Dd&&(a=!1)}}s=Object.getPrototypeOf(s)}!function ff(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=b(c.hostAttrs,a=b(a,c.hostAttrs))}}(u)}function Td(i){return i===hn?{}:i===ct?[]:i}function by(i,s){const a=i.viewQuery;i.viewQuery=a?(u,c)=>{s(u,c),a(u,c)}:s}function Ww(i,s){const a=i.contentQueries;i.contentQueries=a?(u,c,p)=>{s(u,c,p),a(u,c,p)}:s}function pf(i,s){const a=i.hostBindings;i.hostBindings=a?(u,c)=>{s(u,c),a(u,c)}:s}let mf=null;function Ad(){if(!mf){const i=Ct.Symbol;if(i&&i.iterator)mf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(mf=u)}}}return mf}function yf(i){return!!cg(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ad()in i)}function cg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function bi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function vf(i,s,a,u){const c=Me();return bi(c,qi(),s)&&(zt(),qo(Ln(),c,i,s,a,u)),vf}function nc(i,s,a,u){return bi(i,qi(),a)?s+ve(a)+u:Ht}function Ay(i,s,a,u,c,p,y,w){const I=Me(),S=zt(),O=i+20,U=S.firstCreatePass?function sc(i,s,a,u,c,p,y,w,I){const S=s.consts,O=fd(s,i,4,y||null,Zr(S,w));sf(s,a,O,Zr(S,I)),Pi(s,O);const U=O.tViews=rf(2,O,u,c,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,O),U.queries=s.queries.embeddedTView(O)),O}(O,S,I,s,a,u,c,p,y):S.data[O];mr(U,!1);const W=I[11].createComment("");Np(S,I,W,U),Vr(W,I),lf(I,I[O]=xw(W,I,W,U)),Eo(U)&&Wp(S,I,U),null!=y&&Zp(I,U,w)}function Sy(i){return function ys(i,s){return i[s]}(function Ra(){return mt.lFrame.contextLView}(),20+i)}function Ef(i,s=lt.Default){const a=Me();return null===a?ee(i,s):Ol(xn(),a,se(i),s)}function Fy(){throw new Error("invalid")}function nn(i,s,a){const u=Me();return bi(u,qi(),s)&&Li(zt(),Ln(),u,i,s,u[11],a,!1),nn}function il(i,s,a,u,c){const y=c?"class":"style";dy(i,a,s.inputs[y],y,u)}function _r(i,s,a,u){const c=Me(),p=zt(),y=20+i,w=c[11],I=c[y]=jm(w,s,function Ml(){return mt.lFrame.currentNamespace}()),S=p.firstCreatePass?function r0(i,s,a,u,c,p,y){const w=s.consts,S=fd(s,i,2,c,Zr(w,p));return sf(s,a,S,Zr(w,y)),null!==S.attrs&&vd(S,S.attrs,!1),null!==S.mergedAttrs&&vd(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(y,p,c,0,s,a,u):p.data[y];mr(S,!0);const O=S.mergedAttrs;null!==O&&ja(w,I,O);const U=S.classes;null!==U&&Zm(w,I,U);const W=S.styles;null!==W&&nw(w,I,W),64!=(64&S.flags)&&Np(p,c,I,S),0===function oa(){return mt.lFrame.elementDepthCount}()&&Vr(I,c),function bs(){mt.lFrame.elementDepthCount++}(),Eo(S)&&(Wp(p,c,S),function zp(i,s,a){if(fr(s)){const c=s.directiveEnd;for(let p=s.directiveStart;p<c;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}(p,S,c)),null!==u&&Zp(c,S)}function Nt(){let i=xn();Is()?function Ws(){mt.lFrame.isParent=!1}():(i=i.parent,mr(i,!1));const s=i;!function qs(){mt.lFrame.elementDepthCount--}();const a=zt();a.firstCreatePass&&(Pi(a,i),fr(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Vo(i){return 0!=(16&i.flags)}(s)&&il(a,s,Me(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ba(i){return 0!=(32&i.flags)}(s)&&il(a,s,Me(),s.stylesWithoutHost,!1)}function Ly(i,s,a,u){_r(i,s,a,u),Nt()}function sl(i){return!!i&&"function"==typeof i.then}function o0(i){return!!i&&"function"==typeof i.subscribe}const jr=o0;function Vy(i,s,a,u){const c=Me(),p=zt(),y=xn();return function ol(i,s,a,u,c,p,y,w){const I=Eo(u),O=i.firstCreatePass&&ng(i),U=s[8],W=tg(s);let re=!0;if(3&u.type||w){const Je=Cr(u,s),ht=w?w(Je):Je,Oe=W.length,Pt=w?It=>w(Kn(It[u.index])):u.index;if(vn(a)){let It=null;if(!w&&I&&(It=function Ar(i,s,a,u){const c=i.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const y=c[p];if(y===a&&c[p+1]===u){const w=s[7],I=c[p+2];return w.length>I?w[I]:null}"string"==typeof y&&(p+=2)}return null}(i,s,c,u.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=p,It.__ngLastListenerFn__=p,re=!1;else{p=yg(u,s,U,p,!1);const Gn=a.listen(ht,c,p);W.push(p,Gn),O&&O.push(c,Pt,Oe,Oe+1)}}else p=yg(u,s,U,p,!0),ht.addEventListener(c,p,y),W.push(p),O&&O.push(c,Pt,Oe,y)}else p=yg(u,s,U,p,!1);const Ce=u.outputs;let qe;if(re&&null!==Ce&&(qe=Ce[c])){const Je=qe.length;if(Je)for(let ht=0;ht<Je;ht+=2){const Ls=s[qe[ht]][qe[ht+1]].subscribe(p),Xn=W.length;W.push(p,Ls),O&&O.push(c,u.index,Xn,-(Xn+1))}}}(p,c,c[11],y,i,s,!!a,u),Vy}function mg(i,s,a,u){try{return!1!==a(u)}catch(c){return _d(i,c),!1}}function yg(i,s,a,u,c){return function p(y){if(y===Function)return u;const w=2&i.flags?_n(i.index,s):s;0==(32&s[2])&&wi(w);let I=mg(s,0,u,y),S=p.__ngNextListenerFn__;for(;S;)I=mg(s,0,S,y)&&I,S=S.__ngNextListenerFn__;return c&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function Rd(i=1){return function Na(i){return(mt.lFrame.contextLView=function xl(i,s){for(;i>0;)s=s[15],i--;return s}(i,mt.lFrame.contextLView))[8]}(i)}function cc(i,s,a){return _g(i,"",s,"",a),cc}function _g(i,s,a,u,c){const p=Me(),y=nc(p,s,a,u);return y!==Ht&&Li(zt(),Ln(),p,i,y,p[11],c,!1),_g}function vg(i,s,a,u,c){const p=i[a+1],y=null===s;let w=u?et(p):Go(p),I=!1;for(;0!==w&&(!1===I||y);){const O=i[w+1];If(i[w],s)&&(I=!0,i[w+1]=u?Qh(O):hd(O)),w=u?et(O):Go(O)}I&&(i[a+1]=u?hd(p):Qh(p))}function If(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&yi(i,s)>=0}function Wy(i,s){return function Ii(i,s,a,u){const c=Me(),p=zt(),y=function Oi(i){const s=mt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function Af(i,s,a,u){const c=i.data;if(null===c[a+1]){const p=c[Jn()],y=function Ld(i,s){return s>=i.expandoStartIndex}(i,a);(function Ky(i,s){return 0!=(i.flags&(s?16:32))})(p,u)&&null===s&&!y&&(s=!1),s=function Ig(i,s,a,u){const c=function Ys(i){const s=mt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(a=Vd(a=Zy(null,i,s,a,u),s.attrs,u),p=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==c)if(a=Zy(c,i,s,a,u),null===p){let I=function Di(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Go(u))return i[et(u)]}(i,s,u);void 0!==I&&Array.isArray(I)&&(I=Zy(null,i,s,I[1],u),I=Vd(I,s.attrs,u),function tI(i,s,a,u){i[et(a?s.classBindings:s.styleBindings)]=u}(i,s,u,I))}else p=function nI(i,s,a){let u;const c=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<c;p++)u=Vd(u,i[p].hostAttrs,a);return Vd(u,s.attrs,a)}(i,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),a}(c,p,s,u),function $y(i,s,a,u,c,p){let y=p?s.classBindings:s.styleBindings,w=et(y),I=Go(y);i[u]=a;let O,S=!1;if(Array.isArray(a)){const U=a;O=U[1],(null===O||yi(U,O)>0)&&(S=!0)}else O=a;if(c)if(0!==I){const W=et(i[w+1]);i[u+1]=ho(W,w),0!==W&&(i[W+1]=Yl(i[W+1],u)),i[w+1]=function Wt(i,s){return 131071&i|s<<17}(i[w+1],u)}else i[u+1]=ho(w,0),0!==w&&(i[w+1]=Yl(i[w+1],u)),w=u;else i[u+1]=ho(I,0),0===w?w=u:i[I+1]=Yl(i[I+1],u),I=u;S&&(i[u+1]=hd(i[u+1])),vg(i,O,u,!0),vg(i,O,u,!1),function Nd(i,s,a,u,c){const p=c?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&yi(p,s)>=0&&(a[u+1]=Qh(a[u+1]))}(s,O,i,u,p),y=ho(w,I),p?s.classBindings=y:s.styleBindings=y}(c,p,s,a,y,u)}}(p,i,y,u),s!==Ht&&bi(c,y,s)&&function l0(i,s,a,u,c,p,y,w){if(!(3&s.type))return;const I=i.data,S=I[w+1];yu(function lw(i){return 1==(1&i)}(S)?mu(I,s,a,c,Go(S),y):void 0)||(yu(p)||function Up(i){return 2==(2&i)}(S)&&(p=mu(I,null,a,c,w,y)),function cC(i,s,a,u,c){const p=vn(i);if(s)c?p?i.addClass(a,u):a.classList.add(u):p?i.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:Ca.DashCase;if(null==c)p?i.removeStyle(a,u,y):a.style.removeProperty(u);else{const w="string"==typeof c&&c.endsWith("!important");w&&(c=c.slice(0,-10),y|=Ca.Important),p?i.setStyle(a,u,c,y):a.style.setProperty(u,c,w?"important":"")}}}(u,y,nr(Jn(),a),c,p))}(p,p.data[Jn()],c,c[11],i,c[y+1]=function sI(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=de(ao(i)))),i}(s,a),u,y)}(i,s,null,!0),Wy}function Zy(i,s,a,u,c){let p=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(p=s[w],u=Vd(u,p.hostAttrs,c),p!==i);)w++;return null!==i&&(a.directiveStylingLast=w),u}function Vd(i,s,a){const u=a?1:2;let c=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?c=y:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),St(i,y,!!a||s[++p]))}return void 0===i?null:i}function mu(i,s,a,u,c,p){const y=null===s;let w;for(;c>0;){const I=i[c],S=Array.isArray(I),O=S?I[1]:I,U=null===O;let W=a[c+1];W===Ht&&(W=U?ct:void 0);let re=U?Wa(W,u):O===u?W:void 0;if(S&&!yu(re)&&(re=Wa(I,u)),yu(re)&&(w=re,y))return w;const Ce=i[c+1];c=y?et(Ce):Go(Ce)}if(null!==s){let I=p?s.residualClasses:s.residualStyles;null!=I&&(w=Wa(I,u))}return w}function yu(i){return void 0!==i}function Yy(i,s=""){const a=Me(),u=zt(),c=i+20,p=u.firstCreatePass?fd(u,c,1,s,null):u.data[c],y=a[c]=function Bm(i,s){return vn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Np(u,a,y,p),mr(p,!1)}function Yo(i){return Sf("",i,""),Yo}function Sf(i,s,a){const u=Me(),c=nc(u,i,s,a);return c!==Ht&&ou(u,Jn(),c),Sf}const mc=void 0;var lI=["en",[["a","p"],["AM","PM"],mc],[["AM","PM"],mc,mc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mc,"{1} 'at' {0}",mc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function n_(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let yc={};function _c(i){const s=function s_(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=i_(s);if(a)return a;const u=s.split("-")[0];if(a=i_(u),a)return a;if("en"===u)return lI;throw new Error(`Missing locale data for the locale "${i}".`)}function r_(i){return _c(i)[Mt.PluralCase]}function i_(i){return i in yc||(yc[i]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[i]),yc[i]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const pn="en-US";let ai=pn;function g_(i,s,a,u,c){if(i=se(i),Array.isArray(i))for(let p=0;p<i.length;p++)g_(i[p],s,a,u,c);else{const p=zt(),y=Me();let w=lu(i)?i:se(i.provide),I=el(i);const S=xn(),O=1048575&S.providerIndexes,U=S.directiveStart,W=S.providerIndexes>>20;if(lu(i)||!i.multi){const re=new Lo(I,c,Ef),Ce=me(w,s,c?O:O+W,U);-1===Ce?(Ts($a(S,y),p,w),kg(p,i,s.length),s.push(w),S.directiveStart++,S.directiveEnd++,c&&(S.providerIndexes+=1048576),a.push(re),y.push(re)):(a[Ce]=re,y[Ce]=re)}else{const re=me(w,s,O+W,U),Ce=me(w,s,O,O+W),qe=re>=0&&a[re],Je=Ce>=0&&a[Ce];if(c&&!Je||!c&&!qe){Ts($a(S,y),p,w);const ht=function jf(i,s,a,u,c){const p=new Lo(i,a,Ef);return p.multi=[],p.index=s,p.componentProviders=0,m_(p,c,u&&!a),p}(c?Xo:Ng,a.length,c,u,I);!c&&Je&&(a[Ce].providerFactory=ht),kg(p,i,s.length,0),s.push(w),S.directiveStart++,S.directiveEnd++,c&&(S.providerIndexes+=1048576),a.push(ht),y.push(ht)}else kg(p,i,re>-1?re:Ce,m_(a[c?Ce:re],I,!c&&u));!c&&u&&Je&&a[Ce].componentProviders++}}}function kg(i,s,a,u){const c=lu(s),p=function og(i){return!!i.useClass}(s);if(c||p){const I=(p?se(s.useClass):s).prototype.ngOnDestroy;if(I){const S=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const O=S.indexOf(a);-1===O?S.push(a,[u,I]):S[O+1].push(u,I)}else S.push(a,I)}}}function m_(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function me(i,s,a,u){for(let c=a;c<u;c++)if(s[c]===i)return c;return-1}function Ng(i,s,a,u){return y_(this.multi,[])}function Xo(i,s,a,u){const c=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=is(a,a[1],this.providerFactory.index,u);p=w.slice(0,y),y_(c,p);for(let I=y;I<w.length;I++)p.push(w[I])}else p=[],y_(c,p);return p}function y_(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function dl(i,s=[]){return a=>{a.providersResolver=(u,c)=>function z0(i,s,a){const u=zt();if(u.firstCreatePass){const c=pr(i);g_(a,u.data,u.blueprint,c,!0),g_(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class hl{}class ci{resolveComponentFactory(s){throw function W0(i){const s=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Ec=(()=>{class i{}return i.NULL=new ci,i})();function __(){return fl(xn(),Me())}function fl(i,s){return new mo(Cr(i,s))}let mo=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=__,i})();function Z0(i){return i instanceof mo?i.nativeElement:i}class v_{}let Lg=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Ic(){const i=Me(),a=_n(xn().index,i);return function Cc(i){return i[11]}(ei(a)?a:i)}(),i})(),zd=(()=>{class i{}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:()=>null}),i})();class Wd{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const w_=new Wd("13.1.3"),$f={};function Zd(i,s,a,u,c=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&u.push(Kn(p)),Si(p))for(let w=10;w<p.length;w++){const I=p[w],S=I[1].firstChild;null!==S&&Zd(I[1],I,S,u)}const y=a.type;if(8&y)Zd(i,s,a.child,u);else if(32&y){const w=Lm(a,s);let I;for(;I=w();)u.push(I)}else if(16&y){const w=Lp(s,a);if(Array.isArray(w))u.push(...w);else{const I=Zl(s[16]);Zd(I[1],I,w,u,!0)}}a=c?a.projectionNext:a.next}return u}class Kd{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Zd(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Si(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Gm(s,u),za(a,u))}this._attachedToViewContainer=!1}Wv(this._lView[1],this._lView)}onDestroy(s){Yp(this._lView[1],this._lView,null,s)}markForCheck(){wi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ly(i,s,a){Zs(!0);try{yd(i,s,a)}finally{Zs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Le(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oC(i,s){Yh(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Le(902,"");this._appRef=s}}class LI extends Kd{constructor(s){super(s),this._view=s}detectChanges(){uy(this._view)}checkNoChanges(){!function Rw(i){Zs(!0);try{uy(i)}finally{Zs(!1)}}(this._view)}get context(){return null}}class b_ extends Ec{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=We(s);return new I_(a,this.ngModule)}}function E_(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const Hf=new Dn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>jv});class I_ extends hl{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function gC(i){return i.map(BT).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return E_(this.componentDef.inputs)}get outputs(){return E_(this.componentDef.outputs)}create(s,a,u,c){const p=(c=c||this.ngModule)?function Yd(i,s){return{get:(a,u,c)=>{const p=i.get(a,$f,c);return p!==$f||u===$f?p:s.get(a,u,c)}}}(s,c.injector):s,y=p.get(v_,Gs),w=p.get(zd,null),I=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",O=u?function Cw(i,s,a){if(vn(i))return i.selectRootElement(s,a===Dt.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(I,u,this.componentDef.encapsulation):jm(y.createRenderer(null,this.componentDef),S,function C_(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(S)),U=this.componentDef.onPush?576:528,W=function lg(i,s){return{components:[],scheduler:i||jv,clean:cy,playerHandler:s||null,flags:0}}(),re=rf(0,null,null,1,0,null,null,null,null,null),Ce=iu(null,re,W,U,null,null,y,I,w,p);let qe,Je;Js(Ce);try{const ht=function vy(i,s,a,u,c,p){const y=a[1];a[20]=i;const I=fd(y,20,2,"#host",null),S=I.mergedAttrs=s.hostAttrs;null!==S&&(vd(I,S,!0),null!==i&&(ja(c,i,S),null!==I.classes&&Zm(c,i,I.classes),null!==I.styles&&nw(c,i,I.styles)));const O=u.createRenderer(i,s),U=iu(a,bw(s),null,s.onPush?64:16,a[20],I,u,O,p||null,null);return y.firstCreatePass&&(Ts($a(I,a),y,s.type),Jp(y,I),pd(I,a.length,1)),lf(a,U),a[20]=U}(O,this.componentDef,Ce,y,I);if(O)if(u)ja(I,O,["ng-version",w_.full]);else{const{attrs:Oe,classes:Pt}=function tu(i){const s=[],a=[];let u=1,c=2;for(;u<i.length;){let p=i[u];if("string"==typeof p)2===c?""!==p&&s.push(p,i[++u]):8===c&&a.push(p);else{if(!Ho(c))break;c=p}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Oe&&ja(I,O,Oe),Pt&&Pt.length>0&&Zm(I,O,Pt.join(" "))}if(Je=Ao(re,20),void 0!==a){const Oe=Je.projection=[];for(let Pt=0;Pt<this.ngContentSelectors.length;Pt++){const It=a[Pt];Oe.push(null!=It?Array.from(It):null)}}qe=function wy(i,s,a,u,c){const p=a[1],y=function iy(i,s,a){const u=xn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ay(i,u,s,su(i,s,1,null),a));const c=is(s,i,u.directiveStart,u);Vr(c,s);const p=Cr(u,s);return p&&Vr(p,s),c}(p,a,s);if(u.components.push(y),i[8]=y,c&&c.forEach(I=>I(y,s)),s.contentQueries){const I=xn();s.contentQueries(1,y,I.directiveStart)}const w=xn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Mr(w.index),Dw(a[1],w,0,w.directiveStart,w.directiveEnd,s),of(s,y)),y}(ht,this.componentDef,Ce,W,[BC]),Qu(re,Ce,null)}finally{eo()}return new VI(this.componentType,qe,fl(Je,Ce),Ce,Je)}}class VI extends class NI{}{constructor(s,a,u,c,p){super(),this.location=u,this._rootLView=c,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new LI(c),this.componentType=s}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class vu{}class wu{}const yo=new Map;class D_ extends vu{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new b_(this);const u=Ut(s);this._bootstrapComponents=eu(u.bootstrap),this._r3Injector=sg(s,a,[{provide:vu,useValue:this},{provide:Ec,useValue:this.componentFactoryResolver}],de(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Ji.THROW_IF_NOT_FOUND,u=lt.Default){return s===Ji||s===vu||s===ig?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Dc extends wu{constructor(s){super(),this.moduleType=s,null!==Ut(s)&&function jI(i){const s=new Set;!function a(u){const c=Ut(u,!0),p=c.id;null!==p&&(function Y0(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${de(s)} vs ${de(s.name)}`)}(p,yo.get(p),u),yo.set(p,u));const y=eu(c.imports);for(const w of y)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new D_(this.moduleType,s)}}function T_(i,s,a,u,c){return function eb(i,s,a,u,c,p,y){const w=s+a;return function Xi(i,s,a,u){const c=bi(i,s,a);return bi(i,s+1,u)||c}(i,w,c,p)?function zo(i,s,a){return i[s]=a}(i,w+2,y?u.call(y,c,p):u(c,p)):function Jd(i,s){const a=i[s];return a===Ht?void 0:a}(i,w+2)}(Me(),function or(){const i=mt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,a,u,c)}function M_(i){return s=>{setTimeout(i,void 0,s)}}const Ta=class nb extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var c,p,y;let w=s,I=a||(()=>null),S=u;if(s&&"object"==typeof s){const U=s;w=null===(c=U.next)||void 0===c?void 0:c.bind(U),I=null===(p=U.error)||void 0===p?void 0:p.bind(U),S=null===(y=U.complete)||void 0===y?void 0:y.bind(U)}this.__isAsync&&(I=M_(I),w&&(w=M_(w)),S&&(S=M_(S)));const O=super.subscribe({next:w,error:I,complete:S});return s instanceof j.w0&&s.add(O),O}};function rb(){return this._results[Ad()]()}class Eu{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ad(),u=Eu.prototype;u[a]||(u[a]=rb)}get changes(){return this._changes||(this._changes=new Ta)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const c=mi(s);(this._changesDetected=!function Sh(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],p=s[u];if(a&&(c=a(c),p=a(p)),p!==c)return!1}return!0}(u._results,c,a))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Cu=(()=>{class i{}return i.__NG_ELEMENT_ID__=zI,i})();const ib=Cu,sb=class extends ib{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=iu(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(a)),Qu(a,u,s),new Kd(u)}};function zI(){return qf(xn(),Me())}function qf(i,s){return 4&i.type?new sb(s,i,fl(i,s)):null}let Xd=(()=>{class i{}return i.__NG_ELEMENT_ID__=O_,i})();function O_(){return $g(xn(),Me())}const zf=Xd,Wf=class extends zf{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return fl(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){const s=Or(this._hostTNode,this._hostLView);if(M(s)){const a=dt(s,this._hostLView),u=$(s);return new tn(a[1].data[u+8],a)}return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=jg(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const c=s.createEmbeddedView(a||{});return this.insert(c,u),c}createComponent(s,a,u,c,p){const y=s&&!function va(i){return"function"==typeof i}(s);let w;if(y)w=a;else{const U=a||{};w=U.index,u=U.injector,c=U.projectableNodes,p=U.ngModuleRef}const I=y?s:new I_(We(s)),S=u||this.parentInjector;if(!p&&null==I.ngModule&&S){const U=S.get(vu,null);U&&(p=U)}const O=I.create(S,c,void 0,p);return this.insert(O.hostView,w),O}insert(s,a){const u=s._lView,c=u[1];if(function So(i){return Si(i[3])}(u)){const O=this.indexOf(s);if(-1!==O)this.detach(O);else{const U=u[3],W=new Wf(U,U[6],U[3]);W.detach(W.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function $m(i,s,a,u){const c=10+u,p=a.length;u>0&&(a[c-1][4]=s),u<p-10?(s[4]=a[c],Uu(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function Hm(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(c,u,y,p);const w=Wm(p,y),I=u[11],S=Rp(I,y[7]);return null!==S&&function Ps(i,s,a,u,c,p){u[0]=c,u[6]=s,Yh(i,u,a,1,c,p)}(c,y[6],I,u,S,w),s.attachToViewContainerRef(),Uu(P_(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=jg(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Gm(this._lContainer,a);u&&(za(P_(this._lContainer),a),Wv(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=Gm(this._lContainer,a);return u&&null!=za(P_(this._lContainer),a)?new Kd(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function jg(i){return i[8]}function P_(i){return i[8]||(i[8]=[])}function $g(i,s){let a;const u=s[i.index];if(Si(u))a=u;else{let c;if(8&i.type)c=Kn(u);else{const p=s[11];c=p.createComment("");const y=Cr(i,s);dd(p,Rp(p,y),c,function Kv(i,s){return vn(i)?i.nextSibling(s):s.nextSibling}(p,y),!1)}s[i.index]=a=xw(u,s,c,i),lf(s,a)}return new Wf(a,i,s)}class Hg{constructor(s){this.queryList=s,this.matches=null}clone(){return new Hg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zf{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let p=0;p<u;p++){const y=a.getByIndex(p);c.push(this.queries[y.indexInDeclarationView].clone())}return new Zf(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==hb(s,a).matches&&this.queries[a].setDirty()}}class ab{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class Gg{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const c=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(s,c);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new Gg(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class R_{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new R_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const p=u[c];this.matchTNodeWithReadOption(s,a,ub(a,p)),this.matchTNodeWithReadOption(s,a,Ni(a,s,p,!1,!1))}else u===Cu?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ni(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===mo||c===Xd||c===Cu&&4&a.type)this.addMatch(a.index,-2);else{const p=Ni(a,s,c,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function ub(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function eh(i,s,a,u){return-1===a?function KI(i,s){return 11&i.type?fl(i,s):4&i.type?qf(i,s):null}(s,i):-2===a?function th(i,s,a){return a===mo?fl(s,i):a===Cu?qf(s,i):a===Xd?$g(s,i):void 0}(i,s,u):is(i,i[1],a,s)}function qg(i,s,a,u){const c=s[19].queries[u];if(null===c.matches){const p=i.data,y=a.matches,w=[];for(let I=0;I<y.length;I+=2){const S=y[I];w.push(S<0?null:eh(s,p[S],y[I+1],a.metadata.read))}c.matches=w}return c.matches}function nh(i,s,a,u){const c=i.queries.getByIndex(a),p=c.matches;if(null!==p){const y=qg(i,s,c,a);for(let w=0;w<p.length;w+=2){const I=p[w];if(I>0)u.push(y[w/2]);else{const S=p[w+1],O=s[-I];for(let U=10;U<O.length;U++){const W=O[U];W[17]===W[3]&&nh(W[1],W,S,u)}if(null!==O[9]){const U=O[9];for(let W=0;W<U.length;W++){const re=U[W];nh(re[1],re,S,u)}}}}}return u}function k_(i){const s=Me(),a=zt(),u=la();Qs(u+1);const c=hb(a,u);if(i.dirty&&_s(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const p=c.crossesNgTemplate?nh(a,s,u,[]):qg(a,s,c,u);i.reset(p,Z0),i.notifyOnChanges()}return!0}return!1}function N_(i,s,a,u){const c=zt();if(c.firstCreatePass){const p=xn();(function zg(i,s,a){null===i.queries&&(i.queries=new Gg),i.queries.track(new R_(s,a))})(c,new ab(s,a,u),p.index),function YI(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function db(i,s,a){const u=new Eu(4==(4&a));Yp(i,s,u,u.destroy),null===s[19]&&(s[19]=new Zf),s[19].queries.push(new Hg(u))}(c,Me(),a)}function cb(){return function F_(i,s){return i[19].queries[s].queryList}(Me(),la())}function hb(i,s){return i.queries.getByIndex(s)}function Iu(...i){}const G_=new Dn("Application Initializer");let lh=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Iu,this.reject=Iu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(sl(p))a.push(p);else if(jr(p)){const y=new Promise((w,I)=>{p.subscribe({complete:w,error:I})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(c=>{this.reject(c)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(ee(G_,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const q_=new Dn("AppId"),sD={provide:q_,useFactory:function Mb(){return`${Xf()}${Xf()}${Xf()}`},deps:[]};function Xf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ob=new Dn("Platform Initializer"),em=new Dn("Platform ID"),Pb=new Dn("appBootstrapListener");let kb=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const ch=new Dn("LocaleId"),z_=new Dn("DefaultCurrencyCode");class dh{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Aa=(()=>{class i{compileModuleSync(a){return new Dc(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=eu(Ut(a).declarations).reduce((y,w)=>{const I=We(w);return I&&y.push(new I_(I)),y},[]);return new dh(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const hh=(()=>Promise.resolve(0))();function tm(i){"undefined"==typeof Zone?hh.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Fs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ta(!1),this.onMicrotaskEmpty=new Ta(!1),this.onStable=new Ta(!1),this.onError=new Ta(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&a,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function fh(){let i=Ct.requestAnimationFrame,s=Ct.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function K_(i){const s=()=>{!function Z_(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ct,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,np(i),i.isCheckStableRunning=!0,tp(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),np(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,c,p,y,w)=>{try{return Vb(i),a.invokeTask(c,p,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),Ub(i)}},onInvoke:(a,u,c,p,y,w,I)=>{try{return Vb(i),a.invoke(c,p,y,w,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),Ub(i)}},onHasTask:(a,u,c,p)=>{a.hasTask(c,p),u===c&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,np(i),tp(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,c,p)=>(a.handleError(c,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,c){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+c,s,oD,Iu,Iu);try{return p.runTask(y,a,u)}finally{p.cancelTask(y)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const oD={};function tp(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function np(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Vb(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Ub(i){i._nesting--,tp(i)}class Y_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ta,this.onMicrotaskEmpty=new Ta,this.onStable=new Ta,this.onError=new Ta}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,c){return s.apply(a,u)}}let nm=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),tm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,c){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:c})}whenStable(a,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(ee(Fs))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),Bb=(()=>{class i{constructor(){this._applications=new Map,rm.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return rm.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();class jb{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function aD(i){rm=i}let _o,rm=new jb;const Hb=new Dn("AllowMultipleToken");class cD{constructor(s,a){this.name=s,this.token=a}}function im(i,s,a=[]){const u=`Platform: ${s}`,c=new Dn(u);return(p=[])=>{let y=qb();if(!y||y.injector.get(Hb,!1))if(i)i(a.concat(p).concat({provide:c,useValue:!0}));else{const w=a.concat(p).concat({provide:c,useValue:!0},{provide:py,useValue:"platform"});!function dD(i){if(_o&&!_o.destroyed&&!_o.injector.get(Hb,!1))throw new Le(400,"");_o=i.get(sm);const s=i.get(Ob,null);s&&s.forEach(a=>a())}(Ji.create({providers:w,name:u}))}return function Q_(i){const s=qb();if(!s)throw new Le(401,"");return s}()}}function qb(){return _o&&!_o.destroyed?_o:null}let sm=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const w=function hD(i,s){let a;return a="noop"===i?new Y_:("zone.js"===i?void 0:i)||new Fs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),I=[{provide:Fs,useValue:w}];return w.run(()=>{const S=Ji.create({providers:I,parent:this.injector,name:a.moduleType.name}),O=a.create(S),U=O.injector.get(Zh,null);if(!U)throw new Le(402,"");return w.runOutsideAngular(()=>{const W=w.onError.subscribe({next:re=>{U.handleError(re)}});O.onDestroy(()=>{om(this._modules,O),W.unsubscribe()})}),function J_(i,s,a){try{const u=a();return sl(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(U,w,()=>{const W=O.injector.get(lh);return W.runInitializers(),W.donePromise.then(()=>(function sr(i){gt(i,"Expected localeId to be defined"),"string"==typeof i&&(ai=i.toLowerCase().replace(/_/g,"-"))}(O.injector.get(ch,pn)||pn),this._moduleDoBootstrap(O),O))})})}bootstrapModule(a,u=[]){const c=X_({},u);return function $b(i,s,a){const u=new Dc(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(a){const u=a.injector.get(Mc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Le(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(ee(Ji))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();function X_(i,s){return Array.isArray(s)?s.reduce(X_,i):Object.assign(Object.assign({},i),s)}let Mc=(()=>{class i{constructor(a,u,c,p,y){this._zone=a,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new k.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),I=new k.y(S=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),tm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{O.unsubscribe(),U.unsubscribe()}});this.isStable=(0,oe.T)(w,I.pipe((0,ae.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Le(405,"");let c;c=a instanceof hl?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const p=function lD(i){return i.isBoundToModule}(c)?void 0:this._injector.get(vu),w=c.create(Ji.NULL,[],u||c.selector,p),I=w.location.nativeElement,S=w.injector.get(nm,null),O=S&&w.injector.get(Bb);return S&&O&&O.registerApplication(I,S),w.onDestroy(()=>{this.detachView(w.hostView),om(this.components,w),O&&O.unregisterApplication(I)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Le(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;om(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Pb,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(ee(Fs),ee(Ji),ee(Zh),ee(Ec),ee(lh))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();function om(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Wb=!0,am=!1;function fD(){return am=!0,Wb}function tv(){if(am)throw new Error("Cannot enable prod mode after platform setup.");Wb=!1}let nv=(()=>{class i{}return i.__NG_ELEMENT_ID__=ph,i})();function ph(i){return function Kb(i,s,a){if(ps(i)&&!a){const u=_n(i.index,s);return new Kd(u,u)}return 47&i.type?new Kd(s[16],s):null}(xn(),Me(),16==(16&i))}class rE{constructor(){}supports(s){return yf(s)}create(s){return new sE(s)}}const iE=(i,s)=>s;class sE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||iE}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,c=0,p=null;for(;a||u;){const y=!u||a&&a.currentIndex<sp(u,c,p)?a:u,w=sp(y,c,p),I=y.currentIndex;if(y===u)c--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)c++;else{p||(p=[]);const S=w-c,O=I-c;if(S!=O){for(let W=0;W<S;W++){const re=W<p.length?p[W]:p[W]=0,Ce=re+W;O<=Ce&&Ce<S&&(p[W]=re+1)}p[y.previousIndex]=O-S}}w!==I&&s(y,w,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!yf(s))throw new Le(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,p,y,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],y=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,p,y,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,w),u=!0),a=a._next}else c=0,function Zw(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Ad()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,w=>{y=this._trackByFn(c,w),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,w,y,c)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,c),u=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,c){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,c)):s=this._addAfter(new _D(a,u),p,c),s}_verifyReinsertion(s,a,u,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,p=s._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new ov),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ov),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class _D{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sv{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class ov{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new sv,this.map.set(a,u)),u.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sp(i,s,a){const u=i.previousIndex;if(null===u)return u;let c=0;return a&&u<a.length&&(c=a[u]),u+s+c}class oE{constructor(){}supports(s){return s instanceof Map||cg(s)}create(){return new vD}}class vD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||cg(s)))throw new Le(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(c,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const p=c._prev,y=c._next;return p&&(p._next=y),y&&(y._prev=p),c._next=null,c._prev=null,c}const u=new wD(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class wD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aE(){return new op([new rE])}let op=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||aE()),deps:[[i,new xs,new On]]}}find(a){const u=this.factories.find(c=>c.supports(a));if(null!=u)return u;throw new Le(901,"")}}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:aE}),i})();function av(){return new mh([new oE])}let mh=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||av()),deps:[[i,new xs,new On]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new Le(901,"")}}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:av}),i})();const uv=[new oE],fm=new op([new rE]),cv=new mh(uv),dv=im(null,"core",[{provide:em,useValue:"unknown"},{provide:sm,deps:[Ji]},{provide:Bb,deps:[]},{provide:kb,deps:[]}]),ED=[{provide:Mc,useClass:Mc,deps:[Fs,Ji,Zh,Ec,lh]},{provide:Hf,deps:[Fs],useFactory:function CD(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:lh,useClass:lh,deps:[[new On,G_]]},{provide:Aa,useClass:Aa,deps:[]},sD,{provide:op,useFactory:function lE(){return fm},deps:[]},{provide:mh,useFactory:function hv(){return cv},deps:[]},{provide:ch,useFactory:function yh(i){return i||function fv(){return"undefined"!=typeof $localize&&$localize.locale||pn}()},deps:[[new Lr(ch),new On,new xs]]},{provide:z_,useValue:"USD"}];let ID=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(ee(Mc))},i.\u0275mod=L({type:i}),i.\u0275inj=vr({providers:ED}),i})()},3942:(vt,Se,V)=>{"use strict";V.d(Se,{Z:()=>Le});var d=V(2090),j=V(4859),k=V(9681),oe=V(1877);class ae{constructor(ve,ye){this._delegate=ve,this.firebase=ye,(0,k._addComponent)(ve,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ve,ye=k._DEFAULT_ENTRY_NAME){var Ue;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(ve);return!$e.isInitialized()&&"EXPLICIT"===(null===(Ue=$e.getComponent())||void 0===Ue?void 0:Ue.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:ye})}_removeServiceInstance(ve,ye=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ye)}_addComponent(ve){(0,k._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,k._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ge(){const je=function de(je){const ve={},ye={__esModule:!0,initializeApp:function He(Y,yt={}){const ne=k.initializeApp(Y,yt);if((0,d.r3)(ve,ne.name))return ve[ne.name];const _e=new je(ne,ye);return ve[ne.name]=_e,_e},app:$e,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Pe(Y){const yt=Y.name,ne=yt.replace("-compat","");if(k._registerComponent(Y)&&"PUBLIC"===Y.type){const _e=(he=$e())=>{if("function"!=typeof he[ne])throw ce.create("invalid-app-argument",{appName:yt});return he[ne]()};void 0!==Y.serviceProps&&(0,d.ZB)(_e,Y.serviceProps),ye[ne]=_e,je.prototype[ne]=function(...he){return this._getService.bind(this,yt).apply(this,Y.multipleInstances?he:[])}}return"PUBLIC"===Y.type?ye[ne]:null},removeApp:function Ue(Y){delete ve[Y]},useAsService:function at(Y,yt){return"serverAuth"===yt?null:yt},modularAPIs:k}};function $e(Y){if(!(0,d.r3)(ve,Y=Y||k._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:Y});return ve[Y]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function rt(){return Object.keys(ve).map(Y=>ve[Y])}}),$e.App=je,ye}(ae);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function ve(ye){(0,d.ZB)(je,ye)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),je}(),K=new oe.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=z;!function Re(je){(0,k.registerVersion)("@firebase/app-compat","0.1.21",je)}()},9681:(vt,Se,V)=>{"use strict";V.r(Se),V.d(Se,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Sr,_DEFAULT_ENTRY_NAME:()=>Wn,_addComponent:()=>En,_addOrOverwriteComponent:()=>dr,_apps:()=>ut,_clearComponents:()=>Tn,_components:()=>rn,_getProvider:()=>hr,_registerComponent:()=>Kt,_removeServiceInstance:()=>vr,deleteApp:()=>sn,getApp:()=>ke,getApps:()=>Cn,initializeApp:()=>wr,onLog:()=>yn,registerVersion:()=>Nn,setLogLevel:()=>cn});var d=V(5861),j=V(4859),k=V(1877),oe=V(2090);class ae{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function Ee(Te){const Ae=Te.getComponent();return"VERSION"===(null==Ae?void 0:Ae.type)}(it)){const Et=it.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(it=>it).join(" ")}}const ce="@firebase/app",ge=new k.Yd("@firebase/app"),Wn="[DEFAULT]",gt={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ut=new Map,rn=new Map;function En(Te,Ae){try{Te.container.addComponent(Ae)}catch(it){ge.debug(`Component ${Ae.name} failed to register with FirebaseApp ${Te.name}`,it)}}function dr(Te,Ae){Te.container.addOrOverwriteComponent(Ae)}function Kt(Te){const Ae=Te.name;if(rn.has(Ae))return ge.debug(`There were multiple attempts to register component ${Ae}.`),!1;rn.set(Ae,Te);for(const it of ut.values())En(it,Te);return!0}function hr(Te,Ae){const it=Te.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),Te.container.getProvider(Ae)}function vr(Te,Ae,it=Wn){hr(Te,Ae).clearInstance(it)}function Tn(){rn.clear()}const An=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class di{constructor(Ae,it,Et){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const Sr="9.6.10";function wr(Te,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const it=Object.assign({name:Wn,automaticDataCollectionEnabled:!1},Ae),Et=it.name;if("string"!=typeof Et||!Et)throw An.create("bad-app-name",{appName:String(Et)});const en=ut.get(Et);if(en){if((0,oe.vZ)(Te,en.options)&&(0,oe.vZ)(it,en.config))return en;throw An.create("duplicate-app",{appName:Et})}const Lt=new j.H0(Et);for(const G of rn.values())Lt.addComponent(G);const Z=new di(Te,it,Lt);return ut.set(Et,Z),Z}function ke(Te=Wn){const Ae=ut.get(Te);if(!Ae)throw An.create("no-app",{appName:Te});return Ae}function Cn(){return Array.from(ut.values())}function sn(Te){return lt.apply(this,arguments)}function lt(){return(lt=(0,d.Z)(function*(Te){const Ae=Te.name;ut.has(Ae)&&(ut.delete(Ae),yield Promise.all(Te.container.getProviders().map(it=>it.delete())),Te.isDeleted=!0)})).apply(this,arguments)}function Nn(Te,Ae,it){var Et;let en=null!==(Et=gt[Te])&&void 0!==Et?Et:Te;it&&(en+=`-${it}`);const Lt=en.match(/\s|\//),Z=Ae.match(/\s|\//);if(Lt||Z){const G=[`Unable to register library "${en}" with version "${Ae}":`];return Lt&&G.push(`library name "${en}" contains illegal characters (whitespace or "/")`),Lt&&Z&&G.push("and"),Z&&G.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void ge.warn(G.join(" "))}Kt(new j.wA(`${en}-version`,()=>({library:en,version:Ae}),"VERSION"))}function yn(Te,Ae){if(null!==Te&&"function"!=typeof Te)throw An.create("invalid-log-argument");(0,k.Am)(Te,Ae)}function cn(Te){(0,k.Ub)(Te)}const wt="firebase-heartbeat-store";let dn=null;function er(){return dn||(dn=(0,oe.X3)("firebase-heartbeat-database",1,(Te,Ae)=>{0===Ae&&Te.createObjectStore(wt)}).catch(Te=>{throw An.create("storage-open",{originalErrorMessage:Te.message})})),dn}function Dt(){return(Dt=(0,d.Z)(function*(Te){try{return(yield er()).transaction(wt).objectStore(wt).get(Nr(Te))}catch(Ae){throw An.create("storage-get",{originalErrorMessage:Ae.message})}})).apply(this,arguments)}function Xe(Te,Ae){return _t.apply(this,arguments)}function _t(){return(_t=(0,d.Z)(function*(Te,Ae){try{const Et=(yield er()).transaction(wt,"readwrite");return yield Et.objectStore(wt).put(Ae,Nr(Te)),Et.complete}catch(it){throw An.create("storage-set",{originalErrorMessage:it.message})}})).apply(this,arguments)}function Nr(Te){return`${Te.name}!${Te.options.appId}`}class Jr{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new ct(it),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Ae=this;return(0,d.Z)(function*(){const Et=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),en=tr();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==en&&!Ae._heartbeatsCache.heartbeats.some(Lt=>Lt.date===en))return Ae._heartbeatsCache.heartbeats.push({date:en,agent:Et}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Lt=>{const Z=new Date(Lt.date).valueOf();return Date.now()-Z<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,d.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const it=tr(),{heartbeatsToSend:Et,unsentEntries:en}=function hn(Te,Ae=1024){const it=[];let Et=Te.slice();for(const en of Te){const Lt=it.find(Z=>Z.agent===en.agent);if(Lt){if(Lt.dates.push(en.date),qn(it)>Ae){Lt.dates.pop();break}}else if(it.push({agent:en.agent,dates:[en.date]}),qn(it)>Ae){it.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:it,unsentEntries:Et}}(Ae._heartbeatsCache.heartbeats),Lt=(0,oe.L)(JSON.stringify({version:2,heartbeats:Et}));return Ae._heartbeatsCache.lastSentHeartbeatDate=it,en.length>0?(Ae._heartbeatsCache.heartbeats=en,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Lt})()}}function tr(){return(new Date).toISOString().substring(0,10)}class ct{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,d.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function Gr(Te){return Dt.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var it=this;return(0,d.Z)(function*(){var Et;if(yield it._canUseIndexedDBPromise){const Lt=yield it.read();return Xe(it.app,{lastSentHeartbeatDate:null!==(Et=Ae.lastSentHeartbeatDate)&&void 0!==Et?Et:Lt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var it=this;return(0,d.Z)(function*(){var Et;if(yield it._canUseIndexedDBPromise){const Lt=yield it.read();return Xe(it.app,{lastSentHeartbeatDate:null!==(Et=Ae.lastSentHeartbeatDate)&&void 0!==Et?Et:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...Ae.heartbeats]})}})()}}function qn(Te){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Te})).length}!function Zt(Te){Kt(new j.wA("platform-logger",Ae=>new ae(Ae),"PRIVATE")),Kt(new j.wA("heartbeat",Ae=>new Jr(Ae),"PRIVATE")),Nn(ce,"0.7.20",Te),Nn(ce,"0.7.20","esm2017"),Nn("fire-js","")}("")},4859:(vt,Se,V)=>{"use strict";V.d(Se,{wA:()=>k,H0:()=>de});var d=V(5861),j=V(2090);class k{constructor(z,K,se){this.name=z,this.instanceFactory=K,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const oe="[DEFAULT]";class ae{constructor(z,K){this.name=z,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const K=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(K)){const se=new j.BH;if(this.instancesDeferred.set(K,se),this.isInitialized(K)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:K});Ke&&se.resolve(Ke)}catch(Ke){}}return this.instancesDeferred.get(K).promise}getImmediate(z){var K;const se=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),Ke=null!==(K=null==z?void 0:z.optional)&&void 0!==K&&K;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Re){if(Ke)return null;throw Re}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ce(ge){return"EAGER"===ge.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(K){}for(const[K,se]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(K);try{const Re=this.getOrInitializeService({instanceIdentifier:Ke});se.resolve(Re)}catch(Re){}}}}clearInstance(z=oe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,d.Z)(function*(){const K=Array.from(z.instances.values());yield Promise.all([...K.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...K.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=oe){return this.instances.has(z)}getOptions(z=oe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:K={}}=z,se=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:se,options:K});for(const[Re,Le]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Re)&&Le.resolve(Ke);return Ke}onInit(z,K){var se;const Ke=this.normalizeInstanceIdentifier(K),Re=null!==(se=this.onInitCallbacks.get(Ke))&&void 0!==se?se:new Set;Re.add(z),this.onInitCallbacks.set(Ke,Re);const Le=this.instances.get(Ke);return Le&&z(Le,Ke),()=>{Re.delete(z)}}invokeOnInitCallbacks(z,K){const se=this.onInitCallbacks.get(K);if(se)for(const Ke of se)try{Ke(z,K)}catch(Re){}}getOrInitializeService({instanceIdentifier:z,options:K={}}){let se=this.instances.get(z);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=z,ge===oe?void 0:ge),options:K}),this.instances.set(z,se),this.instancesOptions.set(z,K),this.invokeOnInitCallbacks(se,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,se)}catch(Ke){}var ge;return se||null}normalizeInstanceIdentifier(z=oe){return this.component?this.component.multipleInstances?z:oe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const K=this.getProvider(z.name);if(K.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);K.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const K=new ae(z,this);return this.providers.set(z,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Se,V)=>{"use strict";V.d(Se,{in:()=>j,Yd:()=>ce,Ub:()=>de,Am:()=>ge});const d=[];var j=(()=>{return(z=j||(j={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",j;var z})();const k={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},oe=j.INFO,ae={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},Ee=(z,K,...se)=>{if(K<z.logLevel)return;const Ke=(new Date).toISOString(),Re=ae[K];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Re](`[${Ke}]  ${z.name}:`,...se)};class ce{constructor(K){this.name=K,this._logLevel=oe,this._logHandler=Ee,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in j))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?k[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...K),this._logHandler(this,j.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...K),this._logHandler(this,j.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,j.INFO,...K),this._logHandler(this,j.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,j.WARN,...K),this._logHandler(this,j.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...K),this._logHandler(this,j.ERROR,...K)}}function de(z){d.forEach(K=>{K.setLogLevel(z)})}function ge(z,K){for(const se of d){let Ke=null;K&&K.level&&(Ke=k[K.level]),se.userLogHandler=null===z?null:(Re,Le,...je)=>{const ve=je.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch(Ue){return null}}).filter(ye=>ye).join(" ");Le>=(null!=Ke?Ke:Re.logLevel)&&z({level:j[Le].toLowerCase(),message:ve,args:je,type:Re.name})}}}},5861:(vt,Se,V)=>{"use strict";function d(k,oe,ae,Ee,ce,de,ge){try{var z=k[de](ge),K=z.value}catch(se){return void ae(se)}z.done?oe(K):Promise.resolve(K).then(Ee,ce)}function j(k){return function(){var oe=this,ae=arguments;return new Promise(function(Ee,ce){var de=k.apply(oe,ae);function ge(K){d(de,Ee,ce,ge,z,"next",K)}function z(K){d(de,Ee,ce,ge,z,"throw",K)}ge(void 0)})}}V.d(Se,{Z:()=>j})}},vt=>{vt(vt.s=1026)}]);